if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return n(r?r:e)},l,l.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,r,i){(function(e,i){!function(){function n(){}function o(t){return t}function s(t){return!!t}function a(t){return!t}function h(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function u(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function l(t){return j(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function c(t,e){for(var r=-1,i=t.length;++r<i;)e(t[r],r,t)}function p(t,e){for(var r=-1,i=t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function d(t){return p(Array(t),function(t,e){return e})}function f(t,e,r){return c(t,function(t,i,n){r=e(r,t,i,n)}),r}function v(t,e){c(Y(t),function(r){e(t[r],r)})}function g(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}function m(t){var e,r,i=-1;return l(t)?(e=t.length,function(){return i++,e>i?i:null}):(r=Y(t),e=r.length,function(){return i++,e>i?r[i]:null})}function y(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),i=Array(r),n=0;r>n;n++)i[n]=arguments[n+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i)}}}function x(t){return function(e,r,i){return t(e,i)}}function b(t){return function(e,r,i){i=u(i||n),e=e||[];var o=m(e);if(0>=t)return i(null);var s=!1,a=0,l=!1;!function c(){if(s&&0>=a)return i(null);for(;t>a&&!l;){var n=o();if(null===n)return s=!0,void(0>=a&&i(null));a+=1,r(e[n],n,h(function(t){a-=1,t?(i(t),l=!0):c()}))}}()}}function _(t){return function(e,r,i){return t(N.eachOf,e,r,i)}}function T(t){return function(e,r,i,n){return t(b(r),e,i,n)}}function E(t){return function(e,r,i){return t(N.eachOfSeries,e,r,i)}}function S(t,e,r,i){i=u(i||n),e=e||[];var o=l(e)?[]:{};t(e,function(t,e,i){r(t,function(t,r){o[e]=r,i(t)})},function(t){i(t,o)})}function w(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(r){r&&n.push({index:e,value:t}),i()})},function(){i(p(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function A(t,e,r,i){w(t,e,function(t,e){r(t,function(t){e(!t)})},i)}function C(t,e,r){return function(i,n,o,s){function a(){s&&s(r(!1,void 0))}function h(t,i,n){return s?void o(t,function(i){s&&e(i)&&(s(r(!0,t)),s=o=!1),n()}):n()}arguments.length>3?t(i,n,h,a):(s=o,o=n,t(i,h,a))}}function M(t,e){return e}function R(t,e,r){r=r||n;var i=l(e)?[]:{};t(e,function(t,e,r){t(y(function(t,n){n.length<=1&&(n=n[0]),i[e]=n,r(t)}))},function(t){r(t,i)})}function O(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(t,e){n=n.concat(e||[]),i(t)})},function(t){i(t,n)})}function P(t,e,r){function i(t,e,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length&&t.idle()?N.setImmediate(function(){t.drain()}):(c(e,function(e){var o={data:e,callback:i||n};r?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void N.setImmediate(t.process))}function o(t,e){return function(){s-=1;var r=!1,i=arguments;c(e,function(t){c(a,function(e,i){e!==t||r||(a.splice(i,1),r=!0)}),t.callback.apply(t,i)}),t.tasks.length+s===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a=[],u={tasks:[],concurrency:e,payload:r,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(t,e){i(u,t,!1,e)},kill:function(){u.drain=n,u.tasks=[]},unshift:function(t,e){i(u,t,!0,e)},process:function(){for(;!u.paused&&s<u.concurrency&&u.tasks.length;){var e=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length),r=p(e,function(t){return t.data});0===u.tasks.length&&u.empty(),s+=1,a.push(e[0]);var i=h(o(u,e));t(r,i)}},length:function(){return u.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return u.tasks.length+s===0},pause:function(){u.paused=!0},resume:function(){if(u.paused!==!1){u.paused=!1;for(var t=Math.min(u.concurrency,u.tasks.length),e=1;t>=e;e++)N.setImmediate(u.process)}}};return u}function F(t){return y(function(e,r){e.apply(null,r.concat([y(function(e,r){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&c(r,function(e){console[t](e)}))})]))})}function D(t){return function(e,r,i){t(d(e),r,i)}}function B(t){return y(function(e,r){var i=y(function(r){var i=this,n=r.pop();return t(e,function(t,e,n){t.apply(i,r.concat([n]))},n)});return r.length?i.apply(this,r):i})}function L(t){return y(function(e){var r=e.pop();e.push(function(){var t=arguments;i?N.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var i=!0;t.apply(this,e),i=!1})}var I,N={},U="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i||this;null!=U&&(I=U.async),N.noConflict=function(){return U.async=I,N};var k=Object.prototype.toString,j=Array.isArray||function(t){return"[object Array]"===k.call(t)},X=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},Y=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},G="function"==typeof setImmediate&&setImmediate,z=G?function(t){G(t)}:function(t){setTimeout(t,0)};"object"==typeof e&&"function"==typeof e.nextTick?N.nextTick=e.nextTick:N.nextTick=z,N.setImmediate=G?z:N.nextTick,N.forEach=N.each=function(t,e,r){return N.eachOf(t,x(e),r)},N.forEachSeries=N.eachSeries=function(t,e,r){return N.eachOfSeries(t,x(e),r)},N.forEachLimit=N.eachLimit=function(t,e,r,i){return b(e)(t,x(r),i)},N.forEachOf=N.eachOf=function(t,e,r){function i(t){a--,t?r(t):null===o&&0>=a&&r(null)}r=u(r||n),t=t||[];for(var o,s=m(t),a=0;null!=(o=s());)a+=1,e(t[o],o,h(i));0===a&&r(null)},N.forEachOfSeries=N.eachOfSeries=function(t,e,r){function i(){var n=!0;return null===s?r(null):(e(t[s],s,h(function(t){if(t)r(t);else{if(s=o(),null===s)return r(null);n?N.setImmediate(i):i()}})),void(n=!1))}r=u(r||n),t=t||[];var o=m(t),s=o();i()},N.forEachOfLimit=N.eachOfLimit=function(t,e,r,i){b(e)(t,r,i)},N.map=_(S),N.mapSeries=E(S),N.mapLimit=T(S),N.inject=N.foldl=N.reduce=function(t,e,r,i){N.eachOfSeries(t,function(t,i,n){r(e,t,function(t,r){e=r,n(t)})},function(t){i(t,e)})},N.foldr=N.reduceRight=function(t,e,r,i){var n=p(t,o).reverse();N.reduce(n,e,r,i)},N.transform=function(t,e,r,i){3===arguments.length&&(i=r,r=e,e=j(t)?[]:{}),N.eachOf(t,function(t,i,n){r(e,t,i,n)},function(t){i(t,e)})},N.select=N.filter=_(w),N.selectLimit=N.filterLimit=T(w),N.selectSeries=N.filterSeries=E(w),N.reject=_(A),N.rejectLimit=T(A),N.rejectSeries=E(A),N.any=N.some=C(N.eachOf,s,o),N.someLimit=C(N.eachOfLimit,s,o),N.all=N.every=C(N.eachOf,a,a),N.everyLimit=C(N.eachOfLimit,a,a),N.detect=C(N.eachOf,o,M),N.detectSeries=C(N.eachOfSeries,o,M),N.detectLimit=C(N.eachOfLimit,o,M),N.sortBy=function(t,e,r){function i(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0}N.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){return t?r(t):void r(null,p(e.sort(i),function(t){return t.value}))})},N.auto=function(t,e,r){function i(t){m.unshift(t)}function o(t){var e=g(m,t);e>=0&&m.splice(e,1)}function s(){h--,c(m.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(r=e,e=null),r=u(r||n);var a=Y(t),h=a.length;if(!h)return r(null);e||(e=h);var l={},p=0,d=!1,m=[];i(function(){h||r(null,l)}),c(a,function(n){function a(){return e>p&&f(x,function(t,e){return t&&l.hasOwnProperty(e)},!0)&&!l.hasOwnProperty(n)}function h(){a()&&(p++,o(h),c[c.length-1](m,l))}if(!d){for(var u,c=j(t[n])?t[n]:[t[n]],m=y(function(t,e){if(p--,e.length<=1&&(e=e[0]),t){var i={};v(l,function(t,e){i[e]=t}),i[n]=e,d=!0,r(t,i)}else l[n]=e,N.setImmediate(s)}),x=c.slice(0,c.length-1),b=x.length;b--;){if(!(u=t[x[b]]))throw new Error("Has nonexistent dependency in "+x.join(", "));if(j(u)&&g(u,n)>=0)throw new Error("Has cyclic dependencies")}a()?(p++,c[c.length-1](m,l)):i(h)}})},N.retry=function(t,e,r){function i(t,e){if("number"==typeof e)t.times=parseInt(e,10)||o;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||o,t.interval=parseInt(e.interval,10)||s}}function n(t,e){function r(t,r){return function(i){t(function(t,e){i(!t||r,{err:t,result:e})},e)}}function i(t){return function(e){setTimeout(function(){e(null)},t)}}for(;h.times;){var n=!(h.times-=1);a.push(r(h.task,n)),!n&&h.interval>0&&a.push(i(h.interval))}N.series(a,function(e,r){r=r[r.length-1],(t||h.callback)(r.err,r.result)})}var o=5,s=0,a=[],h={times:o,interval:s},u=arguments.length;if(1>u||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=u&&"function"==typeof t&&(r=e,e=t),"function"!=typeof t&&i(h,t),h.callback=r,h.task=e,h.callback?n():n},N.waterfall=function(t,e){function r(t){return y(function(i,n){if(i)e.apply(null,[i].concat(n));else{var o=t.next();o?n.push(r(o)):n.push(e),L(t).apply(null,n)}})}if(e=u(e||n),!j(t)){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}return t.length?void r(N.iterator(t))():e()},N.parallel=function(t,e){R(N.eachOf,t,e)},N.parallelLimit=function(t,e,r){R(b(e),t,r)},N.series=function(t,e){R(N.eachOfSeries,t,e)},N.iterator=function(t){function e(r){function i(){return t.length&&t[r].apply(null,arguments),i.next()}return i.next=function(){return r<t.length-1?e(r+1):null},i}return e(0)},N.apply=y(function(t,e){return y(function(r){return t.apply(null,e.concat(r))})}),N.concat=_(O),N.concatSeries=E(O),N.whilst=function(t,e,r){if(r=r||n,t()){var i=y(function(n,o){n?r(n):t.apply(this,o)?e(i):r.apply(null,[null].concat(o))});e(i)}else r(null)},N.doWhilst=function(t,e,r){var i=0;return N.whilst(function(){return++i<=1||e.apply(this,arguments)},t,r)},N.until=function(t,e,r){return N.whilst(function(){return!t.apply(this,arguments)},e,r)},N.doUntil=function(t,e,r){return N.doWhilst(t,function(){return!e.apply(this,arguments)},r)},N.during=function(t,e,r){r=r||n;var i=y(function(e,i){e?r(e):(i.push(o),t.apply(this,i))}),o=function(t,n){t?r(t):n?e(i):r(null)};t(o)},N.doDuring=function(t,e,r){var i=0;N.during(function(t){i++<1?t(null,!0):e.apply(this,arguments)},t,r)},N.queue=function(t,e){var r=P(function(e,r){t(e[0],r)},e,1);return r},N.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function o(t,e,o,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return t.started=!0,j(e)||(e=[e]),0===e.length?N.setImmediate(function(){t.drain()}):void c(e,function(e){var a={data:e,priority:o,callback:"function"==typeof s?s:n};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),N.setImmediate(t.process)})}var s=N.queue(t,e);return s.push=function(t,e,r){o(s,t,e,r)},delete s.unshift,s},N.cargo=function(t,e){return P(t,1,e)},N.log=F("log"),N.dir=F("dir"),N.memoize=function(t,e){var r={},i={},n=Object.prototype.hasOwnProperty;e=e||o;var s=y(function(o){var s=o.pop(),a=e.apply(null,o);n.call(r,a)?N.setImmediate(function(){s.apply(null,r[a])}):n.call(i,a)?i[a].push(s):(i[a]=[s],t.apply(null,o.concat([y(function(t){r[a]=t;var e=i[a];delete i[a];for(var n=0,o=e.length;o>n;n++)e[n].apply(null,t)})])))});return s.memo=r,s.unmemoized=t,s},N.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},N.times=D(N.map),N.timesSeries=D(N.mapSeries),N.timesLimit=function(t,e,r,i){return N.mapLimit(d(t),e,r,i)},N.seq=function(){var t=arguments;return y(function(e){var r=this,i=e[e.length-1];"function"==typeof i?e.pop():i=n,N.reduce(t,e,function(t,e,i){e.apply(r,t.concat([y(function(t,e){i(t,e)})]))},function(t,e){i.apply(r,[t].concat(e))})})},N.compose=function(){return N.seq.apply(null,Array.prototype.reverse.call(arguments))},N.applyEach=B(N.eachOf),N.applyEachSeries=B(N.eachOfSeries),N.forever=function(t,e){function r(t){return t?i(t):void o(r)}var i=h(e||n),o=L(t);r()},N.ensureAsync=L,N.constant=y(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),N.wrapSync=N.asyncify=function(t){return y(function(e){var r,i=e.pop();try{r=t.apply(this,e)}catch(n){return i(n)}X(r)&&"function"==typeof r.then?r.then(function(t){i(null,t)})["catch"](function(t){i(t.message?t:new Error(t))}):i(null,r)})},"object"==typeof r&&r.exports?r.exports=N:"function"==typeof t&&t.amd?t([],function(){return N}):U.async=N}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],2:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),a=s,h=0;s>h;h++)if(n[h]!==o[h]){a=h;break}for(var u=[],h=a;h<n.length;h++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,r){function i(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!l){var t=setTimeout(i);l=!0;for(var e=u.length;e;){for(a=u,u=[];++c<e;)a&&a[c].run();c=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,h=e.exports={},u=[],l=!1,c=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new o(t,e)),1!==u.length||l||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],4:[function(e,r,i){(function(e){!function(n){function o(t){throw new RangeError(B[t])}function s(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function a(t,e){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]),t=t.replace(D,".");var n=t.split("."),o=s(n,e).join(".");return i+o}function h(t){for(var e,r,i=[],n=0,o=t.length;o>n;)e=t.charCodeAt(n++),e>=55296&&56319>=e&&o>n?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function u(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,r){var i=0;for(t=r?I(t/C):t>>1,t+=I(t/e);t>L*w>>1;i+=E)t=I(t/L);return I(i+(L+1)*t/(t+A))}function d(t){var e,r,i,n,s,a,h,c,d,f,v=[],g=t.length,m=0,y=R,x=M;for(r=t.lastIndexOf(O),0>r&&(r=0),i=0;r>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;g>n;){for(s=m,a=1,h=E;n>=g&&o("invalid-input"),c=l(t.charCodeAt(n++)),(c>=E||c>I((T-m)/a))&&o("overflow"),m+=c*a,d=x>=h?S:h>=x+w?w:h-x,!(d>c);h+=E)f=E-d,a>I(T/f)&&o("overflow"),a*=f;e=v.length+1,x=p(m-s,e,0==s),I(m/e)>T-y&&o("overflow"),y+=I(m/e),m%=e,v.splice(m++,0,y)}return u(v)}function f(t){var e,r,i,n,s,a,u,l,d,f,v,g,m,y,x,b=[];for(t=h(t),g=t.length,e=R,r=0,s=M,a=0;g>a;++a)v=t[a],128>v&&b.push(N(v));for(i=n=b.length,n&&b.push(O);g>i;){for(u=T,a=0;g>a;++a)v=t[a],v>=e&&u>v&&(u=v);for(m=i+1,u-e>I((T-r)/m)&&o("overflow"),r+=(u-e)*m,e=u,a=0;g>a;++a)if(v=t[a],e>v&&++r>T&&o("overflow"),v==e){for(l=r,d=E;f=s>=d?S:d>=s+w?w:d-s,!(f>l);d+=E)x=l-f,y=E-f,b.push(N(c(f+x%y,0))),l=I(x/y);b.push(N(c(l,0))),s=p(r,m,i==n),r=0,++i}++r,++e}return b.join("")}function v(t){return a(t,function(t){return P.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return F.test(t)?"xn--"+f(t):t})}var m="object"==typeof i&&i&&!i.nodeType&&i,y="object"==typeof r&&r&&!r.nodeType&&r,x="object"==typeof e&&e;(x.global===x||x.window===x||x.self===x)&&(n=x);var b,_,T=2147483647,E=36,S=1,w=26,A=38,C=700,M=72,R=128,O="-",P=/^xn--/,F=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-S,I=Math.floor,N=String.fromCharCode;if(b={version:"1.3.2",ucs2:{decode:h,encode:u},decode:d,encode:f,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(m&&y)if(r.exports==m)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(m[_]=b[_]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;u>l;++l){var c,p,d,f,v=t[l].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),p=v.substr(g+1)):(c=v,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(s,d)?n(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,r){"use strict";function i(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],7:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,r){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(t,e,r){if(t&&u(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}function o(t){return h(t)&&(t=n(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return n(t,!1,!0).resolve(e)}function a(t,e){return t?n(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function u(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function c(t){return null==t}var p=t("punycode");r.parse=n,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=i;var d=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),x=["/","?","#"],b=255,_=/^[a-z0-9A-Z_-]{0,63}$/,T=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=t("querystring");i.prototype.parse=function(t,e,r){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var n=d.exec(i);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,i=i.substr(n.length)}if(r||n||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||n&&S[n]||(i=i.substr(2),this.slashes=!0)}if(!S[n]&&(s||n&&!w[n])){for(var a=-1,u=0;u<x.length;u++){var l=i.indexOf(x[u]);-1!==l&&(-1===a||a>l)&&(a=l)}var c,f;f=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a),-1!==f&&(c=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(c)),a=-1;for(var u=0;u<y.length;u++){var l=i.indexOf(y[u]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),u=0,C=g.length;C>u;u++){var M=g[u];if(M&&!M.match(_)){for(var R="",O=0,P=M.length;P>O;O++)R+=M.charCodeAt(O)>127?"x":M[O];if(!R.match(_)){var F=g.slice(0,u),D=g.slice(u+1),B=M.match(T);B&&(F.push(B[1]),D.unshift(B[2])),D.length&&(i="/"+D.join(".")+i),this.hostname=F.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),I=[],u=0;u<L.length;++u){var N=L[u];I.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(N):N)}this.hostname=I.join(".")}var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!E[o])for(var u=0,C=m.length;C>u;u++){var j=m[u],X=encodeURIComponent(j);X===j&&(X=escape(j)),i=i.split(j).join(X)}var Y=i.indexOf("#");-1!==Y&&(this.hash=i.substr(Y),i=i.slice(0,Y));var G=i.indexOf("?");if(-1!==G?(this.search=i.substr(G),this.query=i.substr(G+1),e&&(this.query=A.parse(this.query)),i=i.slice(0,G)):e&&(this.search="",this.query={}),i&&(this.pathname=i),w[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",N=this.search||"";this.path=U+N}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=A.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&n!==!1?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+n+r+s+i},i.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(h(t)){var e=new i;e.parse(t,!1,!0),t=e}var r=new i;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),w[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!w[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||S[t.protocol])r.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var o=r.pathname||"",s=r.search||"";r.path=o+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=u||a||r.host&&t.pathname,d=p,f=r.pathname&&r.pathname.split("/")||[],n=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!w[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=null),p=p&&(""===n[0]||""===f[0])),u)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),r.search=t.search,r.query=t.query;else if(!c(t.search)){if(v){r.hostname=r.host=f.shift();var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return r.search=t.search,r.query=t.query,l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var m=f.slice(-1)[0],y=(r.host||t.host)&&("."===m||".."===m)||""===m,x=0,b=f.length;b>=0;b--)m=f[b],"."==m?f.splice(b,1):".."===m?(f.splice(b,1),x++):x&&(f.splice(b,1),x--);if(!p&&!d)for(;x--;x)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),y&&"/"!==f.join("/").substr(-1)&&f.push("");var _=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(v){r.hostname=r.host=_?"":f.length?f.shift():"";var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return p=p||r.host&&f.length,p&&!_&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),l(r.pathname)&&l(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:4,querystring:7}],9:[function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i=e&&e.length,o=i?e[0]*r:t.length,a=n(t,0,o,r,!0),h=[];if(!a)return h;var u,l,p,d,f,v,g;if(i&&(a=c(t,e,a,r)),t.length>80*r){u=p=t[0],l=d=t[1];for(var m=r;o>m;m+=r)f=t[m],v=t[m+1],u>f&&(u=f),l>v&&(l=v),f>p&&(p=f),v>d&&(d=v);g=Math.max(p-u,d-l)}return s(a,h,r,u,l,g),h}function n(t,e,r,i,n){var o,s,a,h=0;for(o=e,s=r-i;r>o;o+=i)h+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(n===h>0)for(o=e;r>o;o+=i)a=M(o,t[o],t[o+1],a);else for(o=r-i;o>=e;o-=i)a=M(o,t[o],t[o+1],a);return a}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do if(r=!1,i.steiner||!T(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(R(i),i=e=i.prev,i===i.next)return null;r=!0}while(r||i!==e);return e}function s(t,e,r,i,n,c,p){if(t){!p&&c&&v(t,i,n,c);for(var d,f,g=t;t.prev!==t.next;)if(d=t.prev,f=t.next,c?h(t,i,n,c):a(t))e.push(d.i/r),e.push(t.i/r),e.push(f.i/r),R(t),t=f.next,g=f.next;else if(t=f,t===g){p?1===p?(t=u(t,e,r),s(t,e,r,i,n,c,2)):2===p&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(_(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(x(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&_(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(_(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=m(a,h,e,r,i),p=m(u,l,e,r,i),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&x(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&x(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;E(n,i,i.next,o)&&w(n,o)&&w(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),R(i),R(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&b(h,u)){var l=C(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e,r,i){var s,a,h,u,l,c=[];for(s=0,a=e.length;a>s;s++)h=e[s]*i,u=a-1>s?e[s+1]*i:t.length,l=n(t,h,u,i,!1),l===l.next&&(l.steiner=!0),c.push(y(l));for(c.sort(p),s=0;s<c.length;s++)d(c[s],r),r=o(r,r.next);return r}function p(t,e){return t.x-e.x}function d(t,e){if(e=f(t,e)){var r=C(e,t);o(r,r.next)}}function f(t,e){var r,i=e,n=t.x,o=t.y,s=-(1/0);do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);n>=a&&a>s&&(s=a,r=i.x<i.next.x?i:i.next)}i=i.next}while(i!==e);if(!r)return null;if(t.x===r.x)return r.prev;var h,u=r,l=1/0;for(i=r.next;i!==u;)n>=i.x&&i.x>=r.x&&x(o<r.y?n:s,o,r.x,r.y,o<r.y?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),(l>h||h===l&&i.x>r.x)&&w(i,t)&&(r=i,l=h)),i=i.next;return r}function v(t,e,r,i){var n=t;do null===n.z&&(n.z=m(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,g(n)}function g(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;u>e&&(a++,i=i.nextZ,i);e++);for(h=u;a>0||h>0&&i;)0===a?(n=i,i=i.nextZ,h--):0!==h&&i?r.z<=i.z?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--):(n=r,r=r.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1);return t}function m(t,e,r,i,n){return t=32767*(t-r)/n,e=32767*(e-i)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function x(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function b(t,e){return T(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&w(t,e)&&w(e,t)&&A(t,e)}function _(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,r,i){return _(t,e,r)>0!=_(t,e,i)>0&&_(r,i,t)>0!=_(r,i,e)>0}function S(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&E(r,r.next,t,e))return!0;
r=r.next}while(r!==t);return!1}function w(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function A(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function C(t,e){var r=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function M(t,e,r,i){var n=new O(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=i},{}],10:[function(t,e,r){"use strict";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}var o="function"!=typeof Object.create?"~":!1;n.prototype._events=void 0,n.prototype.listeners=function(t,e){var r=o?o+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,a=new Array(s);s>n;n++)a[n]=i[n].fn;return a},n.prototype.emit=function(t,e,r,i,n,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,n),!0;case 6:return l.fn.call(l.context,e,r,i,n,s),!0}for(u=1,h=new Array(c-1);c>u;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var p,d=l.length;for(u=0;d>u;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;default:if(!h)for(p=1,h=new Array(c-1);c>p;p++)h[p-1]=arguments[p];l[u].fn.apply(l[u].context,h)}}return!0},n.prototype.on=function(t,e,r){var n=new i(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.removeListener=function(t,e,r,i){var n=o?o+t:t;if(!this._events||!this._events[n])return this;var s=this._events[n],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var h=0,u=s.length;u>h;h++)(s[h].fn!==e||i&&!s[h].once||r&&s[h].context!==r)&&a.push(s[h]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,"undefined"!=typeof e&&(e.exports=n)},{}],11:[function(t,e,r){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,s,a=i(t),h=1;h<arguments.length;h++){r=Object(arguments[h]);for(var u in r)n.call(r,u)&&(a[u]=r[u]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},{}],12:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},u=function(t,e){for(var r=0;r<t.length;r+=1)e(t[r],r,t)},l=function(t,e){if(t.map)return t.map(e);var r=[];return u(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(u(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,"undefined"!=typeof setImmediate?s.setImmediate=function(t){setImmediate(t)}:s.setImmediate=s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;u(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=l(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=l(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(l(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=l(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(l(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,l(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},l=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,u(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),u(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};u(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(l(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();o?n.push(i(o)):n.push(e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var t=1;t<=o.concurrency;t++)s.setImmediate(o.process)}}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void u(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),u(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=l(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;u(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&u(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var w=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(w),s.applyEachSeries=g(w),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:3}],13:[function(t,e,r){function i(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=n.queue(this._boundLoadResource,e),this.resources={}}var n=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},i.prototype._runMiddleware=function(t,e,r){var i=this;n.eachSeries(e,function(e,r){e.call(i,t,r)},r.bind(this,t))},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_READY_STATE=s.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":14,async:12,eventemitter3:10,url:8}],14:[function(t,e,r){function i(t,e,r){if(s.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(t){return t.toString().replace("object ","")}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}var s=t("eventemitter3"),a=t("url"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),(this.crossOrigin===!1||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=i.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=r,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(n(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(n(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(n(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(r){this.error=new Error("Error trying to parse loaded json:",r)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(r){this.error=new Error("Error trying to parse loaded xml:",r)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t,t=a.parse(u.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},{eventemitter3:10,url:8}],15:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",i=new Array(4),n=0,o=0,s=0;n<t.length;){for(e=new Array(3),o=0;o<e.length;o++)n<t.length?e[o]=255&t.charCodeAt(n++):e[o]=0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)r+=this._keyStr.charAt(i[o])}return r}}},{}],16:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":13,"./Resource":14,"./middlewares/caching/memory":17,"./middlewares/parsing/blob":18}],17:[function(t,e,r){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):t.once("complete",function(){i[this.url]=this.data}),e()}}},{}],18:[function(t,e,r){var i=t("../../Resource"),n=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+n.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":14,"../../b64":15}],19:[function(t,e,r){function i(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var n=t("../core");Object.assign(n.DisplayObject.prototype,t("./accessibleTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(t){if(t.visible&&(t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId),t.interactiveChildren))for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])},i.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,h=s.worldTransform;s.hitArea?(i.style.left=(h.tx+a.x*h.a)*e+"px",i.style.top=(h.ty+a.y*h.d)*r+"px",i.style.width=a.width*h.a*e+"px",i.style.height=a.height*h.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px")}}this.renderId++},i.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},i.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},i.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},i.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;
e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},i.prototype._onMouseMove=function(){this.deactivate()},i.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n.WebGLRenderer.registerPlugin("accessibility",i),n.CanvasRenderer.registerPlugin("accessibility",i)},{"../core":29,"./accessibleTarget":20}],20:[function(t,e,r){var i={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};e.exports=i},{}],21:[function(t,e,r){e.exports={accessibleTarget:t("./accessibleTarget"),AccessibilityManager:t("./AccessibilityManager")}},{"./AccessibilityManager":19,"./accessibleTarget":20}],22:[function(t,e,r){var i={VERSION:"3.0.10",PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{}],23:[function(t,e,r){function i(){s.call(this),this.children=[]}var n=t("../math"),o=t("../utils"),s=t("./DisplayObject"),a=t("../textures/RenderTexture"),h=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),i.prototype.onChildrenChange=function(){},i.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},i.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[i]=t,this.onChildrenChange(i>r?r:i)}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);o.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},i.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;e>r;r++)this.removeChild(arguments[r]);else{var i=this.children.indexOf(t);if(-1===i)return;t.parent=null,o.removeItems(this.children,i,1),this.onChildrenChange(i),t.emit("removed",this)}return t},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,o.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var r,i,n=t||0,o="number"==typeof e?e:this.children.length,s=o-n;if(s>0&&o>=s){for(r=this.children.splice(n,s),i=0;i<r.length;++i)r[i].parent=null;for(this.onChildrenChange(t),i=0;i<r.length;++i)r[i].emit("removed",this);return r}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new a(t,0|i.width,0|i.height,r,e);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var t,e,r,i=1/0,o=1/0,s=-(1/0),a=-(1/0),h=!1,u=0,l=this.children.length;l>u;++u){var c=this.children[u];c.visible&&(h=!0,t=this.children[u].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!h)return n.Rectangle.EMPTY;var p=this._bounds;p.x=i,p.y=o,p.width=s-i,p.height=a-o,this._currentBounds=p}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var e=0,r=this.children.length;r>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,r;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;r>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;r>e;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;r>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;r>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":33,"../textures/RenderTexture":71,"../utils":77,"./DisplayObject":24}],24:[function(t,e,r){function i(){s.call(this),this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.skew=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new n.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var n=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),h=new n.Matrix,u={worldTransform:new n.Matrix,worldAlpha:1,children:[]};i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,r,i,n,o,s=this.parent.worldTransform,u=this.worldTransform;this.skew.x||this.skew.y?(h.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),u.a=h.a*s.a+h.b*s.c,u.b=h.a*s.b+h.b*s.d,u.c=h.c*s.a+h.d*s.c,u.d=h.c*s.b+h.d*s.d,u.tx=h.tx*s.a+h.ty*s.c+s.tx,u.ty=h.tx*s.b+h.ty*s.d+s.ty):this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,o-=this.pivot.x*e+this.pivot.y*i),u.a=t*s.a+e*s.c,u.b=t*s.b+e*s.d,u.c=r*s.a+i*s.c,u.d=r*s.b+i*s.d,u.tx=n*s.a+o*s.c+s.tx,u.ty=n*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,n=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,u.a=t*s.a,u.b=t*s.b,u.c=i*s.c,u.d=i*s.d,u.tx=n*s.a+o*s.c+s.tx,u.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return n.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(n.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=u,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e,r){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=u,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,r)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new o(t,0|i.width,0|i.height,e,r);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.position.x=t||0,this.position.y=e||0,this.scale.x=r?r:1,this.scale.y=i?i:1,this.rotation=n||0,this.skew.x=o||0,this.skew.y=s||0,this.pivot.x=a||0,this.pivot.y=h||0,this},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":33,"../textures/RenderTexture":71,eventemitter3:10}],25:[function(t,e,r){function i(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new u.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),h=t("./GraphicsData"),u=t("../math"),l=t("../const"),c=new u.Point;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},i.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],u=a[a.length-1],l=0,c=1;s>=c;++c)l=c/s,n=h+(t-h)*l,o=u+(e-u)*l,a.push(n+(t+(r-t)*l-n)*l,o+(e+(i-e)*l-o)*l);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,u,l,c=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],v=0,g=1;c>=g;++g)v=g/c,s=1-v,a=s*s,h=a*s,u=v*v,l=u*v,p.push(h*d+3*a*v*t+3*s*u*r+l*n,h*f+3*a*v*e+3*s*u*i+l*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],h=a-e,u=s-t,l=i-e,c=r-t,p=Math.abs(h*c-u*l);if(1e-8>p||0===n)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var d=h*h+u*u,f=l*l+c*c,v=h*l+u*c,g=n*Math.sqrt(d)/p,m=n*Math.sqrt(f)/p,y=g*v/d,x=m*v/f,b=g*c+m*u,_=g*l+m*h,T=u*(m+y),E=h*(m+y),S=c*(g+x),w=l*(g+x),A=Math.atan2(E-_,T-b),C=Math.atan2(w-_,S-b);this.arc(b+t,_+e,n,A,C,u*l>c*h)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,r,i,n,o){if(o=o||!1,i===n)return this;!o&&i>=n?n+=2*Math.PI:o&&n>=i&&(i+=2*Math.PI);var s=o?-1*(i-n):n-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var h=t+Math.cos(i)*r,u=e+Math.sin(i)*r;this.currentPath?this.currentPath.shape.points.push(h,u):this.moveTo(h,u);for(var l=this.currentPath.shape.points,c=s/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),v=a-1,g=v%1/v,m=0;v>=m;m++){var y=m+g*m,x=c+i+p*y,b=Math.cos(x),_=-Math.sin(x);l.push((d*b+f*_)*r+t,(d*-_+f*b)*r+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,r,i){return this.drawShape(new u.Rectangle(t,e,r,i)),this},i.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new u.RoundedRectangle(t,e,r,i,n)),this},i.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},i.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new u.Ellipse(t,e,r,i)),this},i.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new u.Polygon(e);return n.closed=r,this.drawShape(n),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,r){e=e||1;var i=this.getLocalBounds(),n=new s(i.width*e,i.height*e),h=o.fromCanvas(n.canvas,r);return h.baseTexture.resolution=e,n.context.scale(e,e),n.context.translate(-i.x,-i.y),a.renderGraphics(this,n.context),h},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,r=this.worldTransform,i=t.blendModes[this.blendMode];i!==e.globalCompositeOperation&&(e.globalCompositeOperation=i);var n=t.resolution;e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return u.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,n=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,h=s.b,l=s.c,c=s.d,p=s.tx,d=s.ty,f=a*i+l*o+p,v=c*o+h*i+d,g=a*r+l*o+p,m=c*o+h*r+d,y=a*r+l*n+p,x=c*n+h*r+d,b=a*i+l*n+p,_=c*n+h*i+d,T=f,E=v,S=f,w=v;S=S>g?g:S,S=S>y?y:S,S=S>b?b:S,w=w>m?m:w,w=w>x?x:w,w=w>_?_:w,T=g>T?g:T,T=y>T?y:T,T=b>T?b:T,E=m>E?m:E,E=x>E?x:E,E=_>E?_:E,this._bounds.x=S,this._bounds.width=T-S,this._bounds.y=w,this._bounds.height=E-w,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,r=0;r<e.length;r++){var i=e[r];if(i.fill&&i.shape&&i.shape.contains(c.x,c.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,i=-(1/0);if(this.graphicsData.length)for(var n,o,s,a,h,u,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(n=p.shape,d===l.SHAPES.RECT||d===l.SHAPES.RREC)s=n.x-f/2,a=n.y-f/2,h=n.width+f,u=n.height+f,t=t>s?s:t,e=s+h>e?s+h:e,r=r>a?a:r,i=a+u>i?a+u:i;else if(d===l.SHAPES.CIRC)s=n.x,a=n.y,h=n.radius+f/2,u=n.radius+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-u?a-u:r,i=a+u>i?a+u:i;else if(d===l.SHAPES.ELIP)s=n.x,a=n.y,h=n.width+f/2,u=n.height+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-u?a-u:r,i=a+u>i?a+u:i;else{o=n.points;for(var v=0;v<o.length;v+=2)s=o[v],a=o[v+1],t=t>s-f?s-f:t,e=s+f>e?s+f:e,r=r>a-f?a-f:r,i=a+f>i?a+f:i}}else t=0,e=0,r=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=i-r+2*g},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/canvas/utils/CanvasGraphics":46,"../textures/Texture":72,"./GraphicsData":26}],26:[function(t,e,r){function i(t,e,r,i,n,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=i,this.fillAlpha=n,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],27:[function(t,e,r){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),h=t("../../renderers/webgl/WebGLRenderer"),u=t("./WebGLGraphicsData"),l=t("earcut");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,h.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var e,r=this.renderer,i=r.gl,o=r.shaderManager.plugins.primitiveShader;(t.dirty||!t._webGL[i.id])&&this.updateGraphics(t);var s=t._webGL[i.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0,h=s.data.length;h>a;a++)e=s.data[a],1===s.data[a].mode?(r.stencilManager.pushStencil(t,e),i.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e)):(o=r.shaderManager.primitiveShader,r.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0)),r.drawCount++},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<r.data.length;i++){var n=r.data[i];n.reset(),this.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(i=r.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(r,0);var h=this.buildPoly(a,o);h||(o=this.switchMode(r,1),this.buildComplexPoly(a,o))}else o=this.switchMode(r,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(r,0),this.buildLine(a,o))}else o=this.switchMode(r,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);r.lastIndex++}for(i=0;i<r.data.length;i++)o=r.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.points.length>32e4||r.mode!==e||1===e)&&(r=this.graphicsDataPool.pop()||new u(t.gl),r.mode=e,t.data.push(r))):(r=this.graphicsDataPool.pop()||new u(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},i.prototype.buildRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=n.hex2rgb(t.fillColor),u=t.fillAlpha,l=h[0]*u,c=h[1]*u,p=h[2]*u,d=e.points,f=e.indices,v=d.length/6;d.push(i,o),d.push(l,c,p,u),d.push(i+s,o),d.push(l,c,p,u),d.push(i,o+a),d.push(l,c,p,u),d.push(i+s,o+a),d.push(l,c,p,u),f.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=g}},i.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,u=[];if(u.push(i,o+h),this.quadraticBezierCurve(i,o+a-h,i,o+a,i+h,o+a,u),this.quadraticBezierCurve(i+s-h,o+a,i+s,o+a,i+s,o+a-h,u),this.quadraticBezierCurve(i+s,o+h,i+s,o,i+s-h,o,u),this.quadraticBezierCurve(i+h,o,i,o,i,o+h+1e-10,u),t.fill){var c=n.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,v=c[2]*p,g=e.points,m=e.indices,y=g.length/6,x=l(u,null,2),b=0;for(b=0;b<x.length;b+=3)m.push(x[b]+y),m.push(x[b]+y),m.push(x[b+1]+y),m.push(x[b+2]+y),m.push(x[b+2]+y);for(b=0;b<u.length;b++)g.push(u[b],u[++b],d,f,v,p)}if(t.lineWidth){var _=t.points;t.points=u,this.buildLine(t,e),t.points=_}},i.prototype.quadraticBezierCurve=function(t,e,r,i,n,o,s){function a(t,e,r){var i=e-t;return t+i*r}for(var h,u,l,c,p,d,f=20,v=s||[],g=0,m=0;f>=m;m++)g=m/f,h=a(t,r,g),u=a(e,i,g),l=a(r,n,g),c=a(i,o,g),p=a(h,l,g),d=a(u,c,g),v.push(p,d);return v},i.prototype.buildCircle=function(t,e){var r,i,o=t.shape,a=o.x,h=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,i=o.radius):(r=o.width,i=o.height);var u=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),l=2*Math.PI/u,c=0;if(t.fill){var p=n.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,v=p[1]*d,g=p[2]*d,m=e.points,y=e.indices,x=m.length/6;for(y.push(x),c=0;u+1>c;c++)m.push(a,h,f,v,g,d),m.push(a+Math.sin(l*c)*r,h+Math.cos(l*c)*i,f,v,g,d),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;u+1>c;c++)t.points.push(a+Math.sin(l*c)*r,h+Math.cos(l*c)*i);this.buildLine(t,e),t.points=b}},i.prototype.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var h=a.x+.5*(s.x-a.x),u=a.y+.5*(s.y-a.y);i.unshift(h,u),i.push(h,u)}var l,c,p,d,f,v,g,m,y,x,b,_,T,E,S,w,A,C,M,R,O,P,F,D=e.points,B=e.indices,L=i.length/2,I=i.length,N=D.length/6,U=t.lineWidth/2,k=n.hex2rgb(t.lineColor),j=t.lineAlpha,X=k[0]*j,Y=k[1]*j,G=k[2]*j;for(p=i[0],d=i[1],f=i[2],v=i[3],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,D.push(p-y,d-x,X,Y,G,j),D.push(p+y,d+x,X,Y,G,j),r=1;L-1>r;r++)p=i[2*(r-1)],d=i[2*(r-1)+1],f=i[2*r],v=i[2*r+1],g=i[2*(r+1)],m=i[2*(r+1)+1],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,b=-(v-m),_=f-g,F=Math.sqrt(b*b+_*_),b/=F,_/=F,b*=U,_*=U,S=-x+d-(-x+v),w=-y+f-(-y+p),A=(-y+p)*(-x+v)-(-y+f)*(-x+d),C=-_+m-(-_+v),M=-b+f-(-b+g),R=(-b+g)*(-_+v)-(-b+f)*(-_+m),O=S*M-C*w,Math.abs(O)<.1?(O+=10.1,D.push(f-y,v-x,X,Y,G,j),D.push(f+y,v+x,X,Y,G,j)):(l=(w*R-M*A)/O,c=(C*A-S*R)/O,P=(l-f)*(l-f)+(c-v)*(c-v),P>19600?(T=y-b,E=x-_,F=Math.sqrt(T*T+E*E),T/=F,E/=F,T*=U,E*=U,D.push(f-T,v-E),D.push(X,Y,G,j),D.push(f+T,v+E),D.push(X,Y,G,j),D.push(f-T,v-E),D.push(X,Y,G,j),I++):(D.push(l,c),D.push(X,Y,G,j),D.push(f-(l-f),v-(c-v)),D.push(X,Y,G,j)));for(p=i[2*(L-2)],d=i[2*(L-2)+1],f=i[2*(L-1)],v=i[2*(L-1)+1],y=-(d-v),x=p-f,F=Math.sqrt(y*y+x*x),y/=F,x/=F,y*=U,x*=U,D.push(f-y,v-x),D.push(X,Y,G,j),D.push(f+y,v+x),D.push(X,Y,G,j),B.push(N),r=0;I>r;r++)B.push(N++);B.push(N-1)}},i.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=n.hex2rgb(t.fillColor);for(var o,s,a=1/0,h=-(1/0),u=1/0,l=-(1/0),c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,h=o>h?o:h,u=u>s?s:u,l=s>l?s:l;r.push(a,u,h,u,h,l,a,l);var p=r.length/2;for(c=0;p>c;c++)i.push(c)}},i.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,o=e.indices,s=r.length/2,a=n.hex2rgb(t.fillColor),h=t.fillAlpha,u=a[0]*h,c=a[1]*h,p=a[2]*h,d=l(r,null,2);if(!d)return!1;var f=i.length/6,v=0;for(v=0;v<d.length;v+=3)o.push(d[v]+f),o.push(d[v]+f),o.push(d[v+1]+f),o.push(d[v+2]+f),o.push(d[v+2]+f);for(v=0;s>v;v++)i.push(r[2*v],r[2*v+1],u,c,p,h);return!0}}},{"../../const":22,"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"../../utils":77,"./WebGLGraphicsData":28,earcut:9}],28:[function(t,e,r){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(t,e,r){var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),WebGLManager:t("./renderers/webgl/managers/WebGLManager"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),TextureShader:t("./renderers/webgl/shaders/TextureShader"),PrimitiveShader:t("./renderers/webgl/shaders/PrimitiveShader"),ComplexPrimitiveShader:t("./renderers/webgl/shaders/ComplexPrimitiveShader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,n){return t=t||800,e=e||600,!n&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":33,"./particles/ParticleContainer":39,"./particles/webgl/ParticleRenderer":41,"./renderers/canvas/CanvasRenderer":44,"./renderers/canvas/utils/CanvasBuffer":45,"./renderers/canvas/utils/CanvasGraphics":46,"./renderers/webgl/WebGLRenderer":49,"./renderers/webgl/filters/AbstractFilter":50,"./renderers/webgl/filters/FXAAFilter":51,"./renderers/webgl/filters/SpriteMaskFilter":52,"./renderers/webgl/managers/ShaderManager":56,"./renderers/webgl/managers/WebGLManager":58,"./renderers/webgl/shaders/ComplexPrimitiveShader":59,"./renderers/webgl/shaders/PrimitiveShader":60,"./renderers/webgl/shaders/Shader":61,"./renderers/webgl/shaders/TextureShader":62,"./renderers/webgl/utils/ObjectRenderer":63,"./renderers/webgl/utils/RenderTarget":65,"./sprites/Sprite":67,"./sprites/webgl/SpriteRenderer":68,"./text/Text":69,"./textures/BaseTexture":70,"./textures/RenderTexture":71,"./textures/Texture":72,"./textures/TextureUvs":73,"./textures/VideoBaseTexture":74,"./ticker":76,"./utils":77}],30:[function(t,e,r){function i(t){return 0>t?-1:t>0?1:0}function n(){for(var t=0;16>t;t++){var e=[];c.push(e);for(var r=0;16>r;r++)for(var n=i(o[t]*o[r]+a[t]*s[r]),p=i(s[t]*o[r]+h[t]*s[r]),d=i(o[t]*a[r]+a[t]*h[r]),f=i(s[t]*a[r]+h[t]*h[r]),v=0;16>v;v++)if(o[v]===n&&s[v]===p&&a[v]===d&&h[v]===f){e.push(v);break}}for(t=0;16>t;t++){var g=new l;
g.set(o[t],s[t],a[t],h[t],0,0),u.push(g)}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],l=t("./Matrix"),c=[];n();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return s[t]},vX:function(t){return a[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][p.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e,r,i){var n=u[p.inv(e)];r=r||0,i=i||0,n.tx=r,n.ty=i,t.append(n)}};e.exports=p},{"./Matrix":31}],31:[function(t,e,r){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=t("./Point");i.prototype.constructor=i,e.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},i.prototype.apply=function(t,e){e=e||new n;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new n;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},i.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},i.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){var u,l,c,p,d,f,v,g,m,y;return d=Math.sin(s),f=Math.cos(s),v=Math.cos(h),g=Math.sin(h),m=-Math.sin(a),y=Math.cos(a),u=f*n,l=d*n,c=-d*o,p=f*o,this.a=v*u+g*c,this.b=v*l+g*p,this.c=m*u+y*c,this.d=m*l+y*p,this.tx=t+(r*u+i*c),this.ty=e+(r*l+i*p),this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},{"./Point":32}],32:[function(t,e,r){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],33:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),GroupD8:t("./GroupD8"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./GroupD8":30,"./Matrix":31,"./Point":32,"./shapes/Circle":34,"./shapes/Ellipse":35,"./shapes/Polygon":36,"./shapes/Rectangle":37,"./shapes/RoundedRectangle":38}],34:[function(t,e,r){function i(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=o.SHAPES.CIRC}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e,n=this.radius*this.radius;return r*=r,i*=i,n>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":37}],35:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=o.SHAPES.ELIP}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":37}],36:[function(t,e,r){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof n){for(var i=[],s=0,a=e.length;a>s;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var n=t("../Point"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;i>n;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1],l=a>e!=u>e&&(h-s)*(e-a)/(u-a)+s>t;l&&(r=!r)}return r}},{"../../const":22,"../Point":32}],37:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=n.SHAPES.RECT}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":22}],38:[function(t,e,r){function i(t,e,r,i,o){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.radius=o||20,this.type=n.SHAPES.RREC}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":22}],39:[function(t,e,r){function i(t,e,r){n.call(this),r=r||15e3,t=t||15e3;var i=16384;r>i&&(r=i),r>t&&(r=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var n=t("../display/Container"),o=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,o=0,s=0,a=0,h=t.blendModes[this.blendMode];h!==e.globalCompositeOperation&&(e.globalCompositeOperation=h),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),n=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y;else{i||(i=!0),l.displayObjectUpdateTransform();var p=l.worldTransform;t.roundPixels?e.setTransform(p.a,p.b,p.c,p.d,0|p.tx,0|p.ty):e.setTransform(p.a,p.b,p.c,p.d,p.tx,p.ty),n=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(l.texture.baseTexture.source,c.x,c.y,c.width,c.height,n,o,s,a)}}}},i.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],40:[function(t,e,r){function i(t,e,r,i){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;n++){var o=e[n];r[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,r=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=n,n+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,r){for(var i=this.gl,n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,r){for(var i=this.gl,n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(t,e,r,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],41:[function(t,e,r){function i(t){n.call(this,t);var e=98304;this.indices=new Uint16Array(e);for(var r=0,i=0;e>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),h=t("../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,r=e.length,i=t._maxSize,n=t._batchSize;if(0!==r){r>i&&(r=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var o=this.renderer.gl,s=t.worldTransform.copy(this.tempMatrix);s.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,s.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,a._glTextures[o.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var h=0,u=0;r>h;h+=n,u+=1){var l=r-h;l>n&&(l=n);var c=t._buffers[u];c.uploadDynamic(e,h,l),t._bufferToUpdate===u&&(c.uploadStatic(e,h,l),t._bufferToUpdate=u+1),c.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},i.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,i=[],n=t._maxSize,o=t._batchSize,s=t._properties;for(e=0;n>e;e+=o)i.push(new a(r,this.properties,s,o));return i},i.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s,a,h,u,l,c,p,d,f,v=0;r>v;v++)s=t[e+v],a=s._texture,u=s.scale.x,l=s.scale.y,a.trim?(h=a.trim,p=h.x-s.anchor.x*h.width,c=p+a.crop.width,f=h.y-s.anchor.y*h.height,d=f+a.crop.height):(c=a._frame.width*(1-s.anchor.x),p=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),f=a._frame.height*-s.anchor.y),i[o]=p*u,i[o+1]=f*l,i[o+n]=c*u,i[o+n+1]=f*l,i[o+2*n]=c*u,i[o+2*n+1]=d*l,i[o+3*n]=p*u,i[o+3*n+1]=d*l,o+=4*n},i.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},i.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},i.prototype.uploadAlpha=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].alpha;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"./ParticleBuffer":40,"./ParticleShader":42}],42:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=t("../../renderers/webgl/shaders/TextureShader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"../../renderers/webgl/shaders/TextureShader":62}],43:[function(t,e,r){function i(t,e,r,i){if(a.call(this),n.sayHello(t),i)for(var h in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[h]&&(i[h]=s.DEFAULT_RENDER_OPTIONS[h]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this.roundPixels=i.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=n.hex2string(t),n.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":33,"../utils":77,eventemitter3:10}],44:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"Canvas",t,e,r),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var n=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),h=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},i.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=h.SCALE_MODES.DEFAULT===h.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":33,"../../utils":77,"../SystemRenderer":43,"./utils/CanvasMaskManager":47}],45:[function(t,e,r){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],46:[function(t,e,r){var i=t("../../../const"),n={};e.exports=n,n.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var u=s.points;e.moveTo(u[0],u[1]);for(var l=1;l<u.length/2;l++)e.lineTo(u[2*l],u[2*l+1]);s.closed&&e.lineTo(u[0],u[1]),u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var c=2*s.width,p=2*s.height,d=s.x-c/2,f=s.y-p/2;e.beginPath();var v=.5522848,g=c/2*v,m=p/2*v,y=d+c,x=f+p,b=d+c/2,_=f+p/2;e.moveTo(d,_),e.bezierCurveTo(d,_-m,b-g,f,b,f),e.bezierCurveTo(b+g,f,y,_-m,y,_),e.bezierCurveTo(y,_+m,b+g,x,b,x),e.bezierCurveTo(b-g,x,d,_+m,d,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var T=s.x,E=s.y,S=s.width,w=s.height,A=s.radius,C=Math.min(S,w)/2|0;A=A>C?C:A,e.beginPath(),e.moveTo(T,E+A),e.lineTo(T,E+w-A),e.quadraticCurveTo(T,E+w,T+A,E+w),e.lineTo(T+S-A,E+w),e.quadraticCurveTo(T+S,E+w,T+S,E+w-A),e.lineTo(T+S,E+A),e.quadraticCurveTo(T+S,E,T+S-A,E),e.lineTo(T+A,E),e.quadraticCurveTo(T,E,T,E+A),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},n.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;r>n;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var u=2*s.width,l=2*s.height,c=s.x-u/2,p=s.y-l/2,d=.5522848,f=u/2*d,v=l/2*d,g=c+u,m=p+l,y=c+u/2,x=p+l/2;e.moveTo(c,x),e.bezierCurveTo(c,x-v,y-f,p,y,p),e.bezierCurveTo(y+f,p,g,x-v,g,x),e.bezierCurveTo(g,x+v,y+f,m,y,m),e.bezierCurveTo(y-f,m,c,x+v,c,x),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,_=s.y,T=s.width,E=s.height,S=s.radius,w=Math.min(T,E)/2|0;S=S>w?w:S,e.moveTo(b,_+S),e.lineTo(b,_+E-S),e.quadraticCurveTo(b,_+E,b+S,_+E),e.lineTo(b+T-S,_+E),e.quadraticCurveTo(b+T,_+E,b+T,_+E-S),e.lineTo(b+T,_+S),e.quadraticCurveTo(b+T,_,b+T-S,_),e.lineTo(b+S,_),e.quadraticCurveTo(b,_,b,_+S),e.closePath()}}}},n.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}}}},{"../../../const":22}],47:[function(t,e,r){function i(){}var n=t("./CanvasGraphics");i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(n.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},{"./CanvasGraphics":46}],48:[function(t,e,r){var i=t("../../../utils"),n={};e.exports=n,n.getTintedTexture=function(t,e){var r=t.texture;e=n.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var o=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,o),n.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,n.canvas=null;return o},n.tintWithMultiply=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,o=t.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,r.width=o.width,r.height=o.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithOverlay=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,o=t.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,r.width=o.width,r.height=o.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,o.width,o.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),o=t.baseTexture.resolution,s=t.crop.clone();s.x*=o,s.y*=o,s.width*=o,s.height*=o,r.width=s.width,r.height=s.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var a=i.hex2rgb(e),h=a[0],u=a[1],l=a[2],c=n.getImageData(0,0,s.width,s.height),p=c.data,d=0;d<p.length;d+=4)p[d+0]*=h,p[d+1]*=u,p[d+2]*=l;n.putImageData(c,0,0)},n.roundColor=function(t){var e=n.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=i.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":77}],49:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"WebGL",t,e,r),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),
this.stencilManager=new a(this),this.filterManager=new h(this),this.blendModeManager=new u(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var n=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),h=t("./managers/FilterManager"),u=t("./managers/BlendModeManager"),l=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),f=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,d.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new l(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},i.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},i.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&d.removeItems(this._managedTextures,r,1)}},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}n.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":22,"../../utils":77,"../SystemRenderer":43,"./filters/FXAAFilter":51,"./managers/BlendModeManager":53,"./managers/FilterManager":54,"./managers/MaskManager":55,"./managers/ShaderManager":56,"./managers/StencilManager":57,"./utils/ObjectRenderer":63,"./utils/RenderTarget":65}],50:[function(t,e,r){function i(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc}var n=t("../shaders/TextureShader");i.prototype.constructor=i,e.exports=i,i.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new n(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);t.filterManager.applyFilter(n,e,r,i)},i.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;r>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":62}],51:[function(t,e,r){function i(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var n=t("./AbstractFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager,n=this.getShader(t);i.applyFilter(n,e,r)}},{"./AbstractFilter":50}],52:[function(t,e,r){function i(t){var e=new o.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var n=t("./AbstractFilter"),o=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":33,"./AbstractFilter":50}],53:[function(t,e,r){function i(t){n.call(this,t),this.currentBlendMode=99999}var n=t("./WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":58}],54:[function(t,e,r){function i(t){n.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var n=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),h=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var i=0|e[0].padding;if(r.x-=i,r.y-=i,r.width+=2*i,r.height+=2*i,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;r.x+=n.tx,r.y+=n.ty,this.capFilterArea(r),r.x-=n.tx,r.y-=n.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,n=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,i),this.returnRenderTarget(r);else{for(var a=r,h=this.getRenderTarget(!0),u=0;u<o.length-1;u++){var l=o[u];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,a,h);var c=a;a=h,h=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(h)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,r,i){var n=this.renderer.gl;this.renderer.setRenderTarget(r),i&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderer.drawCount++},i.prototype.calculateMappedMatrix=function(t,e,r){var i=e.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=e._texture.baseTexture,o=r.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/n.width,u=this.textureSize.height/n.height;return i.tx/=n.width*a,i.ty/=n.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,u),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},i.prototype.destroy=function(){this.quad.destroy(),n.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":33,"../utils/Quad":64,"../utils/RenderTarget":65,"./WebGLManager":58}],55:[function(t,e,r){function i(t){n.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new o(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":52,"./WebGLManager":58}],56:[function(t,e,r){function i(t){n.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),h=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,h.pluginTarget.mixin(i),e.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":77,"../shaders/ComplexPrimitiveShader":59,"../shaders/PrimitiveShader":60,"../shaders/TextureShader":62,"./WebGLManager":58}],57:[function(t,e,r){function i(t){n.call(this,t),this.stencilMaskStack=null}var n=t("./WebGLManager"),o=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e),0===i.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var n=i.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),i.reverse=!i.reverse):(i.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){var r,i=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(r.uniforms.color._location,e.color),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(r.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var r=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=i.count;this.bindGraphics(t,e),r.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(i.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.renderer.drawCount++,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":77,"./WebGLManager":58}],58:[function(t,e,r){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],59:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],60:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":61}],61:[function(t,e,r){function i(t,e,r,i,o){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}var n=t("../../../utils");i.prototype.constructor=i,e.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),
t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),this.program=i},i.prototype.syncUniform=function(t){var e,r,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=n.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,r=o.length;r>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,r=o.length;r>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,r=o.length;r>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var i=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":77}],62:[function(t,e,r){function i(t,e,r,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var h in o)a[h]=o[h];var u={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var l in s)u[l]=s[l];e=e||i.defaultVertexSrc,r=r||i.defaultFragmentSrc,n.call(this,t,e,r,a,u)}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":61}],63:[function(t,e,r){function i(t){n.call(this,t)}var n=t("../managers/WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},{"../managers/WebGLManager":58}],64:[function(t,e,r){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var r=0,i=0;this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},i.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=i},{}],65:[function(t,e,r){var i=t("../../../math"),n=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,r,a,h,u){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=h||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=u,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var l=n.isPowerOfTwo(e,r);l?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":33,"../../../utils":77,"./StencilMaskStack":66}],66:[function(t,e,r){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],67:[function(t,e,r){function i(t){s.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var n=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),h=t("../utils"),u=t("../const"),l=new n.Point,c=n.GroupD8,p=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=h.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=h.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=h.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=h.sign(this.scale.y)*this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,i,n,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),h=o*-this.anchor.x,u=s*(1-this.anchor.y),l=s*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=p*h+f*l+g,x=v*l+d*h+m,b=p*a+f*l+g,_=v*l+d*a+m,T=p*a+f*u+g,E=v*u+d*a+m,S=p*h+f*u+g,w=v*u+d*h+m;if(e=y,e=e>b?b:e,e=e>T?T:e,e=e>S?S:e,i=x,i=i>_?_:i,i=i>E?E:i,i=i>w?w:i,r=y,r=b>r?b:r,r=T>r?T:r,r=S>r?S:r,n=x,n=_>n?_:n,n=E>n?E:n,n=w>n?w:n,this.children.length){var A=this.containerGetBounds();a=A.x,h=A.x+A.width,u=A.y,l=A.y+A.height,e=a>e?e:a,i=u>i?i:u,r=r>h?r:h,n=n>l?n:l}var C=this._bounds;C.x=e,C.width=r-e,C.y=i,C.height=n-i,this._currentBounds=C}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e,r=this._texture._frame.width,i=this._texture._frame.height,n=-r*this.anchor.x;return l.x>n&&l.x<n+r&&(e=-i*this.anchor.y,l.y>e&&l.y<e+i)?!0:!1},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var r,i,n=this._texture,o=this.worldTransform,s=n.crop.width,h=n.crop.height;t.context.globalAlpha=this.worldAlpha;var l=n.baseTexture.scaleMode===u.SCALE_MODES.LINEAR;t.smoothProperty&&t.context[t.smoothProperty]!==l&&(t.context[t.smoothProperty]=l),2===(3&n.rotate)&&(s=n.crop.height,h=n.crop.width),n.trim?(r=n.crop.width/2+n.trim.x-this.anchor.x*n.trim.width,i=n.crop.height/2+n.trim.y-this.anchor.y*n.trim.height):(r=(.5-this.anchor.x)*n._frame.width,i=(.5-this.anchor.y)*n._frame.height),n.rotate&&(o.copy(p),o=p,c.matrixAppendRotationInv(o,n.rotate,r,i),r=0,i=0),r-=s/2,i-=h/2,t.roundPixels?(t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution|0,o.ty*t.resolution|0),r=0|r,i=0|i):t.context.setTransform(o.a,o.b,o.c,o.d,o.tx*t.resolution,o.ty*t.resolution);var d=n.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,s*d,h*d,r*t.resolution,i*t.resolution,s*t.resolution,h*t.resolution)):t.context.drawImage(n.baseTexture.source,n.crop.x*d,n.crop.y*d,s*d,h*d,r*t.resolution,i*t.resolution,s*t.resolution,h*t.resolution)}}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new i(e)},i.fromImage=function(t,e,r){return new i(o.fromImage(t,e,r))}},{"../const":22,"../display/Container":23,"../math":33,"../renderers/canvas/utils/CanvasTinter":48,"../textures/Texture":72,"../utils":77}],68:[function(t,e,r){function i(t){n.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var i=0,o=0;r>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var i,n,o,s,a=t.anchor.x,h=t.anchor.y;if(e.trim&&void 0===t.tileScale){var u=e.trim;n=u.x-a*u.width,i=n+e.crop.width,s=u.y-h*u.height,o=s+e.crop.height}else i=e._frame.width*(1-a),n=e._frame.width*-a,o=e._frame.height*(1-h),s=e._frame.height*-h;var l=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=this.colors,x=this.positions;if(this.renderer.roundPixels){var b=this.renderer.resolution;x[l]=((p*n+f*s+g)*b|0)/b,x[l+1]=((v*s+d*n+m)*b|0)/b,x[l+5]=((p*i+f*s+g)*b|0)/b,x[l+6]=((v*s+d*i+m)*b|0)/b,x[l+10]=((p*i+f*o+g)*b|0)/b,x[l+11]=((v*o+d*i+m)*b|0)/b,x[l+15]=((p*n+f*o+g)*b|0)/b,x[l+16]=((v*o+d*n+m)*b|0)/b}else x[l]=p*n+f*s+g,x[l+1]=v*s+d*n+m,x[l+5]=p*i+f*s+g,x[l+6]=v*s+d*i+m,x[l+10]=p*i+f*o+g,x[l+11]=v*o+d*i+m,x[l+15]=p*n+f*o+g,x[l+16]=v*o+d*n+m;x[l+2]=r.x0,x[l+3]=r.y0,x[l+7]=r.x1,x[l+8]=r.y1,x[l+12]=r.x2,x[l+13]=r.y2,x[l+17]=r.x3,x[l+18]=r.y3;var _=t.tint;y[l+4]=y[l+9]=y[l+14]=y[l+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var r=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,r)}for(var i,n,o,s,a=0,h=0,u=null,l=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,v=this.currentBatchSize;v>f;f++)s=this.sprites[f],i=s._texture.baseTexture,n=s.blendMode,o=s.shader||this.shader,p=l!==n,d=c!==o,(u!==i||p||d)&&(this.renderBatch(u,a,h),h=f,a=0,u=i,p&&(l=n,this.renderer.blendModeManager.setBlendMode(l)),d&&(c=o,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(u,a,h),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,r){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63}],69:[function(t,e,r){function i(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||h.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,n.call(this,i),this.text=t,this.style=e}var n=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),h=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=void 0!==t.dropShadowAngle?t.dropShadowAngle:Math.PI/6,t.dropShadowDistance=void 0!==t.dropShadowDistance?t.dropShadowDistance:5,t.dropShadowBlur=void 0!==t.dropShadowBlur?t.dropShadowBlur:0,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,r=e.split(/(?:\r\n|\r|\n)/),i=new Array(r.length),n=0,o=this.determineFontProperties(t.font),s=0;s<r.length;s++){var a=this.context.measureText(r[s]).width;i[s]=a,n=Math.max(n,a)}var h=n+t.strokeThickness;t.dropShadow&&(h+=t.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var u=this.style.lineHeight||o.fontSize+t.strokeThickness,l=u*r.length;t.dropShadow&&(l+=t.dropShadowDistance),this.canvas.height=(l+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,p;if(t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*u+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.fill&&this.context.fillText(r[s],c+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*u+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(r[s],c,p+this._style.padding),t.fill&&this.context.fillText(r[s],c,p+this._style.padding);this.updateTexture()},i.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var r=i.fontPropertiesCanvas,n=i.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|Mq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,s);var h,u,l=n.getImageData(0,0,o,a).data,c=l.length,p=4*o,d=0,f=!1;for(h=0;s>h;h++){for(u=0;p>u;u+=4)if(255!==l[d+u]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-h,d=c-p,f=!1,h=a;h>s;h--){for(u=0;p>u;u+=4)if(255!==l[d+u]){f=!0;break}if(f)break;d-=p}e.descent=h-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),i=this._style.wordWrapWidth,n=0;n<r.length;n++){for(var o=i,s=r[n].split(" "),a=0;a<s.length;a++){var h=this.context.measureText(s[a]).width,u=h+this.context.measureText(" ").width;0===a||u>o?(a>0&&(e+="\n"),e+=s[a],o=i-h):(o-=u,e+=" "+s[a])}n<r.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":22,"../math":33,"../sprites/Sprite":67,"../textures/Texture":72,"../utils":77}],70:[function(t,e,r){function i(t,e,r){s.call(this),this.uid=n.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}var n=t("../utils"),o=t("../const"),s=t("eventemitter3");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,r){var o=n.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,r),o.imageUrl=t,s.src=t,n.BaseTextureCache[t]=o,o.resolution=n.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.uid());var r=n.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),n.BaseTextureCache[t._pixiId]=r),r}},{"../const":22,"../utils":77,eventemitter3:10}],71:[function(t,e,r){function i(t,e,r,i,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||l.RESOLUTION;var p=new n;if(p.width=e,p.height=r,p.resolution=c,p.scaleMode=i||l.SCALE_MODES.DEFAULT,p.hasLoaded=!0,o.call(this,p,new u.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===l.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),h=t("../renderers/canvas/utils/CanvasBuffer"),u=t("../math"),l=t("../const"),c=new u.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,r,i){if(this.valid){if(i=void 0!==i?i:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var n,o,s=t.children;for(n=0,o=s.length;o>n;++n)s[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,r,i){if(this.valid){i=!!i;var n=c;n.identity(),e&&n.append(e);var o=t.worldTransform;t.worldTransform=n,t.worldAlpha=1;var s,a,h=t.children;for(s=0,a=h.length;a>s;++s)h[s].updateTransform();r&&this.textureBuffer.clear();var u=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,u),this.renderer.resolution=l,t.worldTransform===n&&(t.worldTransform=o)}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new h(e,r),o=n.context.getImageData(0,0,e,r);return o.data.set(i),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,i=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),
r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":22,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/webgl/managers/FilterManager":54,"../renderers/webgl/utils/RenderTarget":65,"./BaseTexture":70,"./Texture":72}],72:[function(t,e,r){function i(t,e,r,n,o){if(a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this._rotate=+(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw"attempt to use diamond-shaped UVs. If you are sure, set rotation manually";t.hasLoaded?(this.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var n=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),h=t("../math"),u=t("../utils");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}},rotate:{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,r){var o=u.TextureCache[t];return o||(o=new i(n.fromImage(t,e,r)),u.TextureCache[t]=o),o},i.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(n.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){u.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=u.TextureCache[t];return delete u.TextureCache[t],delete u.BaseTextureCache[t],e},i.EMPTY=new i(new n)},{"../math":33,"../utils":77,"./BaseTexture":70,"./TextureUvs":73,"./VideoBaseTexture":74,eventemitter3:10}],73:[function(t,e,r){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i;var n=t("../math/GroupD8");i.prototype.set=function(t,e,r){var i=e.width,o=e.height;if(r){var s=n.isSwapWidthHeight(r),a=(s?t.height:t.width)/2/i,h=(s?t.width:t.height)/2/o,u=t.x/i+a,l=t.y/o+h;r=n.add(r,n.NW),this.x0=u+a*n.uX(r),this.y0=l+h*n.uY(r),r=n.add(r,2),this.x1=u+a*n.uX(r),this.y1=l+h*n.uY(r),r=n.add(r,2),this.x2=u+a*n.uX(r),this.y2=l+h*n.uY(r),r=n.add(r,2),this.x3=u+a*n.uX(r),this.y3=l+h*n.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o}},{"../math/GroupD8":30}],74:[function(t,e,r){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}var o=t("./BaseTexture"),s=t("../utils");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var r=s.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),s.BaseTextureCache[t._pixiId]=r),r},i.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(n(t[o].src||t[o],t[o].mime));else r.appendChild(n(t.src||t,t.mime));return r.load(),r.play(),i.fromVideo(r,e)},i.fromUrls=i.fromUrl},{"../utils":77,"./BaseTexture":70}],75:[function(t,e,r){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=i},{"../const":22,eventemitter3:10}],76:[function(t,e,r){var i=t("./Ticker"),n=new i;n.autoStart=!0,e.exports={shared:n,Ticker:i}},{"./Ticker":75}],77:[function(t,e,r){var i=t("../const"),n=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++n._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var n=document.createElement("canvas");n.width=6,n.height=1;var o=n.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(r,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!n._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");n._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(i){return!1}},sign:function(t){return t?0>t?-1:1:0},removeItems:function(t,e,r){var i=t.length;if(!(e>=i||0===r)){r=e+r>i?i-e:r;for(var n=e,o=i-r;o>n;++n)t[n]=t[n+r];t.length=o}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":78,async:1,eventemitter3:10}],78:[function(t,e,r){function i(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){i(t)}}},{}],79:[function(t,e,r){var i=t("./core"),n=t("./mesh"),o=t("./extras"),s=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":29,"./extras":86,"./filters":103,"./mesh":128}],80:[function(t,e,r){function i(t,e){n.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var n=t("../core");i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new n.Point,r=null,o=[],s=0,a=0,h=[],u=0,l=this._font.size/t.size,c=-1,p=0,d=0;d<this.text.length;d++){var f=this.text.charCodeAt(d);if(c=/(\s)/.test(this.text.charAt(d))?d:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))h.push(s),a=Math.max(a,s),u++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*l>this.maxWidth)n.utils.removeItems(o,c,d-c),d=c,c=-1,h.push(s),a=Math.max(a,s),u++,e.x=0,e.y+=t.lineHeight,r=null;else{var v=t.chars[f];v&&(r&&v.kerning[r]&&(e.x+=v.kerning[r]),o.push({texture:v.texture,line:u,charCode:f,position:new n.Point(e.x+v.xOffset,e.y+v.yOffset)}),s=e.x+(v.texture.width+v.xOffset),e.x+=v.xAdvance,p=Math.max(p,v.yOffset+v.texture.height),r=f)}}h.push(s),a=Math.max(a,s);var g=[];for(d=0;u>=d;d++){var m=0;"right"===this._font.align?m=a-h[d]:"center"===this._font.align&&(m=(a-h[d])/2),g.push(m)}var y=o.length,x=this.tint;for(d=0;y>d;d++){var b=this._glyphs[d];b?b.texture=o[d].texture:(b=new n.Sprite(o[d].texture),this._glyphs.push(b)),b.position.x=(o[d].position.x+g[o[d].line])*l,b.position.y=o[d].position.y*l,b.scale.x=b.scale.y=l,b.tint=x,b.parent||this.addChild(b)}for(d=y;d<this._glyphs.length;++d)this.removeChild(this._glyphs[d]);this.textWidth=a*l,this.textHeight=(e.y+t.lineHeight)*l,this.maxLineHeight=p*l},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},{"../core":29}],81:[function(t,e,r){function i(t){n.Sprite.call(this,t[0]instanceof n.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=t("../core");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof n.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return 0>t&&(t+=this._textures.length),t}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;0>r;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},i.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromFrame(t[r]));return new i(e)},i.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromImage(t[r]));return new i(e)}},{"../core":29}],82:[function(t,e,r){function i(t,e,r){n.Sprite.call(this,t),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=t("../core"),o=new n.Point,s=t("../core/renderers/canvas/utils/CanvasTinter");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,i=e._frame.width,n=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=i,e._frame.height=n}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,o=t.resolution,a=e.baseTexture,h=this.tilePosition.x/this.tileScale.x%e._frame.width,u=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var l=new n.CanvasBuffer(e._frame.width,e._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(a.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(h+this.anchor.x*-this._width,u+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(r.globalCompositeOperation=c),r.fillStyle=this._canvasPattern,r.fillRect(-h,-u,this._width/this.tileScale.x,this._height/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,r,i,n=this._width,o=this._height,s=n*(1-this.anchor.x),a=n*-this.anchor.x,h=o*(1-this.anchor.y),u=o*-this.anchor.y,l=this.worldTransform,c=l.a,p=l.b,d=l.c,f=l.d,v=l.tx,g=l.ty,m=c*a+d*u+v,y=f*u+p*a+g,x=c*s+d*u+v,b=f*u+p*s+g,_=c*s+d*h+v,T=f*h+p*s+g,E=c*a+d*h+v,S=f*h+p*a+g;t=m,t=t>x?x:t,t=t>_?_:t,t=t>E?E:t,r=y,r=r>b?b:r,r=r>T?T:r,r=r>S?S:r,e=m,e=x>e?x:e,e=_>e?_:e,e=E>e?E:e,i=y,i=b>i?b:i,i=T>i?T:i,i=S>i?S:i;var w=this._bounds;return w.x=t,w.width=e-t,w.y=r,w.height=i-r,this._currentBounds=w,w},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,r=this._width,i=this._height,n=-r*this.anchor.x;return o.x>n&&o.x<n+r&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)?!0:!1},i.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,r){var o=n.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,r)},i.fromImage=function(t,e,r,o,s){return new i(n.Texture.fromImage(t,o,s),e,r)}},{"../core":29,"../core/renderers/canvas/utils/CanvasTinter":48}],83:[function(t,e,r){var i=t("../core"),n=i.DisplayObject,o=new i.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var n=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),h=o;h.tx=-e.x,h.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,h,!0,!0),t.setRenderTarget(n),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,n=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,s,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],84:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":29}],85:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":29}],86:[function(t,e,r){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":80,"./MovieClip":81,"./TilingSprite":82,"./cacheAsBitmap":83,"./getChildByName":84,"./getGlobalPosition":85}],87:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],88:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new n.AbstractFilter}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"../blur/BlurYFilter":92
}],89:[function(t,e,r){function i(t,e){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(n,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(n,o,o,i);t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":29}],90:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var n=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"./BlurXFilter":91,"./BlurYFilter":92}],91:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],92:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],93:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],94:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var r=t;e&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},i.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=.213,o=.715,s=.072,a=[n+r*(1-n)+i*-n,o+r*-o+i*-o,s+r*-s+i*(1-s),0,0,n+r*-n+.143*i,o+r*(1-o)+.14*i,s+r*-s+i*-.283,0,0,n+r*-n+i*-(1-n),o+r*-o+i*o,s+r*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var r=(t||0)+1,i=-128*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,i=(r-1)*-.5,n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=(i>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,h,u,l,e,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},i.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":29}],95:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":29}],96:[function(t,e,r){function i(t,e,r){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":29}],97:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],98:[function(t,e,r){function i(t,e){var r=new n.Matrix;t.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:r.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=r,(null===e||void 0===e)&&(e=20),this.scale=new n.Point(e,e)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":29}],99:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],100:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,i);var u=a;a=s,s=u}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":29}],101:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":29,"../blur/BlurXFilter":91,"./BlurYTintFilter":100}],102:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":29}],103:[function(t,e,r){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":87,"./bloom/BloomFilter":88,"./blur/BlurDirFilter":89,"./blur/BlurFilter":90,"./blur/BlurXFilter":91,"./blur/BlurYFilter":92,"./blur/SmartBlurFilter":93,"./color/ColorMatrixFilter":94,"./color/ColorStepFilter":95,"./convolution/ConvolutionFilter":96,"./crosshatch/CrossHatchFilter":97,"./displacement/DisplacementFilter":98,"./dot/DotScreenFilter":99,"./dropshadow/DropShadowFilter":101,"./gray/GrayFilter":102,"./invert/InvertFilter":104,"./noise/NoiseFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],104:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":29}],105:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":29}],106:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{
get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],107:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":29}],108:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":29}],109:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":29}],110:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":29}],111:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var n=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],115:[function(t,e,r){(function(r){t("./polyfill");var i=e.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.accessibility=t("./accessibility"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),r.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":21,"./core":29,"./deprecation":79,"./extras":86,"./filters":103,"./interaction":118,"./loaders":121,"./mesh":128,"./polyfill":133}],116:[function(t,e,r){function i(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=t("../core");i.prototype.constructor=i,e.exports=i,i.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}},{"../core":29}],117:[function(t,e,r){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=t("../core"),o=t("./InteractionData");Object.assign(n.DisplayObject.prototype,t("./interactiveTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},i.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=!1,s=n=e.interactive||n;if(e.hitArea&&(s=!1),e.interactiveChildren)for(var a=e.children,h=a.length-1;h>=0;h--){var u=a[h];if(this.processInteractive(t,u,r,i,s)){if(!u.parent)continue;o=!0,s=!1,u.interactive&&(i=!1)}}return n&&(i&&!o&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),o=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(o=e.containsPoint(t))),e.interactive&&r(e,o)),o},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which,n=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.processMouseOverOut(t,e),(!this.moveWhenInside||e)&&this.dispatchEvent(t,"mousemove",this.eventData)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){(!this.moveWhenInside||e)&&this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",i),n.CanvasRenderer.registerPlugin("interaction",i)},{"../core":29,"./InteractionData":116,"./interactiveTarget":119}],118:[function(t,e,r){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":116,"./InteractionManager":117,"./interactiveTarget":119}],119:[function(t,e,r){var i={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=i},{}],120:[function(t,e,r){function i(t,e){var r={},i=t.data.getElementsByTagName("info")[0],n=t.data.getElementsByTagName("common")[0];r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(n.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),h=0;h<a.length;h++){var u=parseInt(a[h].getAttribute("id"),10),l=new o.Rectangle(parseInt(a[h].getAttribute("x"),10)+e.frame.x,parseInt(a[h].getAttribute("y"),10)+e.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));r.chars[u]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,l)}}var c=t.data.getElementsByTagName("kerning");for(h=0;h<c.length;h++){var p=parseInt(c[h].getAttribute("first"),10),d=parseInt(c[h].getAttribute("second"),10),f=parseInt(c[h].getAttribute("amount"),10);r.chars[d]&&(r.chars[d].kerning[p]=f)}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}var n=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=a.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var h={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,h,function(r){i(t,r.texture),e()})}}}},{"../core":29,"../extras":86,path:2,"resource-loader":16}],121:[function(t,e,r){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":120,"./loader":122,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],122:[function(t,e,r){function i(t,e){n.call(this,t,e);for(var r=0;r<i._pixiMiddleware.length;++r)this.use(i._pixiMiddleware[r]())}var n=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i._pixiMiddleware=[n.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":120,"./spritesheetParser":123,"./textureParser":124,"resource-loader":16}],123:[function(t,e,r){var i=t("resource-loader").Resource,n=t("path"),o=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},s=n.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,r,function(r){t.textures={};var i=t.data.frames;for(var n in i){var s=i[n].frame;if(s){var h=null,u=null;if(h=i[n].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),i[n].trimmed&&(u=new o.Rectangle(i[n].spriteSourceSize.x/a,i[n].spriteSourceSize.y/a,i[n].sourceSize.w/a,i[n].sourceSize.h/a)),i[n].rotated){var l=h.width;h.width=h.height,h.height=l}h.x/=a,h.y/=a,h.width/=a,h.height/=a,t.textures[n]=new o.Texture(r.texture.baseTexture,h,h.clone(),u,i[n].rotated?2:0),o.utils.TextureCache[n]=t.textures[n]}}e()})}}},{"../core":29,path:2,"resource-loader":16}],124:[function(t,e,r){var i=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var r=new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url));r.imageUrl=t.url,t.texture=new i.Texture(r),i.utils.BaseTextureCache[t.url]=r,i.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":29}],125:[function(t,e,r){function i(t,e,r,o,s){n.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}var n=t("../core"),o=new n.Point,s=new n.Polygon;i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,i=e.length/2,n=0;i-2>n;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,r,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,i=this.indices,n=i.length,o=0;n>o;o+=3){var s=2*i[o],a=2*i[o+1],h=2*i[o+2];this._renderCanvasDrawTriangle(t,e,r,s,a,h)}},i.prototype._renderCanvasDrawTriangle=function(t,e,r,i,n,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,h=this._texture.baseTexture.height,u=e[i],l=e[n],c=e[o],p=e[i+1],d=e[n+1],f=e[o+1],v=r[i]*a,g=r[n]*a,m=r[o]*a,y=r[i+1]*h,x=r[n+1]*h,b=r[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,E=(u+l+c)/3,S=(p+d+f)/3,w=u-E,A=p-S,C=Math.sqrt(w*w+A*A);u=E+w/C*(C+_),p=S+A/C*(C+T),w=l-E,A=d-S,C=Math.sqrt(w*w+A*A),l=E+w/C*(C+_),d=S+A/C*(C+T),w=c-E,A=f-S,C=Math.sqrt(w*w+A*A),c=E+w/C*(C+_),f=S+A/C*(C+T)}t.save(),t.beginPath(),t.moveTo(u,p),t.lineTo(l,d),t.lineTo(c,f),t.closePath(),t.clip();var M=v*x+y*m+g*b-x*m-y*g-v*b,R=u*x+y*c+l*b-x*c-y*l-u*b,O=v*l+u*m+g*c-l*m-u*g-v*c,P=v*x*c+y*l*m+u*g*b-u*x*m-y*g*c-v*l*b,F=p*x+y*f+d*b-x*f-y*d-p*b,D=v*d+p*m+g*f-d*m-p*g-v*f,B=v*x*f+y*d*m+p*g*b-p*x*m-y*g*f-v*d*b;t.transform(R/M,F/M,O/M,D/M,P/M,B/M),t.drawImage(s,0,0),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;i-2>n;n++){var o=2*n,s=r[o],a=r[o+2],h=r[o+4],u=r[o+1],l=r[o+3],c=r[o+5];e.moveTo(s,u),e.lineTo(a,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,h=e.ty,u=-(1/0),l=-(1/0),c=1/0,p=1/0,d=this.vertices,f=0,v=d.length;v>f;f+=2){var g=d[f],m=d[f+1],y=r*g+o*m+a,x=s*m+i*g+h;c=c>y?y:c,p=p>x?x:p,u=y>u?y:u,l=x>l?x:l}if(c===-(1/0)||l===1/0)return n.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=u-c,b.y=p,b.height=l-p,this._currentBounds=b}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,r,n=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var h=this.indices;for(r=this.indices.length,e=0;r>e;e+=3){var u=2*h[e],l=2*h[e+1],c=2*h[e+2];if(a[0]=n[u],a[1]=n[u+1],a[2]=n[l],a[3]=n[l+1],a[4]=n[c],a[5]=n[c+1],s.contains(o.x,o.y))return!0}}else for(r=n.length,e=0;r>e;e+=6)if(a[0]=n[e],a[1]=n[e+1],a[2]=n[e+2],a[3]=n[e+3],a[4]=n[e+4],a[5]=n[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],126:[function(t,e,r){function i(t,e,r){n.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=r||10,this.drawMode=n.DRAW_MODES.TRIANGLES,this.refresh()}var n=t("./Mesh");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],r=[],i=[],n=[],o=this.texture,s=this.segmentsX-1,a=this.segmentsY-1,h=0,u=o.width/s,l=o.height/a;for(h=0;t>h;h++){var c=h%this.segmentsX,p=h/this.segmentsX|0;e.push(c*u,p*l),i.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(c/(this.segmentsX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(p/(this.segmentsY-1)))}var d=s*a;for(h=0;d>h;h++){var f=h%s,v=h/s|0,g=v*this.segmentsX+f,m=v*this.segmentsX+f+1,y=(v+1)*this.segmentsX+f,x=(v+1)*this.segmentsX+f+1;n.push(g,m,y),n.push(m,x,y)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(i),this.colors=new Float32Array(r),this.indices=new Uint16Array(n)},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":125}],127:[function(t,e,r){function i(t,e){n.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var n=t("./Mesh"),o=t("../core");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,i=this.colors,n=this._texture._uvs,s=new o.Point(n.x0,n.y0),a=new o.Point(n.x2-n.x0,n.y2-n.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var h,u,l,c=t.length,p=1;c>p;p++)h=t[p],u=4*p,l=p/(c-1),e[u]=l*a.x+s.x,e[u+1]=0+s.y,e[u+2]=l*a.x+s.x,e[u+3]=1*a.y+s.y,u=2*p,i[u]=1,i[u+1]=1,u=2*p,r[u]=u,r[u+1]=u+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,i,n,o,s,a=t[0],h=0,u=0,l=this.vertices,c=t.length,p=0;c>p;p++)r=t[p],i=4*p,e=p<t.length-1?t[p+1]:r,u=-(e.x-a.x),h=e.y-a.y,n=10*(1-p/(c-1)),n>1&&(n=1),o=Math.sqrt(h*h+u*u),s=this._texture.height/2,h/=o,u/=o,h*=s,u*=s,l[i]=r.x+h,l[i+1]=r.y+u,l[i+2]=r.x-h,l[i+3]=r.y-u,a=r;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":125}],128:[function(t,e,r){e.exports={Mesh:t("./Mesh"),Plane:t("./Plane"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":125,"./Plane":126,"./Rope":127,"./webgl/MeshRenderer":129,"./webgl/MeshShader":130}],129:[function(t,e,r){function i(t){n.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;15e3>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.currentShader=null}var n=t("../../core"),o=t("../Mesh");i.prototype=Object.create(n.ObjectRenderer.prototype),i.prototype.constructor=i,e.exports=i,n.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,i=t._texture.baseTexture,n=t.shader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),n=n?n.shaders[r.id]||n.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(n),n.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),n.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),n.uniforms.alpha.value=t.worldAlpha,n.syncUniforms(),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),
r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(s,t.indices.length,r.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){this.currentShader=null},i.prototype.destroy=function(){n.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":29,"../Mesh":125}],130:[function(t,e,r){function i(t){n.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=t("../../core");i.prototype=Object.create(n.Shader.prototype),i.prototype.constructor=i,e.exports=i,n.ShaderManager.registerPlugin("meshShader",i)},{"../../core":29}],131:[function(t,e,r){Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1})},{}],132:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":11}],133:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":131,"./Object.assign":132,"./requestAnimationFrame":134}],134:[function(t,e,r){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return 0>i&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[115])(115)});
//# sourceMappingURL=pixi.min.js.map

;(function(){
var k,aa=this;function ca(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a}
function da(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==a&&"undefined"==typeof b.call)return"object";return a}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ha(b,a,c){return b.call.apply(b.bind,arguments)}function ia(b,a,c){if(!b)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return b.apply(a,c)}}return function(){return b.apply(a,arguments)}}
function ja(b,a,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(null,arguments)};function ka(b,a){for(var c in b)a.call(void 0,b[c],c,b)};function la(b,a){this.ea=[];this.qb=a;for(var c=!0,d=b.length-1;0<=d;d--){var e=b[d]|0;c&&e==a||(this.ea[d]=e,c=!1)}}var ma={};function oa(b){if(-128<=b&&128>b){var a=ma[b];if(a)return a}a=new la([b|0],0>b?-1:0);-128<=b&&128>b&&(ma[b]=a);return a}function pa(b){if(isNaN(b)||!isFinite(b))return qa;if(0>b)return pa(-b).Fa();for(var a=[],c=1,d=0;b>=c;d++)a[d]=b/c|0,c*=ra;return new la(a,0)}var ra=4294967296,qa=oa(0),sa=oa(1),ua=oa(16777216);k=la.prototype;
k.pd=function(){return 0<this.ea.length?this.ea[0]:this.qb};k.Rb=function(){if(this.Ma())return-this.Fa().Rb();for(var b=0,a=1,c=0;c<this.ea.length;c++)var d=va(this,c),b=b+(0<=d?d:ra+d)*a,a=a*ra;return b};
k.toString=function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.eb())return"0";if(this.Ma())return"-"+this.Fa().toString(b);for(var a=pa(Math.pow(b,6)),c=this,d="";;){var e=wa(c,a),f=(c.pc(e.multiply(a)).pd()>>>0).toString(b),c=e;if(c.eb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function va(b,a){return 0>a?0:a<b.ea.length?b.ea[a]:b.qb}k.eb=function(){if(0!=this.qb)return!1;for(var b=0;b<this.ea.length;b++)if(0!=this.ea[b])return!1;return!0};
k.Ma=function(){return-1==this.qb};k.cd=function(b){return 0<this.compare(b)};k.dd=function(b){return 0<=this.compare(b)};k.Ec=function(){return 0>this.compare(ua)};k.Fc=function(b){return 0>=this.compare(b)};k.compare=function(b){b=this.pc(b);return b.Ma()?-1:b.eb()?0:1};k.Fa=function(){return this.kd().add(sa)};
k.add=function(b){for(var a=Math.max(this.ea.length,b.ea.length),c=[],d=0,e=0;e<=a;e++){var f=d+(va(this,e)&65535)+(va(b,e)&65535),g=(f>>>16)+(va(this,e)>>>16)+(va(b,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new la(c,c[c.length-1]&-2147483648?-1:0)};k.pc=function(b){return this.add(b.Fa())};
k.multiply=function(b){if(this.eb()||b.eb())return qa;if(this.Ma())return b.Ma()?this.Fa().multiply(b.Fa()):this.Fa().multiply(b).Fa();if(b.Ma())return this.multiply(b.Fa()).Fa();if(this.Ec()&&b.Ec())return pa(this.Rb()*b.Rb());for(var a=this.ea.length+b.ea.length,c=[],d=0;d<2*a;d++)c[d]=0;for(d=0;d<this.ea.length;d++)for(var e=0;e<b.ea.length;e++){var f=va(this,d)>>>16,g=va(this,d)&65535,h=va(b,e)>>>16,l=va(b,e)&65535;c[2*d+2*e]+=g*l;xa(c,2*d+2*e);c[2*d+2*e+1]+=f*l;xa(c,2*d+2*e+1);c[2*d+2*e+1]+=
g*h;xa(c,2*d+2*e+1);c[2*d+2*e+2]+=f*h;xa(c,2*d+2*e+2)}for(d=0;d<a;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=a;d<2*a;d++)c[d]=0;return new la(c,0)};function xa(b,a){for(;(b[a]&65535)!=b[a];)b[a+1]+=b[a]>>>16,b[a]&=65535}
function wa(b,a){if(a.eb())throw Error("division by zero");if(b.eb())return qa;if(b.Ma())return a.Ma()?wa(b.Fa(),a.Fa()):wa(b.Fa(),a).Fa();if(a.Ma())return wa(b,a.Fa()).Fa();if(30<b.ea.length){if(b.Ma()||a.Ma())throw Error("slowDivide_ only works with positive integers.");for(var c=sa,d=a;d.Fc(b);)c=c.shiftLeft(1),d=d.shiftLeft(1);for(var e=c.Ab(1),f=d.Ab(1),g,d=d.Ab(2),c=c.Ab(2);!d.eb();)g=f.add(d),g.Fc(b)&&(e=e.add(c),f=g),d=d.Ab(1),c=c.Ab(1);return e}c=qa;for(d=b;d.dd(a);){e=Math.max(1,Math.floor(d.Rb()/
a.Rb()));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=pa(e);for(var h=g.multiply(a);h.Ma()||h.cd(d);)e-=f,g=pa(e),h=g.multiply(a);g.eb()&&(g=sa);c=c.add(g);d=d.pc(h)}return c}k.kd=function(){for(var b=this.ea.length,a=[],c=0;c<b;c++)a[c]=~this.ea[c];return new la(a,~this.qb)};k.shiftLeft=function(b){var a=b>>5;b%=32;for(var c=this.ea.length+a+(0<b?1:0),d=[],e=0;e<c;e++)d[e]=0<b?va(this,e-a)<<b|va(this,e-a-1)>>>32-b:va(this,e-a);return new la(d,this.qb)};
k.Ab=function(b){var a=b>>5;b%=32;for(var c=this.ea.length-a,d=[],e=0;e<c;e++)d[e]=0<b?va(this,e+a)>>>b|va(this,e+a+1)<<32-b:va(this,e+a);return new la(d,this.qb)};function ya(b,a){null!=b&&this.append.apply(this,arguments)}k=ya.prototype;k.mb="";k.set=function(b){this.mb=""+b};k.append=function(b,a,c){this.mb+=String(b);if(null!=a)for(var d=1;d<arguments.length;d++)this.mb+=arguments[d];return this};k.clear=function(){this.mb=""};k.toString=function(){return this.mb};function za(b,a){b.sort(a||Ba)}function Ca(b,a){for(var c=Array(b.length),d=0;d<b.length;d++)c[d]={index:d,value:b[d]};var e=a||Ba;za(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<b.length;d++)b[d]=c[d].value}function Ba(b,a){return b>a?1:b<a?-1:0};var Da;if("undefined"===typeof Ea)var Ea=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof Fa)var Fa=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var Ga=null;if("undefined"===typeof Ia)var Ia=null;function Ja(){return new La(null,5,[Ma,!0,Na,!0,Oa,!1,Pa,!1,Ra,null],null)}function r(b){return null!=b&&!1!==b}function Sa(b){return b instanceof Array}function Ta(b){return null==b?!0:!1===b?!0:!1}
function Ua(b,a){return b[da(null==a?null:a)]?!0:b._?!0:!1}function Va(b,a){var c=null==a?null:a.constructor,c=r(r(c)?c.Kb:c)?c.nb:da(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Wa(b){var a=b.nb;return r(a)?a:""+t(b)}var Xa="undefined"!==typeof Symbol&&"function"===da(Symbol)?Symbol.iterator:"@@iterator";function Ya(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}
function Za(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return $a(arguments[0]);case 2:return $a(arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function ab(b){return $a(b)}function $a(b){function a(a,b){a.push(b);return a}var c=[];return bb?bb(a,c,b):cb.call(null,a,c,b)}function eb(){}
var fb=function fb(a){if(null!=a&&null!=a.$)return a.$(a);var c=fb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=fb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("ICounted.-count",a);},gb=function gb(a){if(null!=a&&null!=a.ca)return a.ca(a);var c=gb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=gb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IEmptyableCollection.-empty",a);};function hb(){}
var jb=function jb(a,c){if(null!=a&&null!=a.Z)return a.Z(a,c);var d=jb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=jb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("ICollection.-conj",a);};function kb(){}
var lb=function lb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return lb.a(arguments[0],arguments[1]);case 3:return lb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
lb.a=function(b,a){if(null!=b&&null!=b.U)return b.U(b,a);var c=lb[da(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=lb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Va("IIndexed.-nth",b);};lb.c=function(b,a,c){if(null!=b&&null!=b.Ha)return b.Ha(b,a,c);var d=lb[da(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=lb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Va("IIndexed.-nth",b);};lb.B=3;
var mb=function mb(a){if(null!=a&&null!=a.wa)return a.wa(a);var c=mb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=mb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("ISeq.-first",a);},nb=function nb(a){if(null!=a&&null!=a.Da)return a.Da(a);var c=nb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=nb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("ISeq.-rest",a);};function ob(){}function pb(){}
var qb=function qb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return qb.a(arguments[0],arguments[1]);case 3:return qb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
qb.a=function(b,a){if(null!=b&&null!=b.V)return b.V(b,a);var c=qb[da(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=qb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Va("ILookup.-lookup",b);};qb.c=function(b,a,c){if(null!=b&&null!=b.M)return b.M(b,a,c);var d=qb[da(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=qb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Va("ILookup.-lookup",b);};qb.B=3;
var rb=function rb(a,c){if(null!=a&&null!=a.$b)return a.$b(a,c);var d=rb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=rb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IAssociative.-contains-key?",a);},sb=function sb(a,c,d){if(null!=a&&null!=a.hb)return a.hb(a,c,d);var e=sb[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=sb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("IAssociative.-assoc",a);};function tb(){}
var ub=function ub(a,c){if(null!=a&&null!=a.wb)return a.wb(a,c);var d=ub[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=ub._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IMap.-dissoc",a);};function vb(){}
var wb=function wb(a){if(null!=a&&null!=a.fc)return a.fc();var c=wb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=wb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IMapEntry.-key",a);},xb=function xb(a){if(null!=a&&null!=a.gc)return a.gc();var c=xb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=xb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IMapEntry.-val",a);};function yb(){}
var zb=function zb(a,c){if(null!=a&&null!=a.vc)return a.vc(0,c);var d=zb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=zb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("ISet.-disjoin",a);};function Ab(){}
var Bb=function Bb(a,c,d){if(null!=a&&null!=a.hc)return a.hc(a,c,d);var e=Bb[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Bb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("IVector.-assoc-n",a);},Cb=function Cb(a){if(null!=a&&null!=a.dc)return a.dc(a);var c=Cb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Cb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IDeref.-deref",a);};function Db(){}
var Eb=function Eb(a){if(null!=a&&null!=a.K)return a.K(a);var c=Eb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Eb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IMeta.-meta",a);},Fb=function Fb(a,c){if(null!=a&&null!=a.O)return a.O(a,c);var d=Fb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Fb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IWithMeta.-with-meta",a);};function Gb(){}
var Hb=function Hb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Hb.a(arguments[0],arguments[1]);case 3:return Hb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Hb.a=function(b,a){if(null!=b&&null!=b.ua)return b.ua(b,a);var c=Hb[da(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=Hb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Va("IReduce.-reduce",b);};Hb.c=function(b,a,c){if(null!=b&&null!=b.va)return b.va(b,a,c);var d=Hb[da(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=Hb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Va("IReduce.-reduce",b);};Hb.B=3;
var Ib=function Ib(a,c){if(null!=a&&null!=a.v)return a.v(a,c);var d=Ib[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Ib._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IEquiv.-equiv",a);},Jb=function Jb(a){if(null!=a&&null!=a.P)return a.P(a);var c=Jb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Jb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IHash.-hash",a);};function Kb(){}
var Lb=function Lb(a){if(null!=a&&null!=a.ba)return a.ba(a);var c=Lb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Lb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("ISeqable.-seq",a);};function Mb(){}function Nb(){}function Ob(){}
var Pb=function Pb(a){if(null!=a&&null!=a.Ub)return a.Ub(a);var c=Pb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Pb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IReversible.-rseq",a);},Qb=function Qb(a,c){if(null!=a&&null!=a.yc)return a.yc(0,c);var d=Qb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Qb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IWriter.-write",a);},Rb=function Rb(a,c,d){if(null!=a&&null!=a.xc)return a.xc(0,c,
d);var e=Rb[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Rb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("IWatchable.-notify-watches",a);},Sb=function Sb(a){if(null!=a&&null!=a.Db)return a.Db(a);var c=Sb[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Sb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IEditableCollection.-as-transient",a);},Tb=function Tb(a,c){if(null!=a&&null!=a.Ib)return a.Ib(a,c);var d=Tb[da(null==a?null:
a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Tb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("ITransientCollection.-conj!",a);},Ub=function Ub(a){if(null!=a&&null!=a.Jb)return a.Jb(a);var c=Ub[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Ub._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("ITransientCollection.-persistent!",a);},Vb=function Vb(a,c,d){if(null!=a&&null!=a.Hb)return a.Hb(a,c,d);var e=Vb[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,
c,d):e.call(null,a,c,d);e=Vb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("ITransientAssociative.-assoc!",a);},Wb=function Wb(a,c,d){if(null!=a&&null!=a.wc)return a.wc(0,c,d);var e=Wb[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Wb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("ITransientVector.-assoc-n!",a);};function Xb(){}
var Zb=function Zb(a,c){if(null!=a&&null!=a.vb)return a.vb(a,c);var d=Zb[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Zb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IComparable.-compare",a);},$b=function $b(a){if(null!=a&&null!=a.tc)return a.tc();var c=$b[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=$b._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IChunk.-drop-first",a);},ac=function ac(a){if(null!=a&&null!=a.bc)return a.bc(a);
var c=ac[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=ac._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IChunkedSeq.-chunked-first",a);},bc=function bc(a){if(null!=a&&null!=a.cc)return a.cc(a);var c=bc[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=bc._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IChunkedSeq.-chunked-rest",a);},cc=function cc(a){if(null!=a&&null!=a.ac)return a.ac(a);var c=cc[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):
c.call(null,a);c=cc._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IChunkedNext.-chunked-next",a);},dc=function dc(a){if(null!=a&&null!=a.Fb)return a.Fb(a);var c=dc[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=dc._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("INamed.-name",a);},ec=function ec(a){if(null!=a&&null!=a.Gb)return a.Gb(a);var c=ec[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=ec._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("INamed.-namespace",
a);},fc=function fc(a,c){if(null!=a&&null!=a.Tc)return a.Tc(a,c);var d=fc[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=fc._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("IReset.-reset!",a);},gc=function gc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return gc.a(arguments[0],arguments[1]);case 3:return gc.c(arguments[0],arguments[1],arguments[2]);case 4:return gc.w(arguments[0],arguments[1],arguments[2],
arguments[3]);case 5:return gc.J(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};gc.a=function(b,a){if(null!=b&&null!=b.Vc)return b.Vc(b,a);var c=gc[da(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=gc._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Va("ISwap.-swap!",b);};
gc.c=function(b,a,c){if(null!=b&&null!=b.Wc)return b.Wc(b,a,c);var d=gc[da(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=gc._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Va("ISwap.-swap!",b);};gc.w=function(b,a,c,d){if(null!=b&&null!=b.Xc)return b.Xc(b,a,c,d);var e=gc[da(null==b?null:b)];if(null!=e)return e.w?e.w(b,a,c,d):e.call(null,b,a,c,d);e=gc._;if(null!=e)return e.w?e.w(b,a,c,d):e.call(null,b,a,c,d);throw Va("ISwap.-swap!",b);};
gc.J=function(b,a,c,d,e){if(null!=b&&null!=b.Yc)return b.Yc(b,a,c,d,e);var f=gc[da(null==b?null:b)];if(null!=f)return f.J?f.J(b,a,c,d,e):f.call(null,b,a,c,d,e);f=gc._;if(null!=f)return f.J?f.J(b,a,c,d,e):f.call(null,b,a,c,d,e);throw Va("ISwap.-swap!",b);};gc.B=5;var hc=function hc(a){if(null!=a&&null!=a.Ja)return a.Ja(a);var c=hc[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=hc._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IIterable.-iterator",a);};
function ic(b){this.nd=b;this.i=1073741824;this.A=0}ic.prototype.yc=function(b,a){return this.nd.append(a)};function jc(b){var a=new ya;b.X(null,new ic(a),Ja());return""+t(a)}var kc="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(b,a){return Math.imul(b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function lc(b){b=kc(b|0,-862048943);return kc(b<<15|b>>>-15,461845907)}
function mc(b,a){var c=(b|0)^(a|0);return kc(c<<13|c>>>-13,5)+-430675100|0}function nc(b,a){var c=(b|0)^a,c=kc(c^c>>>16,-2048144789),c=kc(c^c>>>13,-1028477387);return c^c>>>16}function oc(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=mc(c,lc(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^lc(b.charCodeAt(b.length-1)):a;return nc(a,kc(2,b.length))}var pc={},qc=0;
function rc(b){255<qc&&(pc={},qc=0);if(null==b)return 0;var a=pc[b];if("number"!==typeof a){a:if(null!=b)if(a=b.length,0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=kc(31,d)+b.charCodeAt(c),c=e;else{a=d;break a}else a=0;else a=0;pc[b]=a;qc+=1}return b=a}
function sc(b){if(null!=b&&(b.i&4194304||b.td))return b.P(null);if("number"===typeof b){if(r(isFinite(b)))return Math.floor(b)%2147483647;switch(b){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=rc(b),0!==b&&(b=lc(b),b=mc(0,b),b=nc(b,4))):b=b instanceof Date?b.valueOf():null==b?0:Jb(b),b}function tc(b,a){return b^a+2654435769+(b<<6)+(b>>2)}
function uc(b,a){if(b.ab===a.ab)return 0;var c=Ta(b.ya);if(r(c?a.ya:c))return-1;if(r(b.ya)){if(Ta(a.ya))return 1;c=Ba(b.ya,a.ya);return 0===c?Ba(b.name,a.name):c}return Ba(b.name,a.name)}function vc(b,a,c,d,e){this.ya=b;this.name=a;this.ab=c;this.ub=d;this.Ca=e;this.i=2154168321;this.A=4096}k=vc.prototype;k.toString=function(){return this.ab};k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return a instanceof vc?this.ab===a.ab:!1};
k.call=function(){function b(a,b,c){return x.c?x.c(b,this,c):x.call(null,b,this,c)}function a(a,b){return x.a?x.a(b,this):x.call(null,b,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=a;c.c=b;return c}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return x.a?x.a(b,this):x.call(null,b,this)};
k.a=function(b,a){return x.c?x.c(b,this,a):x.call(null,b,this,a)};k.K=function(){return this.Ca};k.O=function(b,a){return new vc(this.ya,this.name,this.ab,this.ub,a)};k.P=function(){var b=this.ub;return null!=b?b:this.ub=b=tc(oc(this.name),rc(this.ya))};k.Fb=function(){return this.name};k.Gb=function(){return this.ya};k.X=function(b,a){return Qb(a,this.ab)};
var wc=function wc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return wc.b(arguments[0]);case 2:return wc.a(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};wc.b=function(b){if(b instanceof vc)return b;var a=b.indexOf("/");return 1>a?wc.a(null,b):wc.a(b.substring(0,a),b.substring(a+1,b.length))};wc.a=function(b,a){var c=null!=b?[t(b),t("/"),t(a)].join(""):a;return new vc(b,a,c,null,null)};
wc.B=2;function y(b){if(null==b)return null;if(null!=b&&(b.i&8388608||b.Uc))return b.ba(null);if(Sa(b)||"string"===typeof b)return 0===b.length?null:new xc(b,0,null);if(Ua(Kb,b))return Lb(b);throw Error([t(b),t(" is not ISeqable")].join(""));}function z(b){if(null==b)return null;if(null!=b&&(b.i&64||b.aa))return b.wa(null);b=y(b);return null==b?null:mb(b)}function yc(b){return null!=b?null!=b&&(b.i&64||b.aa)?b.Da(null):(b=y(b))?nb(b):zc:zc}
function B(b){return null==b?null:null!=b&&(b.i&128||b.Tb)?b.za(null):y(yc(b))}var Ac=function Ac(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Ac.b(arguments[0]);case 2:return Ac.a(arguments[0],arguments[1]);default:return Ac.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};Ac.b=function(){return!0};Ac.a=function(b,a){return null==b?null==a:b===a||Ib(b,a)};
Ac.o=function(b,a,c){for(;;)if(Ac.a(b,a))if(B(c))b=a,a=z(c),c=B(c);else return Ac.a(a,z(c));else return!1};Ac.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return Ac.o(a,b,c)};Ac.B=2;function Bc(b){this.F=b}Bc.prototype.next=function(){if(null!=this.F){var b=z(this.F);this.F=B(this.F);return{value:b,done:!1}}return{value:null,done:!0}};function Cc(b){return new Bc(y(b))}function Dc(b,a){var c=lc(b),c=mc(0,c);return nc(c,a)}
function Ec(b){var a=0,c=1;for(b=y(b);;)if(null!=b)a+=1,c=kc(31,c)+sc(z(b))|0,b=B(b);else return Dc(c,a)}var Fc=Dc(1,0);function Gc(b){var a=0,c=0;for(b=y(b);;)if(null!=b)a+=1,c=c+sc(z(b))|0,b=B(b);else return Dc(c,a)}var Hc=Dc(0,0);eb["null"]=!0;fb["null"]=function(){return 0};Date.prototype.v=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Date.prototype.Cb=!0;
Date.prototype.vb=function(b,a){if(a instanceof Date)return Ba(this.valueOf(),a.valueOf());throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};Ib.number=function(b,a){return b===a};Db["function"]=!0;Eb["function"]=function(){return null};Jb._=function(b){return b[ea]||(b[ea]=++fa)};function Ic(b){return b+1}function Jc(){return!1}function C(b){return Cb(b)}
function Kc(b,a){var c=fb(b);if(0===c)return a.j?a.j():a.call(null);for(var d=lb.a(b,0),e=1;;)if(e<c)var f=lb.a(b,e),d=a.a?a.a(d,f):a.call(null,d,f),e=e+1;else return d}function Lc(b,a,c){var d=fb(b),e=c;for(c=0;;)if(c<d){var f=lb.a(b,c),e=a.a?a.a(e,f):a.call(null,e,f);c+=1}else return e}function Mc(b,a){var c=b.length;if(0===b.length)return a.j?a.j():a.call(null);for(var d=b[0],e=1;;)if(e<c)var f=b[e],d=a.a?a.a(d,f):a.call(null,d,f),e=e+1;else return d}
function Nc(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var f=b[c],e=a.a?a.a(e,f):a.call(null,e,f);c+=1}else return e}function Oc(b,a,c,d){for(var e=b.length;;)if(d<e){var f=b[d];c=a.a?a.a(c,f):a.call(null,c,f);d+=1}else return c}function Qc(b){return null!=b?b.i&2||b.Jc?!0:b.i?!1:Ua(eb,b):Ua(eb,b)}function Rc(b){return null!=b?b.i&16||b.uc?!0:b.i?!1:Ua(kb,b):Ua(kb,b)}
function Sc(b,a,c){var d=G.b?G.b(b):G.call(null,b);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(Ac.a(Tc?Tc(b,c):Uc.call(null,b,c),a))return c;c+=1}else return-1}function Vc(b,a,c){var d=G.b?G.b(b):G.call(null,b);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(Ac.a(Tc?Tc(b,c):Uc.call(null,b,c),a))return c;--c}else return-1}function Wc(b,a){this.f=b;this.l=a}Wc.prototype.xa=function(){return this.l<this.f.length};
Wc.prototype.next=function(){var b=this.f[this.l];this.l+=1;return b};function xc(b,a,c){this.f=b;this.l=a;this.s=c;this.i=166592766;this.A=8192}k=xc.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G.b?G.b(this):G.call(null,this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.U=function(b,a){var c=a+this.l;return c<this.f.length?this.f[c]:null};k.Ha=function(b,a,c){b=a+this.l;return b<this.f.length?this.f[b]:c};k.Ja=function(){return new Wc(this.f,this.l)};k.K=function(){return this.s};
k.za=function(){return this.l+1<this.f.length?new xc(this.f,this.l+1,null):null};k.$=function(){var b=this.f.length-this.l;return 0>b?0:b};k.Ub=function(){var b=fb(this);return 0<b?new Xc(this,b-1,null):null};k.P=function(){return Ec(this)};k.v=function(b,a){return Yc.a?Yc.a(this,a):Yc.call(null,this,a)};k.ca=function(){return zc};k.ua=function(b,a){return Oc(this.f,a,this.f[this.l],this.l+1)};k.va=function(b,a,c){return Oc(this.f,a,c,this.l)};k.wa=function(){return this.f[this.l]};
k.Da=function(){return this.l+1<this.f.length?new xc(this.f,this.l+1,null):zc};k.ba=function(){return this.l<this.f.length?this:null};k.O=function(b,a){return new xc(this.f,this.l,a)};k.Z=function(b,a){return Zc.a?Zc.a(a,this):Zc.call(null,a,this)};xc.prototype[Xa]=function(){return Cc(this)};function $c(b,a){return a<b.length?new xc(b,a,null):null}
function ad(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return $c(arguments[0],0);case 2:return $c(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Xc(b,a,c){this.Sb=b;this.l=a;this.s=c;this.i=32374990;this.A=8192}k=Xc.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G.b?G.b(this):G.call(null,this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){return 0<this.l?new Xc(this.Sb,this.l-1,null):null};k.$=function(){return this.l+1};k.P=function(){return Ec(this)};
k.v=function(b,a){return Yc.a?Yc.a(this,a):Yc.call(null,this,a)};k.ca=function(){var b=this.s;return bd.a?bd.a(zc,b):bd.call(null,zc,b)};k.ua=function(b,a){return cd?cd(a,this):dd.call(null,a,this)};k.va=function(b,a,c){return ed?ed(a,c,this):dd.call(null,a,c,this)};k.wa=function(){return lb.a(this.Sb,this.l)};k.Da=function(){return 0<this.l?new Xc(this.Sb,this.l-1,null):zc};k.ba=function(){return this};k.O=function(b,a){return new Xc(this.Sb,this.l,a)};
k.Z=function(b,a){return Zc.a?Zc.a(a,this):Zc.call(null,a,this)};Xc.prototype[Xa]=function(){return Cc(this)};function fd(b){return z(B(b))}function gd(b){for(;;){var a=B(b);if(null!=a)b=a;else return z(b)}}Ib._=function(b,a){return b===a};
var hd=function hd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return hd.j();case 1:return hd.b(arguments[0]);case 2:return hd.a(arguments[0],arguments[1]);default:return hd.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};hd.j=function(){return id};hd.b=function(b){return b};hd.a=function(b,a){return null!=b?jb(b,a):jb(zc,a)};hd.o=function(b,a,c){for(;;)if(r(c))b=hd.a(b,a),a=z(c),c=B(c);else return hd.a(b,a)};
hd.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return hd.o(a,b,c)};hd.B=2;function G(b){if(null!=b)if(null!=b&&(b.i&2||b.Jc))b=b.$(null);else if(Sa(b))b=b.length;else if("string"===typeof b)b=b.length;else if(null!=b&&(b.i&8388608||b.Uc))a:{b=y(b);for(var a=0;;){if(Qc(b)){b=a+fb(b);break a}b=B(b);a+=1}}else b=fb(b);else b=0;return b}function jd(b,a,c){for(;;){if(null==b)return c;if(0===a)return y(b)?z(b):c;if(Rc(b))return lb.c(b,a,c);if(y(b))b=B(b),--a;else return c}}
function Uc(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Tc(arguments[0],arguments[1]);case 3:return H(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function Tc(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(null!=b&&(b.i&16||b.uc))return b.U(null,a);if(Sa(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.i&64||b.aa)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(y(c)){c=z(c);break a}throw Error("Index out of bounds");}if(Rc(c)){c=lb.a(c,d);break a}if(y(c))c=B(c),--d;else throw Error("Index out of bounds");
}}return c}if(Ua(kb,b))return lb.a(b,a);throw Error([t("nth not supported on this type "),t(Wa(null==b?null:b.constructor))].join(""));}
function H(b,a,c){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return c;if(null!=b&&(b.i&16||b.uc))return b.Ha(null,a,c);if(Sa(b))return a<b.length?b[a]:c;if("string"===typeof b)return a<b.length?b.charAt(a):c;if(null!=b&&(b.i&64||b.aa))return jd(b,a,c);if(Ua(kb,b))return lb.a(b,a);throw Error([t("nth not supported on this type "),t(Wa(null==b?null:b.constructor))].join(""));}
var x=function x(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return x.a(arguments[0],arguments[1]);case 3:return x.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};x.a=function(b,a){return null==b?null:null!=b&&(b.i&256||b.Nc)?b.V(null,a):Sa(b)?a<b.length?b[a|0]:null:"string"===typeof b?a<b.length?b[a|0]:null:Ua(pb,b)?qb.a(b,a):null};
x.c=function(b,a,c){return null!=b?null!=b&&(b.i&256||b.Nc)?b.M(null,a,c):Sa(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:Ua(pb,b)?qb.c(b,a,c):c:c};x.B=3;var kd=function kd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return kd.c(arguments[0],arguments[1],arguments[2]);default:return kd.o(arguments[0],arguments[1],arguments[2],new xc(c.slice(3),0,null))}};kd.c=function(b,a,c){return null!=b?sb(b,a,c):ld([a],[c])};
kd.o=function(b,a,c,d){for(;;)if(b=kd.c(b,a,c),r(d))a=z(d),c=fd(d),d=B(B(d));else return b};kd.C=function(b){var a=z(b),c=B(b);b=z(c);var d=B(c),c=z(d),d=B(d);return kd.o(a,b,c,d)};kd.B=3;var md=function md(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return md.b(arguments[0]);case 2:return md.a(arguments[0],arguments[1]);default:return md.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};md.b=function(b){return b};
md.a=function(b,a){return null==b?null:ub(b,a)};md.o=function(b,a,c){for(;;){if(null==b)return null;b=md.a(b,a);if(r(c))a=z(c),c=B(c);else return b}};md.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return md.o(a,b,c)};md.B=2;function nd(b,a){this.g=b;this.s=a;this.i=393217;this.A=0}k=nd.prototype;k.K=function(){return this.s};k.O=function(b,a){return new nd(this.g,a)};
k.call=function(){function b(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q,M){a=this;return od.Eb?od.Eb(a.g,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q,M):od.call(null,a.g,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q,M)}function a(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q){a=this;return a.g.pa?a.g.pa(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K,Q)}function c(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K){a=this;return a.g.oa?a.g.oa(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,
K):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D,K)}function d(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D){a=this;return a.g.na?a.g.na(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E,D)}function e(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E){a=this;return a.g.ma?a.g.ma(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A,E)}function f(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A){a=this;return a.g.la?a.g.la(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A):a.g.call(null,
b,c,d,e,f,g,h,l,n,m,p,q,u,v,w,A)}function g(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w){a=this;return a.g.ka?a.g.ka(b,c,d,e,f,g,h,l,n,m,p,q,u,v,w):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v,w)}function h(a,b,c,d,e,f,g,h,l,n,m,p,q,u,v){a=this;return a.g.ja?a.g.ja(b,c,d,e,f,g,h,l,n,m,p,q,u,v):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u,v)}function l(a,b,c,d,e,f,g,h,l,n,m,p,q,u){a=this;return a.g.ia?a.g.ia(b,c,d,e,f,g,h,l,n,m,p,q,u):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q,u)}function n(a,b,c,d,e,f,g,h,l,n,m,p,q){a=this;
return a.g.ha?a.g.ha(b,c,d,e,f,g,h,l,n,m,p,q):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p,q)}function m(a,b,c,d,e,f,g,h,l,n,m,p){a=this;return a.g.ga?a.g.ga(b,c,d,e,f,g,h,l,n,m,p):a.g.call(null,b,c,d,e,f,g,h,l,n,m,p)}function q(a,b,c,d,e,f,g,h,l,n,m){a=this;return a.g.fa?a.g.fa(b,c,d,e,f,g,h,l,n,m):a.g.call(null,b,c,d,e,f,g,h,l,n,m)}function p(a,b,c,d,e,f,g,h,l,n){a=this;return a.g.ta?a.g.ta(b,c,d,e,f,g,h,l,n):a.g.call(null,b,c,d,e,f,g,h,l,n)}function u(a,b,c,d,e,f,g,h,l){a=this;return a.g.sa?a.g.sa(b,c,
d,e,f,g,h,l):a.g.call(null,b,c,d,e,f,g,h,l)}function v(a,b,c,d,e,f,g,h){a=this;return a.g.ra?a.g.ra(b,c,d,e,f,g,h):a.g.call(null,b,c,d,e,f,g,h)}function w(a,b,c,d,e,f,g){a=this;return a.g.qa?a.g.qa(b,c,d,e,f,g):a.g.call(null,b,c,d,e,f,g)}function A(a,b,c,d,e,f){a=this;return a.g.J?a.g.J(b,c,d,e,f):a.g.call(null,b,c,d,e,f)}function E(a,b,c,d,e){a=this;return a.g.w?a.g.w(b,c,d,e):a.g.call(null,b,c,d,e)}function K(a,b,c,d){a=this;return a.g.c?a.g.c(b,c,d):a.g.call(null,b,c,d)}function Q(a,b,c){a=this;
return a.g.a?a.g.a(b,c):a.g.call(null,b,c)}function M(a,b){a=this;return a.g.b?a.g.b(b):a.g.call(null,b)}function na(a){a=this;return a.g.j?a.g.j():a.g.call(null)}var D=null,D=function(Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib,db,Yb,Pc,Fd){switch(arguments.length){case 1:return na.call(this,Ha);case 2:return M.call(this,Ha,S);case 3:return Q.call(this,Ha,S,V);case 4:return K.call(this,Ha,S,V,ba);case 5:return E.call(this,Ha,S,V,ba,W);case 6:return A.call(this,Ha,S,V,ba,W,T);case 7:return w.call(this,
Ha,S,V,ba,W,T,X);case 8:return v.call(this,Ha,S,V,ba,W,T,X,O);case 9:return u.call(this,Ha,S,V,ba,W,T,X,O,ga);case 10:return p.call(this,Ha,S,V,ba,W,T,X,O,ga,Y);case 11:return q.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P);case 12:return m.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N);case 13:return n.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F);case 14:return l.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D);case 15:return h.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa);case 16:return g.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,
F,D,Aa,Qa);case 17:return f.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka);case 18:return e.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib);case 19:return d.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib,db);case 20:return c.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib,db,Yb);case 21:return a.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib,db,Yb,Pc);case 22:return b.call(this,Ha,S,V,ba,W,T,X,O,ga,Y,P,N,F,D,Aa,Qa,Ka,ib,db,Yb,Pc,Fd)}throw Error("Invalid arity: "+arguments.length);
};D.b=na;D.a=M;D.c=Q;D.w=K;D.J=E;D.qa=A;D.ra=w;D.sa=v;D.ta=u;D.fa=p;D.ga=q;D.ha=m;D.ia=n;D.ja=l;D.ka=h;D.la=g;D.ma=f;D.na=e;D.oa=d;D.pa=c;D.ec=a;D.Eb=b;return D}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.j=function(){return this.g.j?this.g.j():this.g.call(null)};k.b=function(b){return this.g.b?this.g.b(b):this.g.call(null,b)};k.a=function(b,a){return this.g.a?this.g.a(b,a):this.g.call(null,b,a)};
k.c=function(b,a,c){return this.g.c?this.g.c(b,a,c):this.g.call(null,b,a,c)};k.w=function(b,a,c,d){return this.g.w?this.g.w(b,a,c,d):this.g.call(null,b,a,c,d)};k.J=function(b,a,c,d,e){return this.g.J?this.g.J(b,a,c,d,e):this.g.call(null,b,a,c,d,e)};k.qa=function(b,a,c,d,e,f){return this.g.qa?this.g.qa(b,a,c,d,e,f):this.g.call(null,b,a,c,d,e,f)};k.ra=function(b,a,c,d,e,f,g){return this.g.ra?this.g.ra(b,a,c,d,e,f,g):this.g.call(null,b,a,c,d,e,f,g)};
k.sa=function(b,a,c,d,e,f,g,h){return this.g.sa?this.g.sa(b,a,c,d,e,f,g,h):this.g.call(null,b,a,c,d,e,f,g,h)};k.ta=function(b,a,c,d,e,f,g,h,l){return this.g.ta?this.g.ta(b,a,c,d,e,f,g,h,l):this.g.call(null,b,a,c,d,e,f,g,h,l)};k.fa=function(b,a,c,d,e,f,g,h,l,n){return this.g.fa?this.g.fa(b,a,c,d,e,f,g,h,l,n):this.g.call(null,b,a,c,d,e,f,g,h,l,n)};k.ga=function(b,a,c,d,e,f,g,h,l,n,m){return this.g.ga?this.g.ga(b,a,c,d,e,f,g,h,l,n,m):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m)};
k.ha=function(b,a,c,d,e,f,g,h,l,n,m,q){return this.g.ha?this.g.ha(b,a,c,d,e,f,g,h,l,n,m,q):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q)};k.ia=function(b,a,c,d,e,f,g,h,l,n,m,q,p){return this.g.ia?this.g.ia(b,a,c,d,e,f,g,h,l,n,m,q,p):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p)};k.ja=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u){return this.g.ja?this.g.ja(b,a,c,d,e,f,g,h,l,n,m,q,p,u):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u)};
k.ka=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v){return this.g.ka?this.g.ka(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v)};k.la=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w){return this.g.la?this.g.la(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w)};k.ma=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A){return this.g.ma?this.g.ma(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A)};
k.na=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E){return this.g.na?this.g.na(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E)};k.oa=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K){return this.g.oa?this.g.oa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K)};
k.pa=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q){return this.g.pa?this.g.pa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q):this.g.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q)};k.ec=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M){return od.Eb?od.Eb(this.g,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M):od.call(null,this.g,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M)};function bd(b,a){return"function"==da(b)?new nd(b,a):null==b?null:Fb(b,a)}
function pd(b){var a=null!=b;return(a?null!=b?b.i&131072||b.Qc||(b.i?0:Ua(Db,b)):Ua(Db,b):a)?Eb(b):null}var qd=function qd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return qd.b(arguments[0]);case 2:return qd.a(arguments[0],arguments[1]);default:return qd.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};qd.b=function(b){return b};qd.a=function(b,a){return null==b?null:zb(b,a)};
qd.o=function(b,a,c){for(;;){if(null==b)return null;b=qd.a(b,a);if(r(c))a=z(c),c=B(c);else return b}};qd.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return qd.o(a,b,c)};qd.B=2;function rd(b){return null==b?!1:null!=b?b.i&4096||b.xd?!0:b.i?!1:Ua(yb,b):Ua(yb,b)}function sd(b){return null!=b?b.i&16777216||b.wd?!0:b.i?!1:Ua(Mb,b):Ua(Mb,b)}function td(b){return null==b?!1:null!=b?b.i&1024||b.Oc?!0:b.i?!1:Ua(tb,b):Ua(tb,b)}function ud(b){return null!=b?b.i&16384||b.yd?!0:b.i?!1:Ua(Ab,b):Ua(Ab,b)}
function vd(b){return null!=b?b.A&512||b.rd?!0:!1:!1}function wd(b){var a=[];ka(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function xd(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var yd={};function zd(b){return null==b?!1:!1===b?!1:!0}function Ad(b,a){return x.c(b,a,yd)===yd?!1:!0}
function Bd(b,a){if(b===a)return 0;if(null==b)return-1;if(null==a)return 1;if("number"===typeof b){if("number"===typeof a)return Ba(b,a);throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));}if(null!=b?b.A&2048||b.Cb||(b.A?0:Ua(Xb,b)):Ua(Xb,b))return Zb(b,a);if("string"!==typeof b&&!Sa(b)&&!0!==b&&!1!==b||(null==b?null:b.constructor)!==(null==a?null:a.constructor))throw Error([t("Cannot compare "),t(b),t(" to "),t(a)].join(""));return Ba(b,a)}
function Cd(b,a){var c=G(b),d=G(a);if(c<d)c=-1;else if(c>d)c=1;else if(0===c)c=0;else a:for(d=0;;){var e=Bd(Tc(b,d),Tc(a,d));if(0===e&&d+1<c)d+=1;else{c=e;break a}}return c}function Dd(b){return Ac.a(b,Bd)?Bd:function(a,c){var d=b.a?b.a(a,c):b.call(null,a,c);return"number"===typeof d?d:r(d)?-1:r(b.a?b.a(c,a):b.call(null,c,a))?1:0}}function Ed(b,a){if(y(a)){var c=Gd.b?Gd.b(a):Gd.call(null,a),d=Dd(b);Ca(c,d);return y(c)}return zc}
function Hd(b){return Ed(function(a,b){return Dd(Bd).call(null,fd.b?fd.b(a):fd.call(null,a),fd.b?fd.b(b):fd.call(null,b))},b)}function dd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return cd(arguments[0],arguments[1]);case 3:return ed(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function cd(b,a){var c=y(a);if(c){var d=z(c),c=B(c);return bb?bb(b,d,c):cb.call(null,b,d,c)}return b.j?b.j():b.call(null)}function ed(b,a,c){for(c=y(c);;)if(c){var d=z(c);a=b.a?b.a(a,d):b.call(null,a,d);c=B(c)}else return a}
function cb(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Id(arguments[0],arguments[1]);case 3:return bb(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Id(b,a){return null!=a&&(a.i&524288||a.Sc)?a.ua(null,b):Sa(a)?Mc(a,b):"string"===typeof a?Mc(a,b):Ua(Gb,a)?Hb.a(a,b):cd(b,a)}
function bb(b,a,c){return null!=c&&(c.i&524288||c.Sc)?c.va(null,b,a):Sa(c)?Nc(c,b,a):"string"===typeof c?Nc(c,b,a):Ua(Gb,c)?Hb.c(c,b,a):ed(b,a,c)}function Jd(b){return b}function Kd(b,a,c,d){b=b.b?b.b(a):b.call(null,a);c=bb(b,c,d);return b.b?b.b(c):b.call(null,c)}function Ld(b){return b-1}
var Md=function Md(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Md.b(arguments[0]);case 2:return Md.a(arguments[0],arguments[1]);default:return Md.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};Md.b=function(b){return b};Md.a=function(b,a){return b>a?b:a};Md.o=function(b,a,c){return bb(Md,b>a?b:a,c)};Md.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return Md.o(a,b,c)};Md.B=2;
var Nd=function Nd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Nd.b(arguments[0]);case 2:return Nd.a(arguments[0],arguments[1]);default:return Nd.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};Nd.b=function(b){return b};Nd.a=function(b,a){return b<a?b:a};Nd.o=function(b,a,c){return bb(Nd,b<a?b:a,c)};Nd.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return Nd.o(a,b,c)};Nd.B=2;function Od(b){return b|0}
function Pd(b){b=(b-b%2)/2;return 0<=b?Math.floor(b):Math.ceil(b)}function Qd(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}var t=function t(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return t.j();case 1:return t.b(arguments[0]);default:return t.o(arguments[0],new xc(c.slice(1),0,null))}};t.j=function(){return""};t.b=function(b){return null==b?"":""+b};
t.o=function(b,a){for(var c=new ya(""+t(b)),d=a;;)if(r(d))c=c.append(""+t(z(d))),d=B(d);else return c.toString()};t.C=function(b){var a=z(b);b=B(b);return t.o(a,b)};t.B=1;function Yc(b,a){var c;if(sd(a))if(Qc(b)&&Qc(a)&&G(b)!==G(a))c=!1;else a:{c=y(b);for(var d=y(a);;){if(null==c){c=null==d;break a}if(null!=d&&Ac.a(z(c),z(d)))c=B(c),d=B(d);else{c=!1;break a}}}else c=null;return zd(c)}
function Rd(b){var a=0;for(b=y(b);;)if(b){var c=z(b),a=(a+(sc(Sd.b?Sd.b(c):Sd.call(null,c))^sc(Td.b?Td.b(c):Td.call(null,c))))%4503599627370496;b=B(b)}else return a}function Ud(b,a,c,d,e){this.s=b;this.first=a;this.fb=c;this.count=d;this.u=e;this.i=65937646;this.A=8192}k=Ud.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,this.count)}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){return 1===this.count?null:this.fb};k.$=function(){return this.count};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};
k.ca=function(){return Fb(zc,this.s)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return this.first};k.Da=function(){return 1===this.count?zc:this.fb};k.ba=function(){return this};k.O=function(b,a){return new Ud(a,this.first,this.fb,this.count,this.u)};k.Z=function(b,a){return new Ud(this.s,a,this,this.count+1,null)};Ud.prototype[Xa]=function(){return Cc(this)};function Vd(b){this.s=b;this.i=65937614;this.A=8192}k=Vd.prototype;k.toString=function(){return jc(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){return null};k.$=function(){return 0};k.P=function(){return Fc};k.v=function(b,a){return(null!=a?a.i&33554432||a.ud||(a.i?0:Ua(Nb,a)):Ua(Nb,a))||sd(a)?null==y(a):!1};k.ca=function(){return this};
k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return null};k.Da=function(){return zc};k.ba=function(){return null};k.O=function(b,a){return new Vd(a)};k.Z=function(b,a){return new Ud(this.s,a,null,1,null)};var zc=new Vd(null);Vd.prototype[Xa]=function(){return Cc(this)};function Wd(b){return(null!=b?b.i&134217728||b.vd||(b.i?0:Ua(Ob,b)):Ua(Ob,b))?Pb(b):bb(hd,zc,b)}
function Xd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a:{c=0<a.length?new xc(a.slice(0),0,null):null;if(c instanceof xc&&0===c.l)a=c.f;else b:for(a=[];;)if(null!=c)a.push(c.wa(null)),c=c.za(null);else break b;for(var c=a.length,e=zc;;)if(0<c)d=c-1,e=e.Z(null,a[c-1]),c=d;else break a}return e}function Yd(b,a,c,d){this.s=b;this.first=a;this.fb=c;this.u=d;this.i=65929452;this.A=8192}k=Yd.prototype;k.toString=function(){return jc(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){return null==this.fb?null:y(this.fb)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.s)};
k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return this.first};k.Da=function(){return null==this.fb?zc:this.fb};k.ba=function(){return this};k.O=function(b,a){return new Yd(a,this.first,this.fb,this.u)};k.Z=function(b,a){return new Yd(null,a,this,null)};Yd.prototype[Xa]=function(){return Cc(this)};function Zc(b,a){var c=null==a;return(c?c:null!=a&&(a.i&64||a.aa))?new Yd(null,b,a,null):new Yd(null,b,y(a),null)}
function Zd(b,a){if(b.Ea===a.Ea)return 0;var c=Ta(b.ya);if(r(c?a.ya:c))return-1;if(r(b.ya)){if(Ta(a.ya))return 1;c=Ba(b.ya,a.ya);return 0===c?Ba(b.name,a.name):c}return Ba(b.name,a.name)}function I(b,a,c,d){this.ya=b;this.name=a;this.Ea=c;this.ub=d;this.i=2153775105;this.A=4096}k=I.prototype;k.toString=function(){return[t(":"),t(this.Ea)].join("")};k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return a instanceof I?this.Ea===a.Ea:!1};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return x.a(b,this);case 3:return x.c(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return x.a(b,this)};b.c=function(a,b,d){return x.c(b,this,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return x.a(b,this)};k.a=function(b,a){return x.c(b,this,a)};
k.P=function(){var b=this.ub;return null!=b?b:this.ub=b=tc(oc(this.name),rc(this.ya))+2654435769|0};k.Fb=function(){return this.name};k.Gb=function(){return this.ya};k.X=function(b,a){return Qb(a,[t(":"),t(this.Ea)].join(""))};function $d(b,a){return b===a?!0:b instanceof I&&a instanceof I?b.Ea===a.Ea:!1}function ae(b){if(null!=b&&(b.A&4096||b.Rc))return b.Gb(null);throw Error([t("Doesn't support namespace: "),t(b)].join(""));}
var be=function be(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return be.b(arguments[0]);case 2:return be.a(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};be.b=function(b){if(b instanceof I)return b;if(b instanceof vc)return new I(ae(b),ce.b?ce.b(b):ce.call(null,b),b.ab,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new I(a[0],a[1],b,null):new I(null,a[0],b,null)}return null};
be.a=function(b,a){return new I(b,a,[t(r(b)?[t(b),t("/")].join(""):null),t(a)].join(""),null)};be.B=2;function de(b,a,c,d){this.s=b;this.yb=a;this.F=c;this.u=d;this.i=32374988;this.A=1}k=de.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};function ee(b){null!=b.yb&&(b.F=b.yb.j?b.yb.j():b.yb.call(null),b.yb=null);return b.F}
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){Lb(this);return null==this.F?null:B(this.F)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};
k.ca=function(){return bd(zc,this.s)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){Lb(this);return null==this.F?null:z(this.F)};k.Da=function(){Lb(this);return null!=this.F?yc(this.F):zc};k.ba=function(){ee(this);if(null==this.F)return null;for(var b=this.F;;)if(b instanceof de)b=ee(b);else return this.F=b,y(this.F)};k.O=function(b,a){return new de(a,this.yb,this.F,this.u)};k.Z=function(b,a){return Zc(a,this)};de.prototype[Xa]=function(){return Cc(this)};
function fe(b,a){this.H=b;this.end=a;this.i=2;this.A=0}fe.prototype.add=function(b){this.H[this.end]=b;return this.end+=1};fe.prototype.Y=function(){var b=new ge(this.H,0,this.end);this.H=null;return b};fe.prototype.$=function(){return this.end};function he(b){return new fe(Array(b),0)}function ge(b,a,c){this.f=b;this.off=a;this.end=c;this.i=524306;this.A=0}k=ge.prototype;k.$=function(){return this.end-this.off};k.U=function(b,a){return this.f[this.off+a]};
k.Ha=function(b,a,c){return 0<=a&&a<this.end-this.off?this.f[this.off+a]:c};k.tc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ge(this.f,this.off+1,this.end)};k.ua=function(b,a){return Oc(this.f,a,this.f[this.off],this.off+1)};k.va=function(b,a,c){return Oc(this.f,a,c,this.off)};function ie(b,a,c,d){this.Y=b;this.Ya=a;this.s=c;this.u=d;this.i=31850732;this.A=1536}k=ie.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){if(1<fb(this.Y))return new ie($b(this.Y),this.Ya,this.s,null);var b=Lb(this.Ya);return null==b?null:b};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};
k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.s)};k.wa=function(){return lb.a(this.Y,0)};k.Da=function(){return 1<fb(this.Y)?new ie($b(this.Y),this.Ya,this.s,null):null==this.Ya?zc:this.Ya};k.ba=function(){return this};k.bc=function(){return this.Y};k.cc=function(){return null==this.Ya?zc:this.Ya};k.O=function(b,a){return new ie(this.Y,this.Ya,a,this.u)};k.Z=function(b,a){return Zc(a,this)};k.ac=function(){return null==this.Ya?null:this.Ya};ie.prototype[Xa]=function(){return Cc(this)};
function je(b,a){return 0===fb(b)?a:new ie(b,a,null,null)}function ke(b,a){b.add(a)}function Gd(b){for(var a=[];;)if(y(b))a.push(z(b)),b=B(b);else return a}function le(b,a){if(Qc(a))return G(a);for(var c=0,d=y(a);;)if(null!=d&&c<b)c+=1,d=B(d);else return c}
var me=function me(a){return null==a?null:null==B(a)?y(z(a)):Zc(z(a),me(B(a)))},ne=function ne(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return ne.j();case 1:return ne.b(arguments[0]);case 2:return ne.a(arguments[0],arguments[1]);default:return ne.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};ne.j=function(){return new de(null,function(){return null},null,null)};
ne.b=function(b){return new de(null,function(){return b},null,null)};ne.a=function(b,a){return new de(null,function(){var c=y(b);return c?vd(c)?je(ac(c),ne.a(bc(c),a)):Zc(z(c),ne.a(yc(c),a)):a},null,null)};ne.o=function(b,a,c){return function e(a,b){return new de(null,function(){var c=y(a);return c?vd(c)?je(ac(c),e(bc(c),b)):Zc(z(c),e(yc(c),b)):r(b)?e(z(b),B(b)):null},null,null)}(ne.a(b,a),c)};ne.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return ne.o(a,b,c)};ne.B=2;
var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return oe.j();case 1:return oe.b(arguments[0]);case 2:return oe.a(arguments[0],arguments[1]);default:return oe.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};oe.j=function(){return Sb(id)};oe.b=function(b){return b};oe.a=function(b,a){return Tb(b,a)};oe.o=function(b,a,c){for(;;)if(b=Tb(b,a),r(c))a=z(c),c=B(c);else return b};
oe.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return oe.o(a,b,c)};oe.B=2;
function pe(b,a,c){var d=y(c);if(0===a)return b.j?b.j():b.call(null);c=mb(d);var e=nb(d);if(1===a)return b.b?b.b(c):b.b?b.b(c):b.call(null,c);var d=mb(e),f=nb(e);if(2===a)return b.a?b.a(c,d):b.a?b.a(c,d):b.call(null,c,d);var e=mb(f),g=nb(f);if(3===a)return b.c?b.c(c,d,e):b.c?b.c(c,d,e):b.call(null,c,d,e);var f=mb(g),h=nb(g);if(4===a)return b.w?b.w(c,d,e,f):b.w?b.w(c,d,e,f):b.call(null,c,d,e,f);var g=mb(h),l=nb(h);if(5===a)return b.J?b.J(c,d,e,f,g):b.J?b.J(c,d,e,f,g):b.call(null,c,d,e,f,g);var h=mb(l),
n=nb(l);if(6===a)return b.qa?b.qa(c,d,e,f,g,h):b.qa?b.qa(c,d,e,f,g,h):b.call(null,c,d,e,f,g,h);var l=mb(n),m=nb(n);if(7===a)return b.ra?b.ra(c,d,e,f,g,h,l):b.ra?b.ra(c,d,e,f,g,h,l):b.call(null,c,d,e,f,g,h,l);var n=mb(m),q=nb(m);if(8===a)return b.sa?b.sa(c,d,e,f,g,h,l,n):b.sa?b.sa(c,d,e,f,g,h,l,n):b.call(null,c,d,e,f,g,h,l,n);var m=mb(q),p=nb(q);if(9===a)return b.ta?b.ta(c,d,e,f,g,h,l,n,m):b.ta?b.ta(c,d,e,f,g,h,l,n,m):b.call(null,c,d,e,f,g,h,l,n,m);var q=mb(p),u=nb(p);if(10===a)return b.fa?b.fa(c,
d,e,f,g,h,l,n,m,q):b.fa?b.fa(c,d,e,f,g,h,l,n,m,q):b.call(null,c,d,e,f,g,h,l,n,m,q);var p=mb(u),v=nb(u);if(11===a)return b.ga?b.ga(c,d,e,f,g,h,l,n,m,q,p):b.ga?b.ga(c,d,e,f,g,h,l,n,m,q,p):b.call(null,c,d,e,f,g,h,l,n,m,q,p);var u=mb(v),w=nb(v);if(12===a)return b.ha?b.ha(c,d,e,f,g,h,l,n,m,q,p,u):b.ha?b.ha(c,d,e,f,g,h,l,n,m,q,p,u):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u);var v=mb(w),A=nb(w);if(13===a)return b.ia?b.ia(c,d,e,f,g,h,l,n,m,q,p,u,v):b.ia?b.ia(c,d,e,f,g,h,l,n,m,q,p,u,v):b.call(null,c,d,e,f,g,h,l,
n,m,q,p,u,v);var w=mb(A),E=nb(A);if(14===a)return b.ja?b.ja(c,d,e,f,g,h,l,n,m,q,p,u,v,w):b.ja?b.ja(c,d,e,f,g,h,l,n,m,q,p,u,v,w):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w);var A=mb(E),K=nb(E);if(15===a)return b.ka?b.ka(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A):b.ka?b.ka(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A);var E=mb(K),Q=nb(K);if(16===a)return b.la?b.la(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E):b.la?b.la(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E);var K=
mb(Q),M=nb(Q);if(17===a)return b.ma?b.ma(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K):b.ma?b.ma(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K);var Q=mb(M),na=nb(M);if(18===a)return b.na?b.na(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q):b.na?b.na(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q);M=mb(na);na=nb(na);if(19===a)return b.oa?b.oa(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M):b.oa?b.oa(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M):b.call(null,c,d,e,
f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M);var D=mb(na);nb(na);if(20===a)return b.pa?b.pa(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M,D):b.pa?b.pa(c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M,D):b.call(null,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M,D);throw Error("Only up to 20 arguments supported on functions");}
function od(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return qe(arguments[0],arguments[1]);case 3:return se(arguments[0],arguments[1],arguments[2]);case 4:a=arguments[0];c=Zc(arguments[1],Zc(arguments[2],arguments[3]));d=a.B;if(a.C)var e=le(d+1,c),a=e<=d?pe(a,e,c):a.C(c);else a=a.apply(a,Gd(c));return a;case 5:return te(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return ue(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],new xc(a.slice(5),0,null))}}function qe(b,a){var c=b.B;if(b.C){var d=le(c+1,a);return d<=c?pe(b,d,a):b.C(a)}return b.apply(b,Gd(a))}function se(b,a,c){a=Zc(a,c);c=b.B;if(b.C){var d=le(c+1,a);return d<=c?pe(b,d,a):b.C(a)}return b.apply(b,Gd(a))}function te(b,a,c,d,e){a=Zc(a,Zc(c,Zc(d,e)));c=b.B;return b.C?(d=le(c+1,a),d<=c?pe(b,d,a):b.C(a)):b.apply(b,Gd(a))}
function ue(b,a,c,d,e,f){a=Zc(a,Zc(c,Zc(d,Zc(e,me(f)))));c=b.B;return b.C?(d=le(c+1,a),d<=c?pe(b,d,a):b.C(a)):b.apply(b,Gd(a))}function ve(b){return y(b)?b:null}
var we=function we(){"undefined"===typeof Da&&(Da=function(a,b){this.jd=a;this.ed=b;this.i=393216;this.A=0},Da.prototype.O=function(a,b){return new Da(this.jd,b)},Da.prototype.K=function(){return this.ed},Da.prototype.xa=function(){return!1},Da.prototype.next=function(){return Error("No such element")},Da.prototype.remove=function(){return Error("Unsupported operation")},Da.lc=function(){return new J(null,2,5,L,[bd(xe,new La(null,1,[ye,Xd(ze,Xd(id))],null)),Ae],null)},Da.Kb=!0,Da.nb="cljs.core/t_cljs$core29447",
Da.Wb=function(a,b){return Qb(b,"cljs.core/t_cljs$core29447")});return new Da(we,Be)};function De(b,a){for(;;){if(null==y(a))return!0;var c;c=z(a);c=b.b?b.b(c):b.call(null,c);if(r(c)){c=b;var d=B(a);b=c;a=d}else return!1}}function Ee(b){for(var a=Jd;;)if(y(b)){var c;c=z(b);c=a.b?a.b(c):a.call(null,c);if(r(c))return c;b=B(b)}else return null}
function Fe(){return function(){function b(a){if(0<arguments.length)for(var b=0,d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;return!1}b.B=0;b.C=function(a){y(a);return!1};b.o=function(){return!1};return b}()}
var Ge=function Ge(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Ge.j();case 1:return Ge.b(arguments[0]);case 2:return Ge.a(arguments[0],arguments[1]);case 3:return Ge.c(arguments[0],arguments[1],arguments[2]);default:return Ge.o(arguments[0],arguments[1],arguments[2],new xc(c.slice(3),0,null))}};Ge.j=function(){return Jd};Ge.b=function(b){return b};
Ge.a=function(b,a){return function(){function c(c,d,e){c=a.c?a.c(c,d,e):a.call(null,c,d,e);return b.b?b.b(c):b.call(null,c)}function d(c,d){var e=a.a?a.a(c,d):a.call(null,c,d);return b.b?b.b(e):b.call(null,e)}function e(c){c=a.b?a.b(c):a.call(null,c);return b.b?b.b(c):b.call(null,c)}function f(){var c=a.j?a.j():a.call(null);return b.b?b.b(c):b.call(null,c)}var g=null,h=function(){function c(a,b,e,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+
3],++g;g=new xc(h,0)}return d.call(this,a,b,e,g)}function d(c,e,f,g){c=te(a,c,e,f,g);return b.b?b.b(c):b.call(null,c)}c.B=3;c.C=function(a){var b=z(a);a=B(a);var c=z(a);a=B(a);var e=z(a);a=yc(a);return d(b,c,e,a)};c.o=d;return c}(),g=function(a,b,g,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var p=null;if(3<arguments.length){for(var p=0,u=Array(arguments.length-3);p<u.length;)u[p]=arguments[p+
3],++p;p=new xc(u,0)}return h.o(a,b,g,p)}throw Error("Invalid arity: "+arguments.length);};g.B=3;g.C=h.C;g.j=f;g.b=e;g.a=d;g.c=c;g.o=h.o;return g}()};
Ge.c=function(b,a,c){return function(){function d(d,e,f){d=c.c?c.c(d,e,f):c.call(null,d,e,f);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}function e(d,e){var f;f=c.a?c.a(d,e):c.call(null,d,e);f=a.b?a.b(f):a.call(null,f);return b.b?b.b(f):b.call(null,f)}function f(d){d=c.b?c.b(d):c.call(null,d);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}function g(){var d;d=c.j?c.j():c.call(null);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}var h=null,l=function(){function d(a,
b,c,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+3],++g;g=new xc(h,0)}return e.call(this,a,b,c,g)}function e(d,f,g,h){d=te(c,d,f,g,h);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}d.B=3;d.C=function(a){var b=z(a);a=B(a);var c=z(a);a=B(a);var d=z(a);a=yc(a);return e(b,c,d,a)};d.o=e;return d}(),h=function(a,b,c,h){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);
case 3:return d.call(this,a,b,c);default:var u=null;if(3<arguments.length){for(var u=0,v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new xc(v,0)}return l.o(a,b,c,u)}throw Error("Invalid arity: "+arguments.length);};h.B=3;h.C=l.C;h.j=g;h.b=f;h.a=e;h.c=d;h.o=l.o;return h}()};
Ge.o=function(b,a,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new xc(e,0)}return c.call(this,d)}function c(b){b=qe(z(a),b);for(var d=B(a);;)if(d)b=z(d).call(null,b),d=B(d);else return b}b.B=0;b.C=function(a){a=y(a);return c(a)};b.o=c;return b}()}(Wd(Zc(b,Zc(a,Zc(c,d)))))};Ge.C=function(b){var a=z(b),c=B(b);b=z(c);var d=B(c),c=z(d),d=B(d);return Ge.o(a,b,c,d)};Ge.B=3;
function He(b,a,c,d){this.state=b;this.s=a;this.qd=c;this.Hc=d;this.A=16386;this.i=6455296}k=He.prototype;k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return this===a};k.dc=function(){return this.state};k.K=function(){return this.s};
k.xc=function(b,a,c){b=y(this.Hc);for(var d=null,e=0,f=0;;)if(f<e){var g=d.U(null,f),h=H(g,0,null),g=H(g,1,null);g.w?g.w(h,this,a,c):g.call(null,h,this,a,c);f+=1}else if(b=y(b))vd(b)?(d=ac(b),b=bc(b),h=d,e=G(d),d=h):(d=z(b),h=H(d,0,null),g=H(d,1,null),g.w?g.w(h,this,a,c):g.call(null,h,this,a,c),b=B(b),d=null,e=0),f=0;else return null};k.P=function(){return this[ea]||(this[ea]=++fa)};
function Ie(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Je(arguments[0]);default:return c=arguments[0],a=new xc(a.slice(1),0,null),d=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,a=x.a(d,Oa),d=x.a(d,Le),new He(c,a,d,null)}}function Je(b){return new He(b,null,null,null)}
function Me(b,a){if(b instanceof He){var c=b.qd;if(null!=c&&!r(c.b?c.b(a):c.call(null,a)))throw Error("Validator rejected reference state");c=b.state;b.state=a;null!=b.Hc&&Rb(b,c,a);return a}return fc(b,a)}
var Ne=function Ne(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Ne.a(arguments[0],arguments[1]);case 3:return Ne.c(arguments[0],arguments[1],arguments[2]);case 4:return Ne.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Ne.o(arguments[0],arguments[1],arguments[2],arguments[3],new xc(c.slice(4),0,null))}};
Ne.a=function(b,a){var c;b instanceof He?(c=b.state,c=a.b?a.b(c):a.call(null,c),c=Me(b,c)):c=gc.a(b,a);return c};Ne.c=function(b,a,c){if(b instanceof He){var d=b.state;a=a.a?a.a(d,c):a.call(null,d,c);b=Me(b,a)}else b=gc.c(b,a,c);return b};Ne.w=function(b,a,c,d){if(b instanceof He){var e=b.state;a=a.c?a.c(e,c,d):a.call(null,e,c,d);b=Me(b,a)}else b=gc.w(b,a,c,d);return b};Ne.o=function(b,a,c,d,e){return b instanceof He?Me(b,te(a,b.state,c,d,e)):gc.J(b,a,c,d,e)};
Ne.C=function(b){var a=z(b),c=B(b);b=z(c);var d=B(c),c=z(d),e=B(d),d=z(e),e=B(e);return Ne.o(a,b,c,d,e)};Ne.B=4;
var Oe=function Oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Oe.b(arguments[0]);case 2:return Oe.a(arguments[0],arguments[1]);case 3:return Oe.c(arguments[0],arguments[1],arguments[2]);case 4:return Oe.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Oe.o(arguments[0],arguments[1],arguments[2],arguments[3],new xc(c.slice(4),0,null))}};
Oe.b=function(b){return function(a){return function(){function c(c,d){var e=b.b?b.b(d):b.call(null,d);return a.a?a.a(c,e):a.call(null,c,e)}function d(b){return a.b?a.b(b):a.call(null,b)}function e(){return a.j?a.j():a.call(null)}var f=null,g=function(){function c(a,b,e){var f=null;if(2<arguments.length){for(var f=0,g=Array(arguments.length-2);f<g.length;)g[f]=arguments[f+2],++f;f=new xc(g,0)}return d.call(this,a,b,f)}function d(c,e,f){e=se(b,e,f);return a.a?a.a(c,e):a.call(null,c,e)}c.B=2;c.C=function(a){var b=
z(a);a=B(a);var c=z(a);a=yc(a);return d(b,c,a)};c.o=d;return c}(),f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var m=null;if(2<arguments.length){for(var m=0,q=Array(arguments.length-2);m<q.length;)q[m]=arguments[m+2],++m;m=new xc(q,0)}return g.o(a,b,m)}throw Error("Invalid arity: "+arguments.length);};f.B=2;f.C=g.C;f.j=e;f.b=d;f.a=c;f.o=g.o;return f}()}};
Oe.a=function(b,a){return new de(null,function(){var c=y(a);if(c){if(vd(c)){for(var d=ac(c),e=G(d),f=he(e),g=0;;)if(g<e)ke(f,function(){var a=lb.a(d,g);return b.b?b.b(a):b.call(null,a)}()),g+=1;else break;return je(f.Y(),Oe.a(b,bc(c)))}return Zc(function(){var a=z(c);return b.b?b.b(a):b.call(null,a)}(),Oe.a(b,yc(c)))}return null},null,null)};
Oe.c=function(b,a,c){return new de(null,function(){var d=y(a),e=y(c);if(d&&e){var f=Zc,g;g=z(d);var h=z(e);g=b.a?b.a(g,h):b.call(null,g,h);d=f(g,Oe.c(b,yc(d),yc(e)))}else d=null;return d},null,null)};Oe.w=function(b,a,c,d){return new de(null,function(){var e=y(a),f=y(c),g=y(d);if(e&&f&&g){var h=Zc,l;l=z(e);var n=z(f),m=z(g);l=b.c?b.c(l,n,m):b.call(null,l,n,m);e=h(l,Oe.w(b,yc(e),yc(f),yc(g)))}else e=null;return e},null,null)};
Oe.o=function(b,a,c,d,e){var f=function h(a){return new de(null,function(){var b=Oe.a(y,a);return De(Jd,b)?Zc(Oe.a(z,b),h(Oe.a(yc,b))):null},null,null)};return Oe.a(function(){return function(a){return qe(b,a)}}(f),f(hd.o(e,d,ad([c,a],0))))};Oe.C=function(b){var a=z(b),c=B(b);b=z(c);var d=B(c),c=z(d),e=B(d),d=z(e),e=B(e);return Oe.o(a,b,c,d,e)};Oe.B=4;
function Pe(b,a){if("number"!==typeof b)throw Error("Assert failed: (number? n)");return new de(null,function(){if(0<b){var c=y(a);return c?Zc(z(c),Pe(b-1,yc(c))):null}return null},null,null)}function Qe(b,a){if("number"!==typeof b)throw Error("Assert failed: (number? n)");return new de(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=y(b);if(0<a&&e){var f=a-1,e=yc(e);a=f;b=e}else return e}}),null,null)}
var Re=function Re(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Re.a(arguments[0],arguments[1]);default:return Re.o(arguments[0],arguments[1],new xc(c.slice(2),0,null))}};Re.a=function(b,a){return new de(null,function(){var c=y(b),d=y(a);return c&&d?Zc(z(c),Zc(z(d),Re.a(yc(c),yc(d)))):null},null,null)};
Re.o=function(b,a,c){return new de(null,function(){var d=Oe.a(y,hd.o(c,a,ad([b],0)));return De(Jd,d)?ne.a(Oe.a(z,d),qe(Re,Oe.a(yc,d))):null},null,null)};Re.C=function(b){var a=z(b),c=B(b);b=z(c);c=B(c);return Re.o(a,b,c)};Re.B=2;
function Se(b,a){return new de(null,function(){var c=y(a);if(c){if(vd(c)){for(var d=ac(c),e=G(d),f=he(e),g=0;;)if(g<e){var h;h=lb.a(d,g);h=b.b?b.b(h):b.call(null,h);r(h)&&(h=lb.a(d,g),f.add(h));g+=1}else break;return je(f.Y(),Se(b,bc(c)))}d=z(c);c=yc(c);return r(b.b?b.b(d):b.call(null,d))?Zc(d,Se(b,c)):Se(b,c)}return null},null,null)}
var Te=function Te(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Te.a(arguments[0],arguments[1]);case 3:return Te.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Te.a=function(b,a){return null!=b?null!=b&&(b.A&4||b.Kc)?bd(Ub(bb(Tb,Sb(b),a)),pd(b)):bb(jb,b,a):bb(hd,zc,a)};Te.c=function(b,a,c){return null!=b&&(b.A&4||b.Kc)?bd(Ub(Kd(a,oe,Sb(b),c)),pd(b)):Kd(a,hd,b,c)};
Te.B=3;function Ue(b,a){return Ub(bb(function(a,d){return oe.a(a,b.b?b.b(d):b.call(null,d))},Sb(id),a))}function Ve(b,a,c){return new de(null,function(){var d=y(c);if(d){var e=Pe(b,d);return b===G(e)?Zc(e,Ve(b,a,Qe(a,d))):null}return null},null,null)}function We(b,a){return bb(x,b,a)}function Xe(b,a,c,d){return kd.c(b,a,function(){var e=x.a(b,a);return c.a?c.a(e,d):c.call(null,e,d)}())}function Ye(b,a){this.L=b;this.f=a}
function Ze(b){return new Ye(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function $e(b){b=b.m;return 32>b?0:b-1>>>5<<5}function af(b,a,c){for(;;){if(0===a)return c;var d=Ze(b);d.f[0]=c;c=d;a-=5}}var bf=function bf(a,c,d,e){var f=new Ye(d.L,Ya(d.f)),g=a.m-1>>>c&31;5===c?f.f[g]=e:(d=d.f[g],a=null!=d?bf(a,c-5,d,e):af(null,c-5,e),f.f[g]=a);return f};
function cf(b,a){throw Error([t("No item "),t(b),t(" in vector of length "),t(a)].join(""));}function df(b,a){if(a>=$e(b))return b.I;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.f[a>>>d&31],d=e;else return c.f}function ef(b,a){return 0<=a&&a<b.m?df(b,a):cf(a,b.m)}var ff=function ff(a,c,d,e,f){var g=new Ye(d.L,Ya(d.f));if(0===c)g.f[e&31]=f;else{var h=e>>>c&31;a=ff(a,c-5,d.f[h],e,f);g.f[h]=a}return g};function gf(b,a,c,d,e,f){this.l=b;this.Zb=a;this.f=c;this.bb=d;this.start=e;this.end=f}
gf.prototype.xa=function(){return this.l<this.end};gf.prototype.next=function(){32===this.l-this.Zb&&(this.f=df(this.bb,this.l),this.Zb+=32);var b=this.f[this.l&31];this.l+=1;return b};function J(b,a,c,d,e,f){this.s=b;this.m=a;this.shift=c;this.root=d;this.I=e;this.u=f;this.i=167668511;this.A=8196}k=J.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return"number"===typeof a?lb.c(this,a,c):c};k.U=function(b,a){return ef(this,a)[a&31]};k.Ha=function(b,a,c){return 0<=a&&a<this.m?df(this,a)[a&31]:c};
k.hc=function(b,a,c){if(0<=a&&a<this.m)return $e(this)<=a?(b=Ya(this.I),b[a&31]=c,new J(this.s,this.m,this.shift,this.root,b,null)):new J(this.s,this.m,this.shift,ff(this,this.shift,this.root,a,c),this.I,null);if(a===this.m)return jb(this,c);throw Error([t("Index "),t(a),t(" out of bounds  [0,"),t(this.m),t("]")].join(""));};k.Ja=function(){var b=this.m;return new gf(0,0,0<G(this)?df(this,0):null,this,0,b)};k.K=function(){return this.s};k.$=function(){return this.m};
k.fc=function(){return lb.a(this,0)};k.gc=function(){return lb.a(this,1)};k.Ub=function(){return 0<this.m?new Xc(this,this.m-1,null):null};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){if(a instanceof J)if(this.m===G(a))for(var c=hc(this),d=hc(a);;)if(r(c.xa())){var e=c.next(),f=d.next();if(!Ac.a(e,f))return!1}else return!0;else return!1;else return Yc(this,a)};
k.Db=function(){return new hf(this.m,this.shift,jf.b?jf.b(this.root):jf.call(null,this.root),kf.b?kf.b(this.I):kf.call(null,this.I))};k.ca=function(){return bd(id,this.s)};k.ua=function(b,a){return Kc(this,a)};k.va=function(b,a,c){b=0;for(var d=c;;)if(b<this.m){var e=df(this,b);c=e.length;a:for(var f=0;;)if(f<c)var g=e[f],d=a.a?a.a(d,g):a.call(null,d,g),f=f+1;else{e=d;break a}b+=c;d=e}else return d};
k.hb=function(b,a,c){if("number"===typeof a)return Bb(this,a,c);throw Error("Vector's key for assoc must be a number.");};k.ba=function(){if(0===this.m)return null;if(32>=this.m)return new xc(this.I,0,null);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.f[0];else{b=b.f;break a}}return lf?lf(this,b,0,0):mf.call(null,this,b,0,0)};k.O=function(b,a){return new J(a,this.m,this.shift,this.root,this.I,this.u)};
k.Z=function(b,a){if(32>this.m-$e(this)){for(var c=this.I.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.I[e],e+=1;else break;d[c]=a;return new J(this.s,this.m+1,this.shift,this.root,d,null)}c=(d=this.m>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=Ze(null),d.f[0]=this.root,e=af(null,this.shift,new Ye(null,this.I)),d.f[1]=e):d=bf(this,this.shift,this.root,new Ye(null,this.I));return new J(this.s,this.m+1,c,d,[a],null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.U(null,b);case 3:return this.Ha(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.U(null,b)};b.c=function(a,b,d){return this.Ha(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.U(null,b)};k.a=function(b,a){return this.Ha(null,b,a)};
var L=new Ye(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),id=new J(null,0,5,L,[],Fc);J.prototype[Xa]=function(){return Cc(this)};function nf(b,a,c,d,e,f){this.Ia=b;this.node=a;this.l=c;this.off=d;this.s=e;this.u=f;this.i=32375020;this.A=1536}k=nf.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.za=function(){if(this.off+1<this.node.length){var b;b=this.Ia;var a=this.node,c=this.l,d=this.off+1;b=lf?lf(b,a,c,d):mf.call(null,b,a,c,d);return null==b?null:b}return cc(this)};
k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(id,this.s)};k.ua=function(b,a){var c;c=this.Ia;var d=this.l+this.off,e=G(this.Ia);c=of?of(c,d,e):pf.call(null,c,d,e);return Kc(c,a)};k.va=function(b,a,c){b=this.Ia;var d=this.l+this.off,e=G(this.Ia);b=of?of(b,d,e):pf.call(null,b,d,e);return Lc(b,a,c)};k.wa=function(){return this.node[this.off]};
k.Da=function(){if(this.off+1<this.node.length){var b;b=this.Ia;var a=this.node,c=this.l,d=this.off+1;b=lf?lf(b,a,c,d):mf.call(null,b,a,c,d);return null==b?zc:b}return bc(this)};k.ba=function(){return this};k.bc=function(){var b=this.node;return new ge(b,this.off,b.length)};k.cc=function(){var b=this.l+this.node.length;if(b<fb(this.Ia)){var a=this.Ia,c=df(this.Ia,b);return lf?lf(a,c,b,0):mf.call(null,a,c,b,0)}return zc};
k.O=function(b,a){return qf?qf(this.Ia,this.node,this.l,this.off,a):mf.call(null,this.Ia,this.node,this.l,this.off,a)};k.Z=function(b,a){return Zc(a,this)};k.ac=function(){var b=this.l+this.node.length;if(b<fb(this.Ia)){var a=this.Ia,c=df(this.Ia,b);return lf?lf(a,c,b,0):mf.call(null,a,c,b,0)}return null};nf.prototype[Xa]=function(){return Cc(this)};
function mf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 3:return a=arguments[0],c=arguments[1],d=arguments[2],new nf(a,ef(a,c),c,d,null,null);case 4:return lf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return qf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function lf(b,a,c,d){return new nf(b,a,c,d,null,null)}
function qf(b,a,c,d,e){return new nf(b,a,c,d,e,null)}function rf(b,a,c,d,e){this.s=b;this.bb=a;this.start=c;this.end=d;this.u=e;this.i=167666463;this.A=8192}k=rf.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return"number"===typeof a?lb.c(this,a,c):c};k.U=function(b,a){return 0>a||this.end<=this.start+a?cf(a,this.end-this.start):lb.a(this.bb,this.start+a)};
k.Ha=function(b,a,c){return 0>a||this.end<=this.start+a?c:lb.c(this.bb,this.start+a,c)};k.hc=function(b,a,c){var d=this.start+a;b=this.s;c=kd.c(this.bb,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return sf.J?sf.J(b,c,a,d,null):sf.call(null,b,c,a,d,null)};k.K=function(){return this.s};k.$=function(){return this.end-this.start};k.Ub=function(){return this.start!==this.end?new Xc(this,this.end-this.start-1,null):null};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};
k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(id,this.s)};k.ua=function(b,a){return Kc(this,a)};k.va=function(b,a,c){return Lc(this,a,c)};k.hb=function(b,a,c){if("number"===typeof a)return Bb(this,a,c);throw Error("Subvec's key for assoc must be a number.");};k.ba=function(){var b=this;return function(a){return function d(e){return e===b.end?null:Zc(lb.a(b.bb,e),new de(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};
k.O=function(b,a){return sf.J?sf.J(a,this.bb,this.start,this.end,this.u):sf.call(null,a,this.bb,this.start,this.end,this.u)};k.Z=function(b,a){var c=this.s,d=Bb(this.bb,this.end,a),e=this.start,f=this.end+1;return sf.J?sf.J(c,d,e,f,null):sf.call(null,c,d,e,f,null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.U(null,b);case 3:return this.Ha(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.U(null,b)};b.c=function(a,b,d){return this.Ha(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.U(null,b)};k.a=function(b,a){return this.Ha(null,b,a)};rf.prototype[Xa]=function(){return Cc(this)};
function sf(b,a,c,d,e){for(;;)if(a instanceof rf)c=a.start+c,d=a.start+d,a=a.bb;else{var f=G(a);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new rf(b,a,c,d,e)}}function pf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return a=arguments[0],of(a,arguments[1],G(a));case 3:return of(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function of(b,a,c){return sf(null,b,a,c,null)}function tf(b,a){return b===a.L?a:new Ye(b,Ya(a.f))}function jf(b){return new Ye({},Ya(b.f))}function kf(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];xd(b,0,a,0,b.length);return a}var uf=function uf(a,c,d,e){d=tf(a.root.L,d);var f=a.m-1>>>c&31;if(5===c)a=e;else{var g=d.f[f];a=null!=g?uf(a,c-5,g,e):af(a.root.L,c-5,e)}d.f[f]=a;return d};
function hf(b,a,c,d){this.m=b;this.shift=a;this.root=c;this.I=d;this.A=88;this.i=275}k=hf.prototype;
k.Ib=function(b,a){if(this.root.L){if(32>this.m-$e(this))this.I[this.m&31]=a;else{var c=new Ye(this.root.L,this.I),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.I=d;if(this.m>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=af(this.root.L,this.shift,c);this.root=new Ye(this.root.L,d);this.shift=e}else this.root=uf(this,this.shift,this.root,c)}this.m+=1;return this}throw Error("conj! after persistent!");};k.Jb=function(){if(this.root.L){this.root.L=null;var b=this.m-$e(this),a=Array(b);xd(this.I,0,a,0,b);return new J(null,this.m,this.shift,this.root,a,null)}throw Error("persistent! called twice");};
k.Hb=function(b,a,c){if("number"===typeof a)return Wb(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
k.wc=function(b,a,c){var d=this;if(d.root.L){if(0<=a&&a<d.m)return $e(this)<=a?d.I[a&31]=c:(b=function(){return function f(b,h){var l=tf(d.root.L,h);if(0===b)l.f[a&31]=c;else{var n=a>>>b&31,m=f(b-5,l.f[n]);l.f[n]=m}return l}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.m)return Tb(this,c);throw Error([t("Index "),t(a),t(" out of bounds for TransientVector of length"),t(d.m)].join(""));}throw Error("assoc! after persistent!");};
k.$=function(){if(this.root.L)return this.m;throw Error("count after persistent!");};k.U=function(b,a){if(this.root.L)return ef(this,a)[a&31];throw Error("nth after persistent!");};k.Ha=function(b,a,c){return 0<=a&&a<this.m?lb.a(this,a):c};k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return"number"===typeof a?lb.c(this,a,c):c};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.V(null,b);case 3:return this.M(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.V(null,b)};b.c=function(a,b,d){return this.M(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.V(null,b)};k.a=function(b,a){return this.M(null,b,a)};function vf(){this.i=2097152;this.A=0}
vf.prototype.equiv=function(b){return this.v(null,b)};vf.prototype.v=function(){return!1};var wf=new vf;function xf(b,a){return zd(td(a)?G(b)===G(a)?De(function(b){return Ac.a(x.c(a,z(b),wf),fd(b))},b):null:null)}function yf(b,a,c,d,e){this.l=b;this.md=a;this.qc=c;this.ad=d;this.Dc=e}yf.prototype.xa=function(){var b=this.l<this.qc;return b?b:this.Dc.xa()};yf.prototype.next=function(){if(this.l<this.qc){var b=Tc(this.ad,this.l);this.l+=1;return new J(null,2,5,L,[b,qb.a(this.md,b)],null)}return this.Dc.next()};
yf.prototype.remove=function(){return Error("Unsupported operation")};function zf(b){this.F=b}zf.prototype.next=function(){if(null!=this.F){var b=z(this.F),a=H(b,0,null),b=H(b,1,null);this.F=B(this.F);return{value:[a,b],done:!1}}return{value:null,done:!0}};function Af(b){this.F=b}Af.prototype.next=function(){if(null!=this.F){var b=z(this.F);this.F=B(this.F);return{value:[b,b],done:!1}}return{value:null,done:!0}};
function Bf(b,a){var c;if(a instanceof I)a:{c=b.length;for(var d=a.Ea,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof I&&d===b[e].Ea){c=e;break a}e+=2}}else if("string"==typeof a||"number"===typeof a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof vc)a:for(c=b.length,d=a.ab,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof vc&&d===b[e].ab){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;break a}d+=2}else a:for(c=
b.length,d=0;;){if(c<=d){c=-1;break a}if(Ac.a(a,b[d])){c=d;break a}d+=2}return c}function Cf(b,a,c){this.f=b;this.l=a;this.Ca=c;this.i=32374990;this.A=0}k=Cf.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.Ca};k.za=function(){return this.l<this.f.length-2?new Cf(this.f,this.l+2,this.Ca):null};k.$=function(){return(this.f.length-this.l)/2};k.P=function(){return Ec(this)};
k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.Ca)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return new J(null,2,5,L,[this.f[this.l],this.f[this.l+1]],null)};k.Da=function(){return this.l<this.f.length-2?new Cf(this.f,this.l+2,this.Ca):zc};k.ba=function(){return this};k.O=function(b,a){return new Cf(this.f,this.l,a)};k.Z=function(b,a){return Zc(a,this)};Cf.prototype[Xa]=function(){return Cc(this)};
function Df(b,a,c){this.f=b;this.l=a;this.m=c}Df.prototype.xa=function(){return this.l<this.m};Df.prototype.next=function(){var b=new J(null,2,5,L,[this.f[this.l],this.f[this.l+1]],null);this.l+=2;return b};function La(b,a,c,d){this.s=b;this.m=a;this.f=c;this.u=d;this.i=16647951;this.A=8196}k=La.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};k.keys=function(){return Cc(Ef.b?Ef.b(this):Ef.call(null,this))};k.entries=function(){return new zf(y(y(this)))};
k.values=function(){return Cc(Ff.b?Ff.b(this):Ff.call(null,this))};k.has=function(b){return Ad(this,b)};k.get=function(b,a){return this.M(null,b,a)};k.forEach=function(b){for(var a=y(this),c=null,d=0,e=0;;)if(e<d){var f=c.U(null,e),g=H(f,0,null),f=H(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=y(a))vd(a)?(c=ac(a),a=bc(a),g=c,d=G(c),c=g):(c=z(a),g=H(c,0,null),f=H(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=B(a),c=null,d=0),e=0;else return null};k.V=function(b,a){return qb.c(this,a,null)};
k.M=function(b,a,c){b=Bf(this.f,a);return-1===b?c:this.f[b+1]};k.Ja=function(){return new Df(this.f,0,2*this.m)};k.K=function(){return this.s};k.$=function(){return this.m};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Gc(this)};k.v=function(b,a){if(null!=a&&(a.i&1024||a.Oc)){var c=this.f.length;if(this.m===a.$(null))for(var d=0;;)if(d<c){var e=a.M(null,this.f[d],yd);if(e!==yd)if(Ac.a(this.f[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return xf(this,a)};
k.Db=function(){return new Gf({},this.f.length,Ya(this.f))};k.ca=function(){return Fb(Be,this.s)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wb=function(b,a){if(0<=Bf(this.f,a)){var c=this.f.length,d=c-2;if(0===d)return gb(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new La(this.s,this.m-1,d,null);Ac.a(a,this.f[e])||(d[f]=this.f[e],d[f+1]=this.f[e+1],f+=2);e+=2}}else return this};
k.hb=function(b,a,c){b=Bf(this.f,a);if(-1===b){if(this.m<Hf){b=this.f;for(var d=b.length,e=Array(d+2),f=0;;)if(f<d)e[f]=b[f],f+=1;else break;e[d]=a;e[d+1]=c;return new La(this.s,this.m+1,e,null)}return Fb(sb(Te.a(If,this),a,c),this.s)}if(c===this.f[b+1])return this;a=Ya(this.f);a[b+1]=c;return new La(this.s,this.m,a,null)};k.$b=function(b,a){return-1!==Bf(this.f,a)};k.ba=function(){var b=this.f;return 0<=b.length-2?new Cf(b,0,null):null};k.O=function(b,a){return new La(a,this.m,this.f,this.u)};
k.Z=function(b,a){if(ud(a))return sb(this,lb.a(a,0),lb.a(a,1));for(var c=this,d=y(a);;){if(null==d)return c;var e=z(d);if(ud(e))c=sb(c,lb.a(e,0),lb.a(e,1)),d=B(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.V(null,b);case 3:return this.M(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.V(null,b)};b.c=function(a,b,d){return this.M(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.V(null,b)};k.a=function(b,a){return this.M(null,b,a)};var Be=new La(null,0,[],Hc),Hf=8;
function Jf(b){for(var a=[],c=0;;)if(c<b.length){var d=b[c],e=b[c+1];-1===Bf(a,d)&&(a.push(d),a.push(e));c+=2}else break;return new La(null,a.length/2,a,null)}La.prototype[Xa]=function(){return Cc(this)};function Gf(b,a,c){this.xb=b;this.pb=a;this.f=c;this.i=258;this.A=56}k=Gf.prototype;k.$=function(){if(r(this.xb))return Pd(this.pb);throw Error("count after persistent!");};k.V=function(b,a){return qb.c(this,a,null)};
k.M=function(b,a,c){if(r(this.xb))return b=Bf(this.f,a),-1===b?c:this.f[b+1];throw Error("lookup after persistent!");};k.Ib=function(b,a){if(r(this.xb)){if(null!=a?a.i&2048||a.Pc||(a.i?0:Ua(vb,a)):Ua(vb,a))return Vb(this,Sd.b?Sd.b(a):Sd.call(null,a),Td.b?Td.b(a):Td.call(null,a));for(var c=y(a),d=this;;){var e=z(c);if(r(e))c=B(c),d=Vb(d,Sd.b?Sd.b(e):Sd.call(null,e),Td.b?Td.b(e):Td.call(null,e));else return d}}else throw Error("conj! after persistent!");};
k.Jb=function(){if(r(this.xb))return this.xb=!1,new La(null,Pd(this.pb),this.f,null);throw Error("persistent! called twice");};k.Hb=function(b,a,c){if(r(this.xb)){b=Bf(this.f,a);if(-1===b){if(this.pb+2<=2*Hf)return this.pb+=2,this.f.push(a),this.f.push(c),this;b=Kf.a?Kf.a(this.pb,this.f):Kf.call(null,this.pb,this.f);return Vb(b,a,c)}c!==this.f[b+1]&&(this.f[b+1]=c);return this}throw Error("assoc! after persistent!");};
function Kf(b,a){for(var c=Sb(If),d=0;;)if(d<b)c=Vb(c,a[d],a[d+1]),d+=2;else return c}function Lf(){this.Ba=!1}function Mf(b,a){return b===a?!0:$d(b,a)?!0:Ac.a(b,a)}function Nf(b,a,c){b=Ya(b);b[a]=c;return b}function Of(b,a){var c=Array(b.length-2);xd(b,0,c,0,2*a);xd(b,2*(a+1),c,2*a,c.length-2*a);return c}function Pf(b,a,c,d){b=b.ob(a);b.f[c]=d;return b}function Qf(b,a,c,d){this.f=b;this.l=a;this.Qb=c;this.Pa=d}
Qf.prototype.advance=function(){for(var b=this.f.length;;)if(this.l<b){var a=this.f[this.l],c=this.f[this.l+1];null!=a?a=this.Qb=new J(null,2,5,L,[a,c],null):null!=c?(a=hc(c),a=a.xa()?this.Pa=a:!1):a=!1;this.l+=2;if(a)return!0}else return!1};Qf.prototype.xa=function(){var b=null!=this.Qb;return b?b:(b=null!=this.Pa)?b:this.advance()};
Qf.prototype.next=function(){if(null!=this.Qb){var b=this.Qb;this.Qb=null;return b}if(null!=this.Pa)return b=this.Pa.next(),this.Pa.xa()||(this.Pa=null),b;if(this.advance())return this.next();throw Error("No such element");};Qf.prototype.remove=function(){return Error("Unsupported operation")};function Rf(b,a,c){this.L=b;this.T=a;this.f=c}k=Rf.prototype;k.ob=function(b){if(b===this.L)return this;var a=Qd(this.T),c=Array(0>a?4:2*(a+1));xd(this.f,0,c,0,2*a);return new Rf(b,this.T,c)};
k.Nb=function(){return Sf?Sf(this.f):Tf.call(null,this.f)};k.jb=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.T&e))return d;var f=Qd(this.T&e-1),e=this.f[2*f],f=this.f[2*f+1];return null==e?f.jb(b+5,a,c,d):Mf(c,e)?f:d};
k.Oa=function(b,a,c,d,e,f){var g=1<<(c>>>a&31),h=Qd(this.T&g-1);if(0===(this.T&g)){var l=Qd(this.T);if(2*l<this.f.length){b=this.ob(b);a=b.f;f.Ba=!0;a:for(c=2*(l-h),f=2*h+(c-1),l=2*(h+1)+(c-1);;){if(0===c)break a;a[l]=a[f];--l;--c;--f}a[2*h]=d;a[2*h+1]=e;b.T|=g;return b}if(16<=l){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[c>>>a&31]=Uf.Oa(b,a+5,c,d,e,f);for(e=d=0;;)if(32>d)0!==
(this.T>>>d&1)&&(h[d]=null!=this.f[e]?Uf.Oa(b,a+5,sc(this.f[e]),this.f[e],this.f[e+1],f):this.f[e+1],e+=2),d+=1;else break;return new Vf(b,l+1,h)}a=Array(2*(l+4));xd(this.f,0,a,0,2*h);a[2*h]=d;a[2*h+1]=e;xd(this.f,2*h,a,2*(h+1),2*(l-h));f.Ba=!0;b=this.ob(b);b.f=a;b.T|=g;return b}l=this.f[2*h];g=this.f[2*h+1];if(null==l)return l=g.Oa(b,a+5,c,d,e,f),l===g?this:Pf(this,b,2*h+1,l);if(Mf(d,l))return e===g?this:Pf(this,b,2*h+1,e);f.Ba=!0;f=a+5;d=Wf?Wf(b,f,l,g,c,d,e):Xf.call(null,b,f,l,g,c,d,e);e=2*h;h=
2*h+1;b=this.ob(b);b.f[e]=null;b.f[h]=d;return b};
k.Na=function(b,a,c,d,e){var f=1<<(a>>>b&31),g=Qd(this.T&f-1);if(0===(this.T&f)){var h=Qd(this.T);if(16<=h){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[a>>>b&31]=Uf.Na(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.T>>>c&1)&&(g[c]=null!=this.f[d]?Uf.Na(b+5,sc(this.f[d]),this.f[d],this.f[d+1],e):this.f[d+1],d+=2),c+=1;else break;return new Vf(null,h+1,g)}b=Array(2*(h+1));xd(this.f,
0,b,0,2*g);b[2*g]=c;b[2*g+1]=d;xd(this.f,2*g,b,2*(g+1),2*(h-g));e.Ba=!0;return new Rf(null,this.T|f,b)}var l=this.f[2*g],f=this.f[2*g+1];if(null==l)return h=f.Na(b+5,a,c,d,e),h===f?this:new Rf(null,this.T,Nf(this.f,2*g+1,h));if(Mf(c,l))return d===f?this:new Rf(null,this.T,Nf(this.f,2*g+1,d));e.Ba=!0;e=this.T;h=this.f;b+=5;b=Yf?Yf(b,l,f,a,c,d):Xf.call(null,b,l,f,a,c,d);c=2*g;g=2*g+1;d=Ya(h);d[c]=null;d[g]=b;return new Rf(null,e,d)};
k.Ob=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.T&d))return this;var e=Qd(this.T&d-1),f=this.f[2*e],g=this.f[2*e+1];return null==f?(b=g.Ob(b+5,a,c),b===g?this:null!=b?new Rf(null,this.T,Nf(this.f,2*e+1,b)):this.T===d?null:new Rf(null,this.T^d,Of(this.f,e))):Mf(c,f)?new Rf(null,this.T^d,Of(this.f,e)):this};k.Ja=function(){return new Qf(this.f,0,null,null)};var Uf=new Rf(null,0,[]);function Zf(b,a,c){this.f=b;this.l=a;this.Pa=c}
Zf.prototype.xa=function(){for(var b=this.f.length;;){if(null!=this.Pa&&this.Pa.xa())return!0;if(this.l<b){var a=this.f[this.l];this.l+=1;null!=a&&(this.Pa=hc(a))}else return!1}};Zf.prototype.next=function(){if(this.xa())return this.Pa.next();throw Error("No such element");};Zf.prototype.remove=function(){return Error("Unsupported operation")};function Vf(b,a,c){this.L=b;this.m=a;this.f=c}k=Vf.prototype;k.ob=function(b){return b===this.L?this:new Vf(b,this.m,Ya(this.f))};
k.Nb=function(){return $f?$f(this.f):gg.call(null,this.f)};k.jb=function(b,a,c,d){var e=this.f[a>>>b&31];return null!=e?e.jb(b+5,a,c,d):d};k.Oa=function(b,a,c,d,e,f){var g=c>>>a&31,h=this.f[g];if(null==h)return b=Pf(this,b,g,Uf.Oa(b,a+5,c,d,e,f)),b.m+=1,b;a=h.Oa(b,a+5,c,d,e,f);return a===h?this:Pf(this,b,g,a)};
k.Na=function(b,a,c,d,e){var f=a>>>b&31,g=this.f[f];if(null==g)return new Vf(null,this.m+1,Nf(this.f,f,Uf.Na(b+5,a,c,d,e)));b=g.Na(b+5,a,c,d,e);return b===g?this:new Vf(null,this.m,Nf(this.f,f,b))};
k.Ob=function(b,a,c){var d=a>>>b&31,e=this.f[d];if(null!=e){b=e.Ob(b+5,a,c);if(b===e)d=this;else if(null==b)if(8>=this.m)a:{e=this.f;b=e.length;a=Array(2*(this.m-1));c=0;for(var f=1,g=0;;)if(c<b)c!==d&&null!=e[c]&&(a[f]=e[c],f+=2,g|=1<<c),c+=1;else{d=new Rf(null,g,a);break a}}else d=new Vf(null,this.m-1,Nf(this.f,d,b));else d=new Vf(null,this.m,Nf(this.f,d,b));return d}return this};k.Ja=function(){return new Zf(this.f,0,null)};
function hg(b,a,c){a*=2;for(var d=0;;)if(d<a){if(Mf(c,b[d]))return d;d+=2}else return-1}function ig(b,a,c,d){this.L=b;this.cb=a;this.m=c;this.f=d}k=ig.prototype;k.ob=function(b){if(b===this.L)return this;var a=Array(2*(this.m+1));xd(this.f,0,a,0,2*this.m);return new ig(b,this.cb,this.m,a)};k.Nb=function(){return Sf?Sf(this.f):Tf.call(null,this.f)};k.jb=function(b,a,c,d){b=hg(this.f,this.m,c);return 0>b?d:Mf(c,this.f[b])?this.f[b+1]:d};
k.Oa=function(b,a,c,d,e,f){if(c===this.cb){a=hg(this.f,this.m,d);if(-1===a){if(this.f.length>2*this.m)return a=2*this.m,c=2*this.m+1,b=this.ob(b),b.f[a]=d,b.f[c]=e,f.Ba=!0,b.m+=1,b;c=this.f.length;a=Array(c+2);xd(this.f,0,a,0,c);a[c]=d;a[c+1]=e;f.Ba=!0;d=this.m+1;b===this.L?(this.f=a,this.m=d,b=this):b=new ig(this.L,this.cb,d,a);return b}return this.f[a+1]===e?this:Pf(this,b,a+1,e)}return(new Rf(b,1<<(this.cb>>>a&31),[null,this,null,null])).Oa(b,a,c,d,e,f)};
k.Na=function(b,a,c,d,e){return a===this.cb?(b=hg(this.f,this.m,c),-1===b?(b=2*this.m,a=Array(b+2),xd(this.f,0,a,0,b),a[b]=c,a[b+1]=d,e.Ba=!0,new ig(null,this.cb,this.m+1,a)):Ac.a(this.f[b],d)?this:new ig(null,this.cb,this.m,Nf(this.f,b+1,d))):(new Rf(null,1<<(this.cb>>>b&31),[null,this])).Na(b,a,c,d,e)};k.Ob=function(b,a,c){b=hg(this.f,this.m,c);return-1===b?this:1===this.m?null:new ig(null,this.cb,this.m-1,Of(this.f,Pd(b)))};k.Ja=function(){return new Qf(this.f,0,null,null)};
function Xf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 6:return Yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}
function Yf(b,a,c,d,e,f){var g=sc(a);if(g===d)return new ig(null,g,2,[a,c,e,f]);var h=new Lf;return Uf.Na(b,g,a,c,h).Na(b,d,e,f,h)}function Wf(b,a,c,d,e,f,g){var h=sc(c);if(h===e)return new ig(null,h,2,[c,d,f,g]);var l=new Lf;return Uf.Oa(b,a,h,c,d,l).Oa(b,a,e,f,g,l)}function jg(b,a,c,d,e){this.s=b;this.kb=a;this.l=c;this.F=d;this.u=e;this.i=32374860;this.A=0}k=jg.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.s)};k.ua=function(b,a){return cd(a,this)};
k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return null==this.F?new J(null,2,5,L,[this.kb[this.l],this.kb[this.l+1]],null):z(this.F)};k.Da=function(){var b=this,a=null==b.F?function(){var a=b.kb,d=b.l+2;return kg?kg(a,d,null):Tf.call(null,a,d,null)}():function(){var a=b.kb,d=b.l,e=B(b.F);return kg?kg(a,d,e):Tf.call(null,a,d,e)}();return null!=a?a:zc};k.ba=function(){return this};k.O=function(b,a){return new jg(a,this.kb,this.l,this.F,this.u)};k.Z=function(b,a){return Zc(a,this)};
jg.prototype[Xa]=function(){return Cc(this)};function Tf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Sf(arguments[0]);case 3:return kg(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function Sf(b){return kg(b,0,null)}
function kg(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new jg(null,b,a,null,null);var d=b[a+1];if(r(d)&&(d=d.Nb(),r(d)))return new jg(null,b,a+2,d,null);a+=2}else return null;else return new jg(null,b,a,c,null)}function lg(b,a,c,d,e){this.s=b;this.kb=a;this.l=c;this.F=d;this.u=e;this.i=32374860;this.A=0}k=lg.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.s};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.s)};k.ua=function(b,a){return cd(a,this)};
k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return z(this.F)};k.Da=function(){var b;b=this.kb;var a=this.l,c=B(this.F);b=mg?mg(null,b,a,c):gg.call(null,null,b,a,c);return null!=b?b:zc};k.ba=function(){return this};k.O=function(b,a){return new lg(a,this.kb,this.l,this.F,this.u)};k.Z=function(b,a){return Zc(a,this)};lg.prototype[Xa]=function(){return Cc(this)};
function gg(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return $f(arguments[0]);case 4:return mg(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([t("Invalid arity: "),t(a.length)].join(""));}}function $f(b){return mg(null,b,0,null)}function mg(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(r(e)&&(e=e.Nb(),r(e)))return new lg(b,a,c+1,e,null);c+=1}else return null;else return new lg(b,a,c,d,null)}
function ng(b,a,c){this.Ga=b;this.Gc=a;this.oc=c}ng.prototype.xa=function(){return this.oc&&this.Gc.xa()};ng.prototype.next=function(){if(this.oc)return this.Gc.next();this.oc=!0;return this.Ga};ng.prototype.remove=function(){return Error("Unsupported operation")};function og(b,a,c,d,e,f){this.s=b;this.m=a;this.root=c;this.Aa=d;this.Ga=e;this.u=f;this.i=16123663;this.A=8196}k=og.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};
k.keys=function(){return Cc(Ef.b?Ef.b(this):Ef.call(null,this))};k.entries=function(){return new zf(y(y(this)))};k.values=function(){return Cc(Ff.b?Ff.b(this):Ff.call(null,this))};k.has=function(b){return Ad(this,b)};k.get=function(b,a){return this.M(null,b,a)};
k.forEach=function(b){for(var a=y(this),c=null,d=0,e=0;;)if(e<d){var f=c.U(null,e),g=H(f,0,null),f=H(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=y(a))vd(a)?(c=ac(a),a=bc(a),g=c,d=G(c),c=g):(c=z(a),g=H(c,0,null),f=H(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=B(a),c=null,d=0),e=0;else return null};k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return null==a?this.Aa?this.Ga:c:null==this.root?c:this.root.jb(0,sc(a),a,c)};
k.Ja=function(){var b=this.root?hc(this.root):we;return this.Aa?new ng(this.Ga,b,!1):b};k.K=function(){return this.s};k.$=function(){return this.m};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Gc(this)};k.v=function(b,a){return xf(this,a)};k.Db=function(){return new pg({},this.root,this.m,this.Aa,this.Ga)};k.ca=function(){return Fb(If,this.s)};
k.wb=function(b,a){if(null==a)return this.Aa?new og(this.s,this.m-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Ob(0,sc(a),a);return c===this.root?this:new og(this.s,this.m-1,c,this.Aa,this.Ga,null)};k.hb=function(b,a,c){if(null==a)return this.Aa&&c===this.Ga?this:new og(this.s,this.Aa?this.m:this.m+1,this.root,!0,c,null);b=new Lf;a=(null==this.root?Uf:this.root).Na(0,sc(a),a,c,b);return a===this.root?this:new og(this.s,b.Ba?this.m+1:this.m,a,this.Aa,this.Ga,null)};
k.$b=function(b,a){return null==a?this.Aa:null==this.root?!1:this.root.jb(0,sc(a),a,yd)!==yd};k.ba=function(){if(0<this.m){var b=null!=this.root?this.root.Nb():null;return this.Aa?Zc(new J(null,2,5,L,[null,this.Ga],null),b):b}return null};k.O=function(b,a){return new og(a,this.m,this.root,this.Aa,this.Ga,this.u)};
k.Z=function(b,a){if(ud(a))return sb(this,lb.a(a,0),lb.a(a,1));for(var c=this,d=y(a);;){if(null==d)return c;var e=z(d);if(ud(e))c=sb(c,lb.a(e,0),lb.a(e,1)),d=B(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.V(null,b);case 3:return this.M(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.V(null,b)};b.c=function(a,b,d){return this.M(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.V(null,b)};k.a=function(b,a){return this.M(null,b,a)};var If=new og(null,0,null,!1,null,Hc);
function ld(b,a){for(var c=b.length,d=0,e=Sb(If);;)if(d<c)var f=d+1,e=e.Hb(null,b[d],a[d]),d=f;else return Ub(e)}og.prototype[Xa]=function(){return Cc(this)};function pg(b,a,c,d,e){this.L=b;this.root=a;this.count=c;this.Aa=d;this.Ga=e;this.i=258;this.A=56}function qg(b,a,c){if(b.L){if(null==a)b.Ga!==c&&(b.Ga=c),b.Aa||(b.count+=1,b.Aa=!0);else{var d=new Lf;a=(null==b.root?Uf:b.root).Oa(b.L,0,sc(a),a,c,d);a!==b.root&&(b.root=a);d.Ba&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}
k=pg.prototype;k.$=function(){if(this.L)return this.count;throw Error("count after persistent!");};k.V=function(b,a){return null==a?this.Aa?this.Ga:null:null==this.root?null:this.root.jb(0,sc(a),a)};k.M=function(b,a,c){return null==a?this.Aa?this.Ga:c:null==this.root?c:this.root.jb(0,sc(a),a,c)};
k.Ib=function(b,a){var c;a:if(this.L)if(null!=a?a.i&2048||a.Pc||(a.i?0:Ua(vb,a)):Ua(vb,a))c=qg(this,Sd.b?Sd.b(a):Sd.call(null,a),Td.b?Td.b(a):Td.call(null,a));else{c=y(a);for(var d=this;;){var e=z(c);if(r(e))c=B(c),d=qg(d,Sd.b?Sd.b(e):Sd.call(null,e),Td.b?Td.b(e):Td.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};k.Jb=function(){var b;if(this.L)this.L=null,b=new og(null,this.count,this.root,this.Aa,this.Ga,null);else throw Error("persistent! called twice");return b};
k.Hb=function(b,a,c){return qg(this,a,c)};var Ke=function Ke(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ke.o(0<c.length?new xc(c.slice(0),0,null):null)};Ke.o=function(b){for(var a=y(b),c=Sb(If);;)if(a){b=B(B(a));var d=z(a),a=fd(a),c=Vb(c,d,a),a=b}else return Ub(c)};Ke.B=0;Ke.C=function(b){return Ke.o(y(b))};function rg(b,a){this.G=b;this.Ca=a;this.i=32374988;this.A=0}k=rg.prototype;k.toString=function(){return jc(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.Ca};k.za=function(){var b=(null!=this.G?this.G.i&128||this.G.Tb||(this.G.i?0:Ua(ob,this.G)):Ua(ob,this.G))?this.G.za(null):B(this.G);return null==b?null:new rg(b,this.Ca)};k.P=function(){return Ec(this)};
k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.Ca)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return this.G.wa(null).fc()};k.Da=function(){var b=(null!=this.G?this.G.i&128||this.G.Tb||(this.G.i?0:Ua(ob,this.G)):Ua(ob,this.G))?this.G.za(null):B(this.G);return null!=b?new rg(b,this.Ca):zc};k.ba=function(){return this};k.O=function(b,a){return new rg(this.G,a)};k.Z=function(b,a){return Zc(a,this)};rg.prototype[Xa]=function(){return Cc(this)};
function Ef(b){return(b=y(b))?new rg(b,null):null}function Sd(b){return wb(b)}function sg(b,a){this.G=b;this.Ca=a;this.i=32374988;this.A=0}k=sg.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.K=function(){return this.Ca};k.za=function(){var b=(null!=this.G?this.G.i&128||this.G.Tb||(this.G.i?0:Ua(ob,this.G)):Ua(ob,this.G))?this.G.za(null):B(this.G);return null==b?null:new sg(b,this.Ca)};k.P=function(){return Ec(this)};
k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.Ca)};k.ua=function(b,a){return cd(a,this)};k.va=function(b,a,c){return ed(a,c,this)};k.wa=function(){return this.G.wa(null).gc()};k.Da=function(){var b=(null!=this.G?this.G.i&128||this.G.Tb||(this.G.i?0:Ua(ob,this.G)):Ua(ob,this.G))?this.G.za(null):B(this.G);return null!=b?new sg(b,this.Ca):zc};k.ba=function(){return this};k.O=function(b,a){return new sg(this.G,a)};k.Z=function(b,a){return Zc(a,this)};sg.prototype[Xa]=function(){return Cc(this)};
function Ff(b){return(b=y(b))?new sg(b,null):null}function Td(b){return xb(b)}var tg=function tg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return tg.o(0<c.length?new xc(c.slice(0),0,null):null)};tg.o=function(b){return r(Ee(b))?Id(function(a,b){return hd.a(r(a)?a:Be,b)},b):null};tg.B=0;tg.C=function(b){return tg.o(y(b))};function ug(b){this.nc=b}ug.prototype.xa=function(){return this.nc.xa()};
ug.prototype.next=function(){if(this.nc.xa())return this.nc.next().I[0];throw Error("No such element");};ug.prototype.remove=function(){return Error("Unsupported operation")};function vg(b,a,c){this.s=b;this.ib=a;this.u=c;this.i=15077647;this.A=8196}k=vg.prototype;k.toString=function(){return jc(this)};k.equiv=function(b){return this.v(null,b)};k.keys=function(){return Cc(y(this))};k.entries=function(){return new Af(y(y(this)))};k.values=function(){return Cc(y(this))};
k.has=function(b){return Ad(this,b)};k.forEach=function(b){for(var a=y(this),c=null,d=0,e=0;;)if(e<d){var f=c.U(null,e),g=H(f,0,null),f=H(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=y(a))vd(a)?(c=ac(a),a=bc(a),g=c,d=G(c),c=g):(c=z(a),g=H(c,0,null),f=H(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=B(a),c=null,d=0),e=0;else return null};k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return rb(this.ib,a)?a:c};k.Ja=function(){return new ug(hc(this.ib))};k.K=function(){return this.s};
k.$=function(){return fb(this.ib)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Gc(this)};k.v=function(b,a){return rd(a)&&G(this)===G(a)&&De(function(a){return function(b){return Ad(a,b)}}(this),a)};k.Db=function(){return new wg(Sb(this.ib))};k.ca=function(){return bd(xg,this.s)};k.vc=function(b,a){return new vg(this.s,ub(this.ib,a),null)};k.ba=function(){return Ef(this.ib)};k.O=function(b,a){return new vg(a,this.ib,this.u)};k.Z=function(b,a){return new vg(this.s,kd.c(this.ib,a,null),null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.V(null,b);case 3:return this.M(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.V(null,b)};b.c=function(a,b,d){return this.M(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return this.V(null,b)};k.a=function(b,a){return this.M(null,b,a)};var xg=new vg(null,Be,Hc);vg.prototype[Xa]=function(){return Cc(this)};
function wg(b){this.gb=b;this.A=136;this.i=259}k=wg.prototype;k.Ib=function(b,a){this.gb=Vb(this.gb,a,null);return this};k.Jb=function(){return new vg(null,Ub(this.gb),null)};k.$=function(){return G(this.gb)};k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){return qb.c(this.gb,a,yd)===yd?c:a};
k.call=function(){function b(a,b,c){return qb.c(this.gb,b,yd)===yd?c:b}function a(a,b){return qb.c(this.gb,b,yd)===yd?null:b}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=a;c.c=b;return c}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.b=function(b){return qb.c(this.gb,b,yd)===yd?null:b};k.a=function(b,a){return qb.c(this.gb,b,yd)===yd?a:b};
function ce(b){if(null!=b&&(b.A&4096||b.Rc))return b.Fb(null);if("string"===typeof b)return b;throw Error([t("Doesn't support name: "),t(b)].join(""));}function yg(b,a,c){this.l=b;this.end=a;this.step=c}yg.prototype.xa=function(){return 0<this.step?this.l<this.end:this.l>this.end};yg.prototype.next=function(){var b=this.l;this.l+=this.step;return b};function zg(b,a,c,d,e){this.s=b;this.start=a;this.end=c;this.step=d;this.u=e;this.i=32375006;this.A=8192}k=zg.prototype;k.toString=function(){return jc(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return Sc(this,a,0);case 2:return Sc(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return Sc(this,a,0)};b.a=function(a,b){return Sc(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Vc(this,a,G(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Vc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Vc(this,a,b)};return a}();k.U=function(b,a){if(a<fb(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
k.Ha=function(b,a,c){return a<fb(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};k.Ja=function(){return new yg(this.start,this.end,this.step)};k.K=function(){return this.s};k.za=function(){return 0<this.step?this.start+this.step<this.end?new zg(this.s,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new zg(this.s,this.start+this.step,this.end,this.step,null):null};k.$=function(){return Ta(Lb(this))?0:Math.ceil((this.end-this.start)/this.step)};
k.P=function(){var b=this.u;return null!=b?b:this.u=b=Ec(this)};k.v=function(b,a){return Yc(this,a)};k.ca=function(){return bd(zc,this.s)};k.ua=function(b,a){return Kc(this,a)};k.va=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end)c=a.a?a.a(c,b):a.call(null,c,b),b+=this.step;else return c};k.wa=function(){return null==Lb(this)?null:this.start};k.Da=function(){return null!=Lb(this)?new zg(this.s,this.start+this.step,this.end,this.step,null):zc};
k.ba=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};k.O=function(b,a){return new zg(a,this.start,this.end,this.step,this.u)};k.Z=function(b,a){return Zc(a,this)};zg.prototype[Xa]=function(){return Cc(this)};function Ag(b){a:for(var a=b;;)if(y(a))a=B(a);else break a;return b}
function Bg(b,a,c,d,e,f,g){var h=Ga;Ga=null==Ga?null:Ga-1;try{if(null!=Ga&&0>Ga)return Qb(b,"#");Qb(b,c);if(0===Ra.b(f))y(g)&&Qb(b,function(){var a=Cg.b(f);return r(a)?a:"..."}());else{if(y(g)){var l=z(g);a.c?a.c(l,b,f):a.call(null,l,b,f)}for(var n=B(g),m=Ra.b(f)-1;;)if(!n||null!=m&&0===m){y(n)&&0===m&&(Qb(b,d),Qb(b,function(){var a=Cg.b(f);return r(a)?a:"..."}()));break}else{Qb(b,d);var q=z(n);c=b;g=f;a.c?a.c(q,c,g):a.call(null,q,c,g);var p=B(n);c=m-1;n=p;m=c}}return Qb(b,e)}finally{Ga=h}}
function Dg(b,a){for(var c=y(a),d=null,e=0,f=0;;)if(f<e){var g=d.U(null,f);Qb(b,g);f+=1}else if(c=y(c))d=c,vd(d)?(c=ac(d),e=bc(d),d=c,g=G(c),c=e,e=g):(g=z(d),Qb(b,g),c=B(d),d=null,e=0),f=0;else return null}var Eg={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Fg(b){return[t('"'),t(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Eg[a]})),t('"')].join("")}
function Gg(b,a){var c=zd(x.a(b,Oa));return c?(c=null!=a?a.i&131072||a.Qc?!0:!1:!1)?null!=pd(a):c:c}
function Hg(b,a,c){if(null==b)return Qb(a,"nil");if(Gg(c,b)){Qb(a,"^");var d=pd(b);Ig.c?Ig.c(d,a,c):Ig.call(null,d,a,c);Qb(a," ")}if(b.Kb)return b.Wb(b,a,c);if(null!=b&&(b.i&2147483648||b.da))return b.X(null,a,c);if(!0===b||!1===b||"number"===typeof b)return Qb(a,""+t(b));if(null!=b&&b.constructor===Object)return Qb(a,"#js "),d=Oe.a(function(a){return new J(null,2,5,L,[be.b(a),b[a]],null)},wd(b)),Jg.w?Jg.w(d,Ig,a,c):Jg.call(null,d,Ig,a,c);if(Sa(b))return Bg(a,Ig,"#js ["," ","]",c,b);if("string"==
typeof b)return r(Na.b(c))?Qb(a,Fg(b)):Qb(a,b);if("function"==da(b)){var e=b.name;c=r(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Dg(a,ad(["#object[",c,' "',""+t(b),'"]'],0))}if(b instanceof Date)return c=function(a,b){for(var c=""+t(a);;)if(G(c)<b)c=[t("0"),t(c)].join("");else return c},Dg(a,ad(['#inst "',""+t(b.getUTCFullYear()),"-",c(b.getUTCMonth()+1,2),"-",c(b.getUTCDate(),2),"T",c(b.getUTCHours(),2),":",c(b.getUTCMinutes(),2),":",c(b.getUTCSeconds(),2),
".",c(b.getUTCMilliseconds(),3),"-",'00:00"'],0));if(b instanceof RegExp)return Dg(a,ad(['#"',b.source,'"'],0));if(r(b.constructor.nb))return Dg(a,ad(["#object[",b.constructor.nb.replace(RegExp("/","g"),"."),"]"],0));e=b.constructor.name;c=r(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e;return Dg(a,ad(["#object[",c," ",""+t(b),"]"],0))}function Ig(b,a,c){var d=Kg.b(c);return r(d)?(c=kd.c(c,Lg,Hg),d.c?d.c(b,a,c):d.call(null,b,a,c)):Hg(b,a,c)}
function Jg(b,a,c,d){return Bg(c,function(b,c,d){var h=wb(b);a.c?a.c(h,c,d):a.call(null,h,c,d);Qb(c," ");b=xb(b);return a.c?a.c(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,y(b))}xc.prototype.da=!0;xc.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};de.prototype.da=!0;de.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};jg.prototype.da=!0;jg.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};Cf.prototype.da=!0;
Cf.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};nf.prototype.da=!0;nf.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};Yd.prototype.da=!0;Yd.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};Xc.prototype.da=!0;Xc.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};og.prototype.da=!0;og.prototype.X=function(b,a,c){return Jg(this,Ig,a,c)};lg.prototype.da=!0;lg.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};
rf.prototype.da=!0;rf.prototype.X=function(b,a,c){return Bg(a,Ig,"["," ","]",c,this)};vg.prototype.da=!0;vg.prototype.X=function(b,a,c){return Bg(a,Ig,"#{"," ","}",c,this)};ie.prototype.da=!0;ie.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};He.prototype.da=!0;He.prototype.X=function(b,a,c){Qb(a,"#object [cljs.core.Atom ");Ig(new La(null,1,[Mg,this.state],null),a,c);return Qb(a,"]")};sg.prototype.da=!0;sg.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};
J.prototype.da=!0;J.prototype.X=function(b,a,c){return Bg(a,Ig,"["," ","]",c,this)};Vd.prototype.da=!0;Vd.prototype.X=function(b,a){return Qb(a,"()")};La.prototype.da=!0;La.prototype.X=function(b,a,c){return Jg(this,Ig,a,c)};zg.prototype.da=!0;zg.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};rg.prototype.da=!0;rg.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};Ud.prototype.da=!0;Ud.prototype.X=function(b,a,c){return Bg(a,Ig,"("," ",")",c,this)};vc.prototype.Cb=!0;
vc.prototype.vb=function(b,a){if(a instanceof vc)return uc(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};I.prototype.Cb=!0;I.prototype.vb=function(b,a){if(a instanceof I)return Zd(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};rf.prototype.Cb=!0;rf.prototype.vb=function(b,a){if(ud(a))return Cd(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};J.prototype.Cb=!0;
J.prototype.vb=function(b,a){if(ud(a))return Cd(this,a);throw Error([t("Cannot compare "),t(this),t(" to "),t(a)].join(""));};function Ng(){}var Og=function Og(a){if(null!=a&&null!=a.Mc)return a.Mc(a);var c=Og[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Og._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("IEncodeJS.-clj-\x3ejs",a);};
function Pg(b){if(null!=b?b.Lc||(b.Zc?0:Ua(Ng,b)):Ua(Ng,b))b=Og(b);else if("string"===typeof b||"number"===typeof b||b instanceof I||b instanceof vc)b=Qg.b?Qg.b(b):Qg.call(null,b);else{var a=ad([b],0);b=Ja();if(null==a||Ta(y(a)))b="";else{var c=t,d=new ya;a:{var e=new ic(d);Ig(z(a),e,b);for(var a=y(B(a)),f=null,g=0,h=0;;)if(h<g){var l=f.U(null,h);Qb(e," ");Ig(l,e,b);h+=1}else if(a=y(a))f=a,vd(f)?(a=ac(f),g=bc(f),f=a,l=G(a),a=g,g=l):(l=z(f),Qb(e," "),Ig(l,e,b),a=B(f),f=null,g=0),h=0;else break a}b=
""+c(d)}}return b}
var Qg=function Qg(a){if(null==a)return null;if(null!=a?a.Lc||(a.Zc?0:Ua(Ng,a)):Ua(Ng,a))return Og(a);if(a instanceof I)return ce(a);if(a instanceof vc)return""+t(a);if(td(a)){var c={};a=y(a);for(var d=null,e=0,f=0;;)if(f<e){var g=d.U(null,f),h=H(g,0,null),g=H(g,1,null);c[Pg(h)]=Qg(g);f+=1}else if(a=y(a))vd(a)?(e=ac(a),a=bc(a),d=e,e=G(e)):(e=z(a),d=H(e,0,null),e=H(e,1,null),c[Pg(d)]=Qg(e),a=B(a),d=null,e=0),f=0;else break;return c}if(null==a?0:null!=a?a.i&8||a.sd||(a.i?0:Ua(hb,a)):Ua(hb,a)){c=[];
a=y(Oe.a(Qg,a));d=null;for(f=e=0;;)if(f<e)h=d.U(null,f),c.push(h),f+=1;else if(a=y(a))d=a,vd(d)?(a=ac(d),f=bc(d),d=a,e=G(a),a=f):(a=z(d),c.push(a),a=B(d),d=null,e=0),f=0;else break;return c}return a},Rg=null;function Sg(){if(null==Rg){var b=new La(null,3,[Tg,Be,Ug,Be,Vg,Be],null);Rg=Je?Je(b):Ie.call(null,b)}return Rg}
function Wg(b,a,c){var d=Ac.a(a,c);if(!d&&!(d=Ad(Vg.b(b).call(null,a),c))&&(d=ud(c))&&(d=ud(a)))if(d=G(c)===G(a))for(var d=!0,e=0;;)if(d&&e!==G(c))d=Wg(b,a.b?a.b(e):a.call(null,e),c.b?c.b(e):c.call(null,e)),e+=1;else return d;else return d;else return d}function Xg(b){var a;a=Sg();a=C.b?C.b(a):C.call(null,a);return ve(x.a(Tg.b(a),b))}function Yg(b,a,c,d){Ne.a(b,function(){return C.b?C.b(a):C.call(null,a)});Ne.a(c,function(){return C.b?C.b(d):C.call(null,d)})}
var Zg=function Zg(a,c,d){var e=(C.b?C.b(d):C.call(null,d)).call(null,a),e=r(r(e)?e.b?e.b(c):e.call(null,c):e)?!0:null;if(r(e))return e;e=function(){for(var b=Xg(c);;)if(0<G(b))Zg(a,z(b),d),b=yc(b);else return null}();if(r(e))return e;e=function(){for(var b=Xg(a);;)if(0<G(b))Zg(z(b),c,d),b=yc(b);else return null}();return r(e)?e:!1};function $g(b,a,c){c=Zg(b,a,c);if(r(c))b=c;else{c=Wg;var d;d=Sg();d=C.b?C.b(d):C.call(null,d);b=c(d,b,a)}return b}
var ah=function ah(a,c,d,e,f,g,h){var l=bb(function(b,e){var g=H(e,0,null);H(e,1,null);if(Wg(C.b?C.b(d):C.call(null,d),c,g)){var h;h=(h=null==b)?h:$g(g,z(b),f);h=r(h)?e:b;if(!r($g(z(h),g,f)))throw Error([t("Multiple methods in multimethod '"),t(a),t("' match dispatch value: "),t(c),t(" -\x3e "),t(g),t(" and "),t(z(h)),t(", and neither is preferred")].join(""));return h}return b},null,C.b?C.b(e):C.call(null,e));if(r(l)){if(Ac.a(C.b?C.b(h):C.call(null,h),C.b?C.b(d):C.call(null,d)))return Ne.w(g,kd,
c,fd(l)),fd(l);Yg(g,e,h,d);return ah(a,c,d,e,f,g,h)}return null};function bh(b,a){throw Error([t("No method in multimethod '"),t(b),t("' for dispatch value: "),t(a)].join(""));}function ch(b,a,c,d,e,f,g,h){this.name=b;this.h=a;this.$c=c;this.Mb=d;this.zb=e;this.ld=f;this.Pb=g;this.Bb=h;this.i=4194305;this.A=4352}k=ch.prototype;
k.call=function(){function b(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q,M){a=this;var na=ue(a.h,b,c,d,e,ad([f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q,M],0)),re=dh(this,na);r(re)||bh(a.name,na);return ue(re,b,c,d,e,ad([f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q,M],0))}function a(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q){a=this;var M=a.h.pa?a.h.pa(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q),na=dh(this,M);r(na)||bh(a.name,M);return na.pa?na.pa(b,c,d,e,f,g,h,l,m,n,p,q,u,
v,w,A,D,E,K,Q):na.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,Q)}function c(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K){a=this;var Q=a.h.oa?a.h.oa(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K),M=dh(this,Q);r(M)||bh(a.name,Q);return M.oa?M.oa(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K):M.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K)}function d(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E){a=this;var K=a.h.na?a.h.na(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E):a.h.call(null,
b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E),Q=dh(this,K);r(Q)||bh(a.name,K);return Q.na?Q.na(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E):Q.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E)}function e(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D){a=this;var E=a.h.ma?a.h.ma(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D),K=dh(this,E);r(K)||bh(a.name,E);return K.ma?K.ma(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D):K.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D)}function f(a,b,c,d,e,f,g,h,l,m,n,p,q,u,
v,w,A){a=this;var D=a.h.la?a.h.la(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A),E=dh(this,D);r(E)||bh(a.name,D);return E.la?E.la(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A):E.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A)}function g(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w){a=this;var A=a.h.ka?a.h.ka(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w),D=dh(this,A);r(D)||bh(a.name,A);return D.ka?D.ka(b,c,d,e,f,g,h,l,m,n,p,q,u,v,w):D.call(null,b,c,d,e,f,g,h,l,m,n,p,
q,u,v,w)}function h(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v){a=this;var w=a.h.ja?a.h.ja(b,c,d,e,f,g,h,l,m,n,p,q,u,v):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v),A=dh(this,w);r(A)||bh(a.name,w);return A.ja?A.ja(b,c,d,e,f,g,h,l,m,n,p,q,u,v):A.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u,v)}function l(a,b,c,d,e,f,g,h,l,m,n,p,q,u){a=this;var v=a.h.ia?a.h.ia(b,c,d,e,f,g,h,l,m,n,p,q,u):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q,u),w=dh(this,v);r(w)||bh(a.name,v);return w.ia?w.ia(b,c,d,e,f,g,h,l,m,n,p,q,u):w.call(null,b,c,d,e,f,
g,h,l,m,n,p,q,u)}function n(a,b,c,d,e,f,g,h,l,m,n,p,q){a=this;var u=a.h.ha?a.h.ha(b,c,d,e,f,g,h,l,m,n,p,q):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,q),v=dh(this,u);r(v)||bh(a.name,u);return v.ha?v.ha(b,c,d,e,f,g,h,l,m,n,p,q):v.call(null,b,c,d,e,f,g,h,l,m,n,p,q)}function m(a,b,c,d,e,f,g,h,l,m,n,p){a=this;var q=a.h.ga?a.h.ga(b,c,d,e,f,g,h,l,m,n,p):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p),u=dh(this,q);r(u)||bh(a.name,q);return u.ga?u.ga(b,c,d,e,f,g,h,l,m,n,p):u.call(null,b,c,d,e,f,g,h,l,m,n,p)}function q(a,b,
c,d,e,f,g,h,l,m,n){a=this;var p=a.h.fa?a.h.fa(b,c,d,e,f,g,h,l,m,n):a.h.call(null,b,c,d,e,f,g,h,l,m,n),q=dh(this,p);r(q)||bh(a.name,p);return q.fa?q.fa(b,c,d,e,f,g,h,l,m,n):q.call(null,b,c,d,e,f,g,h,l,m,n)}function p(a,b,c,d,e,f,g,h,l,m){a=this;var n=a.h.ta?a.h.ta(b,c,d,e,f,g,h,l,m):a.h.call(null,b,c,d,e,f,g,h,l,m),p=dh(this,n);r(p)||bh(a.name,n);return p.ta?p.ta(b,c,d,e,f,g,h,l,m):p.call(null,b,c,d,e,f,g,h,l,m)}function u(a,b,c,d,e,f,g,h,l){a=this;var m=a.h.sa?a.h.sa(b,c,d,e,f,g,h,l):a.h.call(null,
b,c,d,e,f,g,h,l),n=dh(this,m);r(n)||bh(a.name,m);return n.sa?n.sa(b,c,d,e,f,g,h,l):n.call(null,b,c,d,e,f,g,h,l)}function v(a,b,c,d,e,f,g,h){a=this;var l=a.h.ra?a.h.ra(b,c,d,e,f,g,h):a.h.call(null,b,c,d,e,f,g,h),m=dh(this,l);r(m)||bh(a.name,l);return m.ra?m.ra(b,c,d,e,f,g,h):m.call(null,b,c,d,e,f,g,h)}function w(a,b,c,d,e,f,g){a=this;var h=a.h.qa?a.h.qa(b,c,d,e,f,g):a.h.call(null,b,c,d,e,f,g),l=dh(this,h);r(l)||bh(a.name,h);return l.qa?l.qa(b,c,d,e,f,g):l.call(null,b,c,d,e,f,g)}function A(a,b,c,d,
e,f){a=this;var g=a.h.J?a.h.J(b,c,d,e,f):a.h.call(null,b,c,d,e,f),h=dh(this,g);r(h)||bh(a.name,g);return h.J?h.J(b,c,d,e,f):h.call(null,b,c,d,e,f)}function E(a,b,c,d,e){a=this;var f=a.h.w?a.h.w(b,c,d,e):a.h.call(null,b,c,d,e),g=dh(this,f);r(g)||bh(a.name,f);return g.w?g.w(b,c,d,e):g.call(null,b,c,d,e)}function K(a,b,c,d){a=this;var e=a.h.c?a.h.c(b,c,d):a.h.call(null,b,c,d),f=dh(this,e);r(f)||bh(a.name,e);return f.c?f.c(b,c,d):f.call(null,b,c,d)}function Q(a,b,c){a=this;var d=a.h.a?a.h.a(b,c):a.h.call(null,
b,c),e=dh(this,d);r(e)||bh(a.name,d);return e.a?e.a(b,c):e.call(null,b,c)}function M(a,b){a=this;var c=a.h.b?a.h.b(b):a.h.call(null,b),d=dh(this,c);r(d)||bh(a.name,c);return d.b?d.b(b):d.call(null,b)}function na(a){a=this;var b=a.h.j?a.h.j():a.h.call(null),c=dh(this,b);r(c)||bh(a.name,b);return c.j?c.j():c.call(null)}var D=null,D=function(D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka,ib,db,Yb,Pc,Fd){switch(arguments.length){case 1:return na.call(this,D);case 2:return M.call(this,D,S);case 3:return Q.call(this,
D,S,V);case 4:return K.call(this,D,S,V,ba);case 5:return E.call(this,D,S,V,ba,W);case 6:return A.call(this,D,S,V,ba,W,T);case 7:return w.call(this,D,S,V,ba,W,T,X);case 8:return v.call(this,D,S,V,ba,W,T,X,O);case 9:return u.call(this,D,S,V,ba,W,T,X,O,ga);case 10:return p.call(this,D,S,V,ba,W,T,X,O,ga,Y);case 11:return q.call(this,D,S,V,ba,W,T,X,O,ga,Y,P);case 12:return m.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N);case 13:return n.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F);case 14:return l.call(this,D,S,V,ba,
W,T,X,O,ga,Y,P,N,F,ta);case 15:return h.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa);case 16:return g.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa);case 17:return f.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka);case 18:return e.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka,ib);case 19:return d.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka,ib,db);case 20:return c.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka,ib,db,Yb);case 21:return a.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,
Qa,Ka,ib,db,Yb,Pc);case 22:return b.call(this,D,S,V,ba,W,T,X,O,ga,Y,P,N,F,ta,Aa,Qa,Ka,ib,db,Yb,Pc,Fd)}throw Error("Invalid arity: "+arguments.length);};D.b=na;D.a=M;D.c=Q;D.w=K;D.J=E;D.qa=A;D.ra=w;D.sa=v;D.ta=u;D.fa=p;D.ga=q;D.ha=m;D.ia=n;D.ja=l;D.ka=h;D.la=g;D.ma=f;D.na=e;D.oa=d;D.pa=c;D.ec=a;D.Eb=b;return D}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ya(a)))};k.j=function(){var b=this.h.j?this.h.j():this.h.call(null),a=dh(this,b);r(a)||bh(this.name,b);return a.j?a.j():a.call(null)};
k.b=function(b){var a=this.h.b?this.h.b(b):this.h.call(null,b),c=dh(this,a);r(c)||bh(this.name,a);return c.b?c.b(b):c.call(null,b)};k.a=function(b,a){var c=this.h.a?this.h.a(b,a):this.h.call(null,b,a),d=dh(this,c);r(d)||bh(this.name,c);return d.a?d.a(b,a):d.call(null,b,a)};k.c=function(b,a,c){var d=this.h.c?this.h.c(b,a,c):this.h.call(null,b,a,c),e=dh(this,d);r(e)||bh(this.name,d);return e.c?e.c(b,a,c):e.call(null,b,a,c)};
k.w=function(b,a,c,d){var e=this.h.w?this.h.w(b,a,c,d):this.h.call(null,b,a,c,d),f=dh(this,e);r(f)||bh(this.name,e);return f.w?f.w(b,a,c,d):f.call(null,b,a,c,d)};k.J=function(b,a,c,d,e){var f=this.h.J?this.h.J(b,a,c,d,e):this.h.call(null,b,a,c,d,e),g=dh(this,f);r(g)||bh(this.name,f);return g.J?g.J(b,a,c,d,e):g.call(null,b,a,c,d,e)};
k.qa=function(b,a,c,d,e,f){var g=this.h.qa?this.h.qa(b,a,c,d,e,f):this.h.call(null,b,a,c,d,e,f),h=dh(this,g);r(h)||bh(this.name,g);return h.qa?h.qa(b,a,c,d,e,f):h.call(null,b,a,c,d,e,f)};k.ra=function(b,a,c,d,e,f,g){var h=this.h.ra?this.h.ra(b,a,c,d,e,f,g):this.h.call(null,b,a,c,d,e,f,g),l=dh(this,h);r(l)||bh(this.name,h);return l.ra?l.ra(b,a,c,d,e,f,g):l.call(null,b,a,c,d,e,f,g)};
k.sa=function(b,a,c,d,e,f,g,h){var l=this.h.sa?this.h.sa(b,a,c,d,e,f,g,h):this.h.call(null,b,a,c,d,e,f,g,h),n=dh(this,l);r(n)||bh(this.name,l);return n.sa?n.sa(b,a,c,d,e,f,g,h):n.call(null,b,a,c,d,e,f,g,h)};k.ta=function(b,a,c,d,e,f,g,h,l){var n=this.h.ta?this.h.ta(b,a,c,d,e,f,g,h,l):this.h.call(null,b,a,c,d,e,f,g,h,l),m=dh(this,n);r(m)||bh(this.name,n);return m.ta?m.ta(b,a,c,d,e,f,g,h,l):m.call(null,b,a,c,d,e,f,g,h,l)};
k.fa=function(b,a,c,d,e,f,g,h,l,n){var m=this.h.fa?this.h.fa(b,a,c,d,e,f,g,h,l,n):this.h.call(null,b,a,c,d,e,f,g,h,l,n),q=dh(this,m);r(q)||bh(this.name,m);return q.fa?q.fa(b,a,c,d,e,f,g,h,l,n):q.call(null,b,a,c,d,e,f,g,h,l,n)};k.ga=function(b,a,c,d,e,f,g,h,l,n,m){var q=this.h.ga?this.h.ga(b,a,c,d,e,f,g,h,l,n,m):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m),p=dh(this,q);r(p)||bh(this.name,q);return p.ga?p.ga(b,a,c,d,e,f,g,h,l,n,m):p.call(null,b,a,c,d,e,f,g,h,l,n,m)};
k.ha=function(b,a,c,d,e,f,g,h,l,n,m,q){var p=this.h.ha?this.h.ha(b,a,c,d,e,f,g,h,l,n,m,q):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q),u=dh(this,p);r(u)||bh(this.name,p);return u.ha?u.ha(b,a,c,d,e,f,g,h,l,n,m,q):u.call(null,b,a,c,d,e,f,g,h,l,n,m,q)};k.ia=function(b,a,c,d,e,f,g,h,l,n,m,q,p){var u=this.h.ia?this.h.ia(b,a,c,d,e,f,g,h,l,n,m,q,p):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p),v=dh(this,u);r(v)||bh(this.name,u);return v.ia?v.ia(b,a,c,d,e,f,g,h,l,n,m,q,p):v.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p)};
k.ja=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u){var v=this.h.ja?this.h.ja(b,a,c,d,e,f,g,h,l,n,m,q,p,u):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u),w=dh(this,v);r(w)||bh(this.name,v);return w.ja?w.ja(b,a,c,d,e,f,g,h,l,n,m,q,p,u):w.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u)};
k.ka=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v){var w=this.h.ka?this.h.ka(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v),A=dh(this,w);r(A)||bh(this.name,w);return A.ka?A.ka(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v):A.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v)};
k.la=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w){var A=this.h.la?this.h.la(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w),E=dh(this,A);r(E)||bh(this.name,A);return E.la?E.la(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w):E.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w)};
k.ma=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A){var E=this.h.ma?this.h.ma(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A),K=dh(this,E);r(K)||bh(this.name,E);return K.ma?K.ma(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A):K.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A)};
k.na=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E){var K=this.h.na?this.h.na(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E),Q=dh(this,K);r(Q)||bh(this.name,K);return Q.na?Q.na(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E):Q.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E)};
k.oa=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K){var Q=this.h.oa?this.h.oa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K),M=dh(this,Q);r(M)||bh(this.name,Q);return M.oa?M.oa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K):M.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K)};
k.pa=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q){var M=this.h.pa?this.h.pa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q):this.h.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q),na=dh(this,M);r(na)||bh(this.name,M);return na.pa?na.pa(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q):na.call(null,b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q)};
k.ec=function(b,a,c,d,e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M){var na=ue(this.h,b,a,c,d,ad([e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M],0)),D=dh(this,na);r(D)||bh(this.name,na);return ue(D,b,a,c,d,ad([e,f,g,h,l,n,m,q,p,u,v,w,A,E,K,Q,M],0))};function eh(b,a,c){Ne.w(b.zb,kd,a,c);Yg(b.Pb,b.zb,b.Bb,b.Mb)}
function dh(b,a){Ac.a(C.b?C.b(b.Bb):C.call(null,b.Bb),C.b?C.b(b.Mb):C.call(null,b.Mb))||Yg(b.Pb,b.zb,b.Bb,b.Mb);var c=(C.b?C.b(b.Pb):C.call(null,b.Pb)).call(null,a);if(r(c))return c;c=ah(b.name,a,b.Mb,b.zb,b.ld,b.Pb,b.Bb);return r(c)?c:(C.b?C.b(b.zb):C.call(null,b.zb)).call(null,b.$c)}k.Fb=function(){return dc(this.name)};k.Gb=function(){return ec(this.name)};k.P=function(){return this[ea]||(this[ea]=++fa)};var fh=new I(null,"y","y",-1757859776),gh=new I(null,"shift","shift",997140064),hh=new I(null,"door-bottom-right","door-bottom-right",483430048),ih=new I(null,"dleft","dleft",-905011424),jh=new I(null,"mouseup","mouseup",350619456),kh=new I(null,"dpad-up","dpad-up",-581516384),lh=new I(null,"up-3","up-3",-1495205791),mh=new I(null,"particle-opts","particle-opts",230885857),nh=new I(null,"floor-4","floor-4",-390462847),oh=new I(null,"passable?","passable?",1012306625),ph=new I(null,"tiling","tiling",
-1693991967),qh=new I(null,"nearest","nearest",1176353890),rh=new I(null,"down","down",1565245570),sh=new I(null,"notlink","notlink",-967481118),th=new I(null,"door-top-right","door-top-right",-2060597950),uh=new I(null,"children","children",-940561982),vh=new I(null,"origins","origins",-1970258462),wh=new I(null,"fullscreen-fn","fullscreen-fn",1444163170),xh=new I(null,"wall-bottom-right-outer","wall-bottom-right-outer",-1804941598),yh=new I(null,"up-1","up-1",2022605923),zh=new I(null,"space","space",
348133475),Ah=new I(null,"dright","dright",142530659),Bh=new I(null,"home","home",-74557309),Ch=new I(null,"xbox","xbox",568763555),Dh=new I(null,"touchmove","touchmove",1885249923),Eh=new I(null,"door-left-3","door-left-3",733767075),Fh=new I(null,"insert","insert",1286475395),Gh=new I(null,"down-4","down-4",-1407753148),Hh=new I(null,"f8","f8",-2141475484),Ih=new I(null,"rotation","rotation",-1728051644),Oa=new I(null,"meta","meta",1499536964),Jh=new I(null,"stage","stage",1843544772),Kh=new I(null,
"up-2","up-2",-183304284),Lh=new I(null,"f1","f1",1714532389),Mh=new I(null,"left-dpad","left-dpad",-636533659),Nh=new I(null,"bumper-right","bumper-right",-1259439995),Oh=new vc(null,"blockable","blockable",-28395259,null),Ph=new I(null,"wall-top-left","wall-top-left",692358437),Pa=new I(null,"dup","dup",556298533),Qh=new I(null,"buttonmode","buttonmode",-1800695483),Rh=new I(null,"door-bottom-left","door-bottom-left",-488322587),Sh=new I(null,"f10","f10",627525541),Uh=new I(null,"A","A",-1688942394),
ai=new I(null,"tl","tl",-35265210),bi=new I(null,"private","private",-558947994),ci=new I(null,"uvs","uvs",1776835110),di=new I(null,"render-fn","render-fn",398796518),ei=new I(null,"alt","alt",-3214426),fi=new I(null,"trigger-right","trigger-right",840073158),gi=new I(null,"scale","scale",-230427353),hi=new I(null,"door-bottom-1","door-bottom-1",1266803079),ii=new I(null,"top","top",-1856271961),ji=new I(null,"esc","esc",-1671924121),ki=new I(null,"right-dpad","right-dpad",1479486183),li=new I(null,
"right-1","right-1",-1494942841),Le=new I(null,"validator","validator",-1966190681),mi=new I(null,"highlight","highlight",-800930873),ni=new I(null,"fade-out","fade-out",-1200160760),oi=new I(null,"default","default",-1987822328),pi=new I(null,"finally-block","finally-block",832982472),qi=new I(null,"wall-top","wall-top",307227112),ri=new I(null,"wall-top-left-outer","wall-top-left-outer",31625896),si=new I(null,"comma","comma",1699024745),ti=new I(null,"right-action","right-action",-757049399),ui=
new I(null,"tr","tr",-1424774646),vi=new I(null,"bl","bl",8157834),wi=new I(null,"door-left-shut-1","door-left-shut-1",1012800394),xi=new I(null,"up-action","up-action",1288432522),yi=new I(null,"minus-v-edge","minus-v-edge",855862186),zi=new I(null,"numlock","numlock",-1383996470),Ai=new I(null,"g-score","g-score",599301131),Bi=new I(null,"ddown","ddown",-1732626293),Ci=new I(null,"width","width",-384071477),Di=new I(null,"start","start",-355208981),Ei=new I(null,"background","background",-863952629),
Fi=new I(null,"lowlight-width","lowlight-width",-984309493),Gi=new I(null,"left-trigger","left-trigger",-1587109429),Hi=new I(null,"f5","f5",1587057387),Ii=new I(null,"pageup","pageup",1714543403),Ji=new I(null,"pos","pos",-864607220),Mg=new I(null,"val","val",128701612),R=new I(null,"recur","recur",-437573268),Ki=new I(null,"B","B",-1422503380),Li=new I(null,"catch-block","catch-block",1175212748),Mi=new I(null,"delete","delete",-1768633620),Ni=new vc(null,"meta32448","meta32448",1473482540,null),
Ae=new vc(null,"meta29448","meta29448",-2095640756,null),Oi=new I(null,"duration","duration",1444101068),Pi=new I(null,"wall-bottom-left-outer","wall-bottom-left-outer",-1697726516),Lg=new I(null,"fallback-impl","fallback-impl",-1501286995),Ma=new I(null,"flush-on-newline","flush-on-newline",-151457939),Qi=new I(null,"open-set","open-set",-680047635),Ri=new I(null,"wall-top-right","wall-top-right",-1525654386),Si=new I(null,"/","/",1282502798),Ti=new I(null,"door-left-shut-3","door-left-shut-3",1538147758),
Ui=new I(null,"dpad-down","dpad-down",976289230),Vi=new I(null,"door-left-shut-4","door-left-shut-4",-2007254961),Wi=new I(null,"dpad-left","dpad-left",770792559),Xi=new I(null,"up","up",-269712113),Ug=new I(null,"descendants","descendants",1824886031),Yi=new I(null,"canvas","canvas",-1798817489),Zi=new I(null,"renderer","renderer",336841071),$i=new I(null,"size","size",1098693007),aj=new I(null,"down-3","down-3",-705824945),bj=new I(null,"wall-bottom-left","wall-bottom-left",288224111),cj=new I(null,
"tint","tint",-1286736913),dj=new I(null,"center","center",-748944368),ej=new I(null,"down-dpad","down-dpad",355273744),fj=new I(null,"enter","enter",1792452624),Vg=new I(null,"ancestors","ancestors",-776045424),gj=new I(null,"backtick","backtick",44770640),hj=new I(null,"rb","rb",1673817808),Na=new I(null,"readably","readably",1129599760),ij=new vc(null,"box","box",-1123515375,null),Cg=new I(null,"more-marker","more-marker",-14717935),jj=new I(null,"world","world",-418292623),lj=new I(null,"f11",
"f11",-1417398799),mj=new I(null,"right-bumper","right-bumper",102520465),nj=new I(null,"wall-top-right-outer","wall-top-right-outer",-2136186959),oj=new I(null,"particle","particle",-1614503951),pj=new I(null,"texture-map","texture-map",246399026),qj=new I(null,"mousemove","mousemove",-1077794734),rj=new I(null,"right-trigger","right-trigger",-1735119790),sj=new I(null,"border-width","border-width",-1512605390),tj=new I(null,"h-edge","h-edge",361728594),uj=new I(null,"door-left-2","door-left-2",
1575084786),vj=new I(null,"door-bottom-4","door-bottom-4",-1245654190),wj=new I(null,"border-colour","border-colour",-173895822),xj=new I(null,"lb","lb",-690221037),yj=new I(null,"layer","layer",-1601820589),zj=new I(null,"door-left-shut-2","door-left-shut-2",1642206323),Aj=new I(null,"wall-left","wall-left",-1531124461),Bj=new I(null,"door-left-4","door-left-4",791882195),Cj=new I(null,"tilemap","tilemap",407449043),Dj=new I(null,".",".",335144435),Ej=new I(null,"f3","f3",1954829043),Fj=new vc(null,
"val","val",1769233139,null),Gj=new I(null,"quote","quote",-262615245),Hj=new I(null,"ui","ui",-469653645),Ij=new I(null,"door-left-1","door-left-1",1219010451),Jj=new I(null,"right-2","right-2",2129533875),Kj=new I(null,"tiling-width","tiling-width",-97440781),Lj=new I(null,"door-bottom-2","door-bottom-2",-1769104268),Ra=new I(null,"print-length","print-length",1931866356),Mj=new I(null,"empty-colour","empty-colour",-1488420524),Nj=new I(null,"f2","f2",396168596),Oj=new I(null,"walk-to","walk-to",
-1095039532),Pj=new I(null,"Y","Y",-560717356),Qj=new I(null,"back","back",-417520012),Rj=new I(null,"control","control",1892578036),Sj=new I(null,"door-top-left","door-top-left",1326775028),Tj=new I(null,"f-score","f-score",-1847066892),Uj=new I(null,"rt","rt",623480692),Vj=new I(null,"yhandle","yhandle",608395252),Wj=new I(null,"catch-exception","catch-exception",-1997306795),Xj=new I(null,"v-edge","v-edge",1520206005),Yj=new I(null,"squareleft","squareleft",-1212370731),Zj=new I(null,"dpad-right",
"dpad-right",-519676523),ak=new I(null,"touchup","touchup",890910229),Tg=new I(null,"parents","parents",-2027538891),bk=new I(null,"scrolllock","scrolllock",-960203019),ck=new I(null,"tile-size","tile-size",441420757),dk=new I(null,"prev","prev",-1597069226),ek=new I(null,"tiling-height","tiling-height",-1474681674),fk=new I(null,"f12","f12",853352790),gk=new I(null,"came-from","came-from",-714945194),hk=new I(null,"capslock","capslock",442493366),ik=new I(null,"continue-block","continue-block",-1852047850),
jk=new I(null,"right-3","right-3",660230742),kk=new I(null,"b","b",1482224470),lk=new I(null,"up-4","up-4",1769070679),mk=new I(null,"corner-cut","corner-cut",1611165783),nk=new I(null,"alpha","alpha",-1574982441),ok=new I(null,"translate","translate",1336199447),pk=new I(null,"right","right",-452581833),qk=new I(null,"expand-fn","expand-fn",492373783),rk=new I(null,"trigger-left","trigger-left",1924771607),sk=new I(null,"down-action","down-action",1866280791),tk=new I(null,"default-layer","default-layer",
385967031),uk=new I(null,"door-bottom-3","door-bottom-3",-2065207305),vk=new I(null,"layers","layers",1944875032),wk=new I(null,"pagedown","pagedown",-2069718984),xk=new I(null,"position","position",-2011731912),yk=new I(null,"highlight-width","highlight-width",1191874776),zk=new I(null,"image","image",-58725096),Ak=new I(null,"closed-set","closed-set",1934251384),Bk=new I(null,"lowlight","lowlight",2143243768),Ck=new I(null,"tiles","tiles",178505240),Dk=new I(null,"pause","pause",-2095325672),Ek=
new I(null,"wall-bottom","wall-bottom",-1270007080),Fk=new I(null,"br","br",934104792),Gk=new I(null,"backspace","backspace",-696007848),Ik=new I(null,"f7","f7",356150168),Jk=new I(null,"X","X",1705996313),Mk=new I(null,"x","x",2099068185),Nk=new I(null,"effect","effect",347343289),Bl=new I(null,"bumper-left","bumper-left",316788185),Cl=new I(null,"audio","audio",1819127321),Dl=new I(null,"floor-2","floor-2",-107137415),El=new I(null,"engine","engine",1459054265),Fl=new I(null,"wall-right","wall-right",
-1841438951),Gl=new I(null,"linear","linear",872268697),Hl=new I(null,"touchupoutside","touchupoutside",2132569017),Il=new I(null,"right-4","right-4",1738048473),Jl=new I(null,"lowlight-offset","lowlight-offset",-612034438),Kl=new I(null,"draw-border","draw-border",-1950022342),Ll=new I(null,"left-bumper","left-bumper",2056098138),ze=new vc(null,"quote","quote",1377916282,null),Ml=new I(null,"floor-3","floor-3",703623610),Nl=new I(null,"down-1","down-1",-85274150),Ol=new I(null,"above","above",-1286866470),
Pl=new I(null,"f9","f9",704633338),Ql=new I(null,"end","end",-268185958),Rl=new I(null,"full-colour","full-colour",50761434),Sl=new I(null,"mousedown","mousedown",1391242074),ye=new I(null,"arglists","arglists",1661989754),xe=new vc(null,"nil-iter","nil-iter",1101030523,null),Tl=new I(null,"visible","visible",-1024216805),Ul=new I(null,"hierarchy","hierarchy",-1053470341),Vl=new I(null,"tab","tab",-559583621),Kg=new I(null,"alt-impl","alt-impl",670969595),Wl=new I(null,"backdrop","backdrop",-1291357381),
Xl=new I(null,"bg","bg",-206688421),Yl=new I(null,"lt","lt",421989243),Zl=new vc(null,"fn-handler","fn-handler",648785851,null),$l=new I(null,"prevent-defaults","prevent-defaults",977810460),am=new I(null,"f6","f6",2103080604),bm=new I(null,"auto","auto",-566279492),cm=new I(null,"mouseupoutside","mouseupoutside",190065436),dm=new I(null,"f4","f4",990968764),em=new I(null,"expand","expand",595248157),fm=new I(null,"down-2","down-2",487500029),gm=new I(null,"below","below",-926774883),hm=new I(null,
"wall-bottom-right","wall-bottom-right",-756022723),im=new I(null,"floor","floor",1882041021),jm=new vc(null,"meta31523","meta31523",202777726,null),km=new I(null,"touchdown","touchdown",425229502),lm=new I(null,"fullscreen-button","fullscreen-button",1597770110),mm=new I(null,"resize-fn","resize-fn",2017140158),nm=new I(null,"a","a",-2123407586),om=new I(null,"highlight-offset","highlight-offset",-1920235650),pm=new I(null,"backslash","backslash",1790786526),qm=new I(null,"height","height",1025178622),
rm=new I(null,"minus-h-edge","minus-h-edge",498490559),sm=new vc(null,"meta32604","meta32604",-195855169,null),tm=new I(null,"left","left",-399115937),um=new I(null,"squareright","squareright",1890515359),vm=new I(null,"up-dpad","up-dpad",-1769393697),wm=new I(null,"fade-in","fade-in",999370239),xm=new I(null,"xhandle","xhandle",373504767),ym=new vc(null,"f","f",43394975,null);var zm,Am=function Am(a,c){if(null!=a&&null!=a.jc)return a.jc(0,c);var d=Am[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Am._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("ReadPort.take!",a);},Bm=function Bm(a,c,d){if(null!=a&&null!=a.kc)return a.kc(0,c,d);var e=Bm[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Bm._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("WritePort.put!",a);},Cm=function Cm(a){if(null!=a&&null!=
a.Vb)return a.Vb();var c=Cm[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Cm._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("Channel.close!",a);},Dm=function Dm(a){if(null!=a&&null!=a.Bc)return!0;var c=Dm[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Dm._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("Handler.active?",a);},Em=function Em(a){if(null!=a&&null!=a.Cc)return a.La;var c=Em[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,
a);c=Em._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("Handler.commit",a);},Fm=function Fm(a,c){if(null!=a&&null!=a.Ac)return a.Ac(0,c);var d=Fm[da(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Fm._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Va("Buffer.add!*",a);},Gm=function Gm(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Gm.b(arguments[0]);case 2:return Gm.a(arguments[0],arguments[1]);
default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Gm.b=function(b){return b};Gm.a=function(b,a){if(null==a)throw Error("Assert failed: (not (nil? itm))");return Fm(b,a)};Gm.B=2;function Hm(b,a,c,d,e){for(var f=0;;)if(f<e)c[d+f]=b[a+f],f+=1;else break}function Im(b,a,c,d){this.head=b;this.I=a;this.length=c;this.f=d}Im.prototype.pop=function(){if(0===this.length)return null;var b=this.f[this.I];this.f[this.I]=null;this.I=(this.I+1)%this.f.length;--this.length;return b};Im.prototype.unshift=function(b){this.f[this.head]=b;this.head=(this.head+1)%this.f.length;this.length+=1;return null};function Jm(b,a){b.length+1===b.f.length&&b.resize();b.unshift(a)}
Im.prototype.resize=function(){var b=Array(2*this.f.length);return this.I<this.head?(Hm(this.f,this.I,b,0,this.length),this.I=0,this.head=this.length,this.f=b):this.I>this.head?(Hm(this.f,this.I,b,0,this.f.length-this.I),Hm(this.f,0,b,this.f.length-this.I,this.head),this.I=0,this.head=this.length,this.f=b):this.I===this.head?(this.head=this.I=0,this.f=b):null};function Km(b,a){for(var c=b.length,d=0;;)if(d<c){var e=b.pop();(a.b?a.b(e):a.call(null,e))&&b.unshift(e);d+=1}else break}
function Lm(b){if(!(0<b))throw Error([t("Assert failed: "),t("Can't create a ring buffer of size 0"),t("\n"),t("(\x3e n 0)")].join(""));return new Im(0,0,0,Array(b))}function Mm(b,a){this.H=b;this.n=a;this.i=2;this.A=0}function Nm(b){return b.H.length===b.n}Mm.prototype.Ac=function(b,a){Jm(this.H,a);return this};Mm.prototype.$=function(){return this.H.length};if("undefined"===typeof Om)var Om={};var Pm;a:{var Qm=aa.navigator;if(Qm){var Rm=Qm.userAgent;if(Rm){Pm=Rm;break a}}Pm=""};var Sm;
function Tm(){var b=aa.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Pm.indexOf("Presto")&&(b=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ja(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b&&-1==Pm.indexOf("Trident")&&-1==Pm.indexOf("MSIE")){var a=new b,c={},d=c;a.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.sc;c.sc=null;a()}};return function(b){d.next={sc:b};d=d.next;a.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){aa.setTimeout(a,0)}};var Um=Lm(32),Vm=!1,Wm=!1;function Xm(){Vm=!0;Wm=!1;for(var b=0;;){var a=Um.pop();if(null!=a&&(a.j?a.j():a.call(null),1024>b)){b+=1;continue}break}Vm=!1;return 0<Um.length?Ym.j?Ym.j():Ym.call(null):null}function Ym(){var b=Wm;if(r(r(b)?Vm:b))return null;Wm=!0;"function"!=da(aa.setImmediate)||aa.Window&&aa.Window.prototype&&-1==Pm.indexOf("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?(Sm||(Sm=Tm()),Sm(Xm)):aa.setImmediate(Xm)}function Zm(b){Jm(Um,b);return Ym()};var $m,an=function an(a){"undefined"===typeof $m&&($m=function(a,b,e){this.Ic=a;this.Ba=b;this.fd=e;this.i=425984;this.A=0},$m.prototype.O=function(a,b){return new $m(this.Ic,this.Ba,b)},$m.prototype.K=function(){return this.fd},$m.prototype.dc=function(){return this.Ba},$m.lc=function(){return new J(null,3,5,L,[bd(ij,new La(null,1,[ye,Xd(ze,Xd(new J(null,1,5,L,[Fj],null)))],null)),Fj,jm],null)},$m.Kb=!0,$m.nb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels31522",$m.Wb=function(a,b){return Qb(b,
"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels31522")});return new $m(an,a,Be)};function bn(b,a){this.Lb=b;this.Ba=a}function cn(b){return Dm(b.Lb)}var dn=function dn(a){if(null!=a&&null!=a.zc)return a.zc();var c=dn[da(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=dn._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Va("MMC.abort",a);};function en(b,a,c,d,e,f,g){this.rb=b;this.Yb=a;this.lb=c;this.Xb=d;this.H=e;this.closed=f;this.Ka=g}
en.prototype.zc=function(){for(;;){var b=this.lb.pop();if(null!=b){var a=b.Lb;Zm(function(a){return function(){return a.b?a.b(!0):a.call(null,!0)}}(a.La,a,b.Ba,b,this))}break}Km(this.lb,Fe());return Cm(this)};
en.prototype.kc=function(b,a,c){var d=this;if(null==a)throw Error([t("Assert failed: "),t("Can't put nil in on a channel"),t("\n"),t("(not (nil? val))")].join(""));if(b=d.closed)return an(!b);if(r(function(){var a=d.H;return r(a)?Ta(Nm(d.H)):a}())){for(c=Jc(d.Ka.a?d.Ka.a(d.H,a):d.Ka.call(null,d.H,a));;){if(0<d.rb.length&&0<G(d.H)){var e=d.rb.pop(),f=e.La,g=d.H.H.pop();Zm(function(a,b){return function(){return a.b?a.b(b):a.call(null,b)}}(f,g,e,c,b,this))}break}c&&dn(this);return an(!0)}e=function(){for(;;){var a=
d.rb.pop();if(r(a)){if(r(!0))return a}else return null}}();if(r(e))return c=Em(e),Zm(function(b){return function(){return b.b?b.b(a):b.call(null,a)}}(c,e,b,this)),an(!0);64<d.Xb?(d.Xb=0,Km(d.lb,cn)):d.Xb+=1;if(r(c.ic(null))){if(!(1024>d.lb.length))throw Error([t("Assert failed: "),t([t("No more than "),t(1024),t(" pending puts are allowed on a single channel."),t(" Consider using a windowed buffer.")].join("")),t("\n"),t("(\x3c (.-length puts) impl/MAX-QUEUE-SIZE)")].join(""));Jm(d.lb,new bn(c,a))}return null};
en.prototype.jc=function(b,a){var c=this;if(null!=c.H&&0<G(c.H)){for(var d=a.La,e=an(c.H.H.pop());;){if(!r(Nm(c.H))){var f=c.lb.pop();if(null!=f){var g=f.Lb,h=f.Ba;Zm(function(a){return function(){return a.b?a.b(!0):a.call(null,!0)}}(g.La,g,h,f,d,e,this));Jc(c.Ka.a?c.Ka.a(c.H,h):c.Ka.call(null,c.H,h))&&dn(this);continue}}break}return e}d=function(){for(;;){var a=c.lb.pop();if(r(a)){if(Dm(a.Lb))return a}else return null}}();if(r(d))return e=Em(d.Lb),Zm(function(a){return function(){return a.b?a.b(!0):
a.call(null,!0)}}(e,d,this)),an(d.Ba);if(r(c.closed))return r(c.H)&&(c.Ka.b?c.Ka.b(c.H):c.Ka.call(null,c.H)),r(r(!0)?a.La:!0)?(d=function(){var a=c.H;return r(a)?0<G(c.H):a}(),d=r(d)?c.H.H.pop():null,an(d)):null;64<c.Yb?(c.Yb=0,Km(c.rb,Dm)):c.Yb+=1;if(r(a.ic(null))){if(!(1024>c.rb.length))throw Error([t("Assert failed: "),t([t("No more than "),t(1024),t(" pending takes are allowed on a single channel.")].join("")),t("\n"),t("(\x3c (.-length takes) impl/MAX-QUEUE-SIZE)")].join(""));Jm(c.rb,a)}return null};
en.prototype.Vb=function(){var b=this;if(!b.closed)for(b.closed=!0,r(function(){var a=b.H;return r(a)?0===b.lb.length:a}())&&(b.Ka.b?b.Ka.b(b.H):b.Ka.call(null,b.H));;){var a=b.rb.pop();if(null==a)break;else{var c=a.La,d=r(function(){var a=b.H;return r(a)?0<G(b.H):a}())?b.H.H.pop():null;Zm(function(a,b){return function(){return a.b?a.b(b):a.call(null,b)}}(c,d,a,this))}}return null};function fn(b){console.log(b);return null}
function gn(b,a){var c=(r(null)?null:fn).call(null,a);return null==c?b:Gm.a(b,c)}
function hn(b){return new en(Lm(32),0,Lm(32),0,b,!1,function(){return function(a){return function(){function b(c,d){try{return a.a?a.a(c,d):a.call(null,c,d)}catch(e){return gn(c,e)}}function d(b){try{return a.b?a.b(b):a.call(null,b)}catch(c){return gn(b,c)}}var e=null,e=function(a,e){switch(arguments.length){case 1:return d.call(this,a);case 2:return b.call(this,a,e)}throw Error("Invalid arity: "+arguments.length);};e.b=d;e.a=b;return e}()}(r(null)?null.b?null.b(Gm):null.call(null,Gm):Gm)}())};var jn,kn=function kn(a){"undefined"===typeof jn&&(jn=function(a,b,e){this.bd=a;this.La=b;this.gd=e;this.i=393216;this.A=0},jn.prototype.O=function(a,b){return new jn(this.bd,this.La,b)},jn.prototype.K=function(){return this.gd},jn.prototype.Bc=function(){return!0},jn.prototype.ic=function(){return!0},jn.prototype.Cc=function(){return this.La},jn.lc=function(){return new J(null,3,5,L,[bd(Zl,new La(null,2,[bi,!0,ye,Xd(ze,Xd(new J(null,1,5,L,[ym],null)))],null)),ym,Ni],null)},jn.Kb=!0,jn.nb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers32447",
jn.Wb=function(a,b){return Qb(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers32447")});return new jn(kn,a,Be)};function ln(b){try{return b[0].call(null,b)}catch(a){throw a instanceof Object&&b[6].Vb(),a;}}function mn(b,a,c){c=c.jc(0,kn(function(c){b[2]=c;b[1]=a;return ln(b)}));return r(c)?(b[2]=C.b?C.b(c):C.call(null,c),b[1]=a,R):null}function nn(b,a){var c=b[6];null!=a&&c.kc(0,a,kn(function(){return function(){return null}}(c)));c.Vb();return c}
function on(b,a,c,d,e,f,g,h){this.Ra=b;this.Sa=a;this.Wa=c;this.Ua=d;this.$a=e;this.R=f;this.D=g;this.u=h;this.i=2229667594;this.A=8192}k=on.prototype;k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){switch(a instanceof I?a.Ea:null){case "catch-block":return this.Ra;case "catch-exception":return this.Sa;case "finally-block":return this.Wa;case "continue-block":return this.Ua;case "prev":return this.$a;default:return x.c(this.D,a,c)}};
k.X=function(b,a,c){return Bg(a,function(){return function(b){return Bg(a,Ig,""," ","",c,b)}}(this),"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",c,ne.a(new J(null,5,5,L,[new J(null,2,5,L,[Li,this.Ra],null),new J(null,2,5,L,[Wj,this.Sa],null),new J(null,2,5,L,[pi,this.Wa],null),new J(null,2,5,L,[ik,this.Ua],null),new J(null,2,5,L,[dk,this.$a],null)],null),this.D))};k.Ja=function(){return new yf(0,this,5,new J(null,5,5,L,[Li,Wj,pi,ik,dk],null),hc(this.D))};k.K=function(){return this.R};
k.$=function(){return 5+G(this.D)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Rd(this)};k.v=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?xf(this,a):c:a;return r(c)?!0:!1};k.wb=function(b,a){return Ad(new vg(null,new La(null,5,[pi,null,Li,null,Wj,null,dk,null,ik,null],null),null),a)?md.a(bd(Te.a(Be,this),this.R),a):new on(this.Ra,this.Sa,this.Wa,this.Ua,this.$a,this.R,ve(md.a(this.D,a)),null)};
k.hb=function(b,a,c){return r($d.a?$d.a(Li,a):$d.call(null,Li,a))?new on(c,this.Sa,this.Wa,this.Ua,this.$a,this.R,this.D,null):r($d.a?$d.a(Wj,a):$d.call(null,Wj,a))?new on(this.Ra,c,this.Wa,this.Ua,this.$a,this.R,this.D,null):r($d.a?$d.a(pi,a):$d.call(null,pi,a))?new on(this.Ra,this.Sa,c,this.Ua,this.$a,this.R,this.D,null):r($d.a?$d.a(ik,a):$d.call(null,ik,a))?new on(this.Ra,this.Sa,this.Wa,c,this.$a,this.R,this.D,null):r($d.a?$d.a(dk,a):$d.call(null,dk,a))?new on(this.Ra,this.Sa,this.Wa,this.Ua,
c,this.R,this.D,null):new on(this.Ra,this.Sa,this.Wa,this.Ua,this.$a,this.R,kd.c(this.D,a,c),null)};k.ba=function(){return y(ne.a(new J(null,5,5,L,[new J(null,2,5,L,[Li,this.Ra],null),new J(null,2,5,L,[Wj,this.Sa],null),new J(null,2,5,L,[pi,this.Wa],null),new J(null,2,5,L,[ik,this.Ua],null),new J(null,2,5,L,[dk,this.$a],null)],null),this.D))};k.O=function(b,a){return new on(this.Ra,this.Sa,this.Wa,this.Ua,this.$a,a,this.D,this.u)};
k.Z=function(b,a){return ud(a)?sb(this,lb.a(a,0),lb.a(a,1)):bb(jb,this,a)};function pn(b){b[4]=new on(null,null,10,9,b[4],null,null,null);return b}
function qn(b){for(;;){var a=b[4],c=Li.b(a),d=Wj.b(a),e=b[5];if(r(function(){var b=e;return r(b)?Ta(a):b}()))throw e;if(r(function(){var a=e;return r(a)?(a=c,r(a)?Ac.a(oi,d)||e instanceof d:a):a}())){b[1]=c;b[2]=e;b[5]=null;b[4]=kd.o(a,Li,null,ad([Wj,null],0));break}if(r(function(){var b=e;return r(b)?Ta(c)&&Ta(pi.b(a)):b}()))b[4]=dk.b(a);else{if(r(function(){var b=e;return r(b)?(b=Ta(c))?pi.b(a):b:b}())){b[1]=pi.b(a);b[4]=kd.c(a,pi,null);break}if(r(function(){var b=Ta(e);return b?pi.b(a):b}())){b[1]=
pi.b(a);b[4]=kd.c(a,pi,null);break}if(Ta(e)&&Ta(pi.b(a))){b[1]=ik.b(a);b[4]=dk.b(a);break}throw Error("No matching clause");}}};for(var rn=Array(1),sn=0;;)if(sn<rn.length)rn[sn]=null,sn+=1;else break;function tn(b){"undefined"===typeof zm&&(zm=function(a,b,d){this.La=a;this.rc=b;this.hd=d;this.i=393216;this.A=0},zm.prototype.O=function(a,b){return new zm(this.La,this.rc,b)},zm.prototype.K=function(){return this.hd},zm.prototype.Bc=function(){return!0},zm.prototype.ic=function(){return this.rc},zm.prototype.Cc=function(){return this.La},zm.lc=function(){return new J(null,3,5,L,[ym,Oh,sm],null)},zm.Kb=!0,zm.nb="cljs.core.async/t_cljs$core$async32603",zm.Wb=function(a,b){return Qb(b,"cljs.core.async/t_cljs$core$async32603")});
return new zm(b,!0,Be)}function un(b){b=Ac.a(b,0)?null:b;if(r(null)&&!r(b))throw Error([t("Assert failed: "),t("buffer must be supplied when transducer is"),t("\n"),t("buf-or-n")].join(""));b="number"===typeof b?new Mm(Lm(b),b):b;return hn(b)}function vn(b,a){return wn(b,a)}function wn(b,a){var c=Am(b,tn(a));if(r(c)){var d=C.b?C.b(c):C.call(null,c);r(!0)?a.b?a.b(d):a.call(null,d):Zm(function(b){return function(){return a.b?a.b(b):a.call(null,b)}}(d,c))}return null}var xn=tn(function(){return null});
function yn(b,a){var c=Bm(b,a,xn);return r(c)?C.b?C.b(c):C.call(null,c):!0};if("undefined"===typeof zn)var zn=function(){var b=Je?Je(Be):Ie.call(null,Be),a=Je?Je(Be):Ie.call(null,Be),c=Je?Je(Be):Ie.call(null,Be),d=Je?Je(Be):Ie.call(null,Be),e=x.c(Be,Ul,Sg());return new ch(wc.a("infinitelives.utils.resources","load"),function(){return function(a){return gd(a.split(".")).toLowerCase()}}(b,a,c,d,e),oi,e,b,a,c,d)}();
if("undefined"===typeof An)var An=function(){var b=Je?Je(Be):Ie.call(null,Be),a=Je?Je(Be):Ie.call(null,Be),c=Je?Je(Be):Ie.call(null,Be),d=Je?Je(Be):Ie.call(null,Be),e=x.c(Be,Ul,Sg());return new ch(wc.a("infinitelives.utils.resources","register!"),function(){return function(a){return gd(a.split(".")).toLowerCase()}}(b,a,c,d,e),oi,e,b,a,c,d)}();
function Bn(b,a){var c=un(null),d=G(b);Ag(Oe.a(function(a,b){return function(c){return vn(zn.b?zn.b(c):zn.call(null,c),function(a){return function(b){return yn(a,b)}}(a,b))}}(c,d),b));var e=un(1);Zm(function(b,c,d){return function(){var e=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,
null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(b,c,d){return function(b){var e=b[1];if(7===e)return e=b[7],e=e<d,b[8]=b[2],b[1]=r(e)?8:9,R;if(1===e){var f=If;b[7]=1;b[9]=f;b[2]=null;b[1]=2;return R}if(4===e){var f=b[10],g=b[11],f=b[9],g=b[2],e=H(g,0,null),g=H(g,1,null),h=An.a?An.a(e,g):An.call(null,
e,g),f=kd.c(f,e,h);b[10]=g;b[12]=f;b[11]=e;b[1]=r(a)?5:6;return R}return 6===e?(b[2]=null,b[1]=7,R):3===e?nn(b,b[2]):2===e?mn(b,4,c):9===e?(f=b[12],b[2]=f,b[1]=10,R):5===e?(f=b[10],e=b[7],g=b[11],e=a.w?a.w(e,d,g,f):a.call(null,e,d,g,f),b[2]=e,b[1]=7,R):10===e?(b[2]=b[2],b[1]=3,R):8===e?(f=b[12],e=b[7],b[7]=e+1,b[9]=f,b[2]=null,b[1]=2,R):null}}(b,c,d),b,c,d)}(),n=function(){var a=e.j?e.j():e.call(null);a[6]=b;return a}();return ln(n)}}(e,c,d));return e};var Cn=r(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;if("undefined"===typeof Dn)var Dn=Je?Je(Be):Ie.call(null,Be);function En(b){var a=new XMLHttpRequest,c=un(null);a.open("GET",b,!0);a.responseType="arraybuffer";a.onload=function(a,c){return function(){return Cn.decodeAudioData(a.response,function(a,c){return function(a){return yn(c,new J(null,2,5,L,[b,a],null))}}(a,c))}}(a,c);a.send();return c}eh(zn,"ogg",function(b){return En(b)});eh(zn,"mp3",function(b){return En(b)});
eh(zn,"wav",function(b){return En(b)});function Fn(b,a){Ne.w(Dn,kd,be.b(z(gd(b.split("/")).split("."))),a);return new La(null,1,[Cl,a],null)}eh(An,"ogg",function(b,a){return Fn(b,a)});eh(An,"mp3",function(b,a){return Fn(b,a)});eh(An,"wav",function(b,a){return Fn(b,a)});if("undefined"===typeof Gn)var Gn=!0;var Hn=Je?Je(Be):Ie.call(null,Be);if("undefined"===typeof In){var In,Jn=new La(null,1,[$l,!0],null);In=Je?Je(Jn):Ie.call(null,Jn)}
var Mn=tg.o(ad([ld([gh,rh,zh,Bh,Fh,Hh,Lh,Sh,ei,ji,si,zi,Hi,Ii,Mi,Si,Xi,fj,gj,lj,Dj,Ej,Gj,Nj,Rj,Yj,bk,fk,hk,pk,wk,Dk,Gk,Ik,Pl,Ql,Vl,am,dm,pm,tm,um],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function Kn(a){return new de(null,function(){for(;;){var b=y(a);if(b){if(vd(b)){var d=ac(b),e=G(d),f=he(e);a:for(var g=0;;)if(g<e){var h=lb.a(d,g),h=new J(null,2,5,L,[be.b(""+t(h)),h.charCodeAt(0)-32],null);
f.add(h);g+=1}else{d=!0;break a}return d?je(f.Y(),Kn(bc(b))):je(f.Y(),null)}f=z(b);return Zc(new J(null,2,5,L,[be.b(""+t(f)),f.charCodeAt(0)-32],null),Kn(yc(b)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz"),function Ln(a){return new de(null,function(){for(;;){var b=y(a);if(b){if(vd(b)){var d=ac(b),e=G(d),f=he(e);a:for(var g=0;;)if(g<e){var h=lb.a(d,g);f.add(new J(null,2,5,L,[h,h.charCodeAt(0)-32],null));g+=1}else{d=!0;break a}return d?je(f.Y(),Ln(bc(b))):je(f.Y(),null)}f=z(b);
return Zc(new J(null,2,5,L,[f,f.charCodeAt(0)-32],null),Ln(yc(b)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-\x3d`/\\")],0));function Nn(b){return(C.b?C.b(Hn):C.call(null,Hn)).call(null,Mn.b?Mn.b(b):Mn.call(null,b))}
var On=r(window.requestAnimationFrame)?function(b){return window.requestAnimationFrame(b)}:r(window.webkitRequestAnimationFrame)?function(b){return window.webkitRequestAnimationFrame(b)}:r(window.mozRequestAnimationFrame)?function(b){return window.mozRequestAnimationFrame(b)}:r(window.oRequestAnimationFrame)?function(b){return window.oRequestAnimationFrame(b)}:r(window.msRequestAnimationFrame)?function(b){return window.msRequestAnimationFrame(b)}:function(b){return window.setTimeout(b,1E3/60)};
function Pn(){var b=un(null),a=function(a){return function(){return Cm(a)}}(b);On.b?On.b(a):On.call(null,a);return b}
function Qn(){var b=un(1);Zm(function(a){return function(){var b=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!$d(f,R)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,qn(c),d=R;else throw g;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+
arguments.length);};d.j=c;d.b=b;return d}()}(function(){return function(a){var b=a[1];if(1===b)return a[7]=120,a[2]=null,a[1]=2,R;if(2===b)return b=a[7],a[1]=r(0<b)?4:5,R;if(3===b)return nn(a,a[2]);if(4===b)return b=Pn(),mn(a,7,b);if(5===b)return a[2]=null,a[1]=6,R;if(6===b)return a[2]=a[2],a[1]=3,R;if(7===b){var b=a[7],c=a[2];a[7]=b-1;a[8]=c;a[2]=null;a[1]=2;return R}return null}}(a),a)}(),d=function(){var d=b.j?b.j():b.call(null);d[6]=a;return d}();return ln(d)}}(b));return b}
var Rn=Je?Je(xg):Ie.call(null,xg);function Sn(){var b=un(null);Ne.c(Rn,hd,b);return b}
var Tn=Je?Je(xg):Ie.call(null,xg),Un=function Un(){On.b?On.b(Un):On.call(null,Un);for(var a=y(C.b?C.b(Tn):C.call(null,Tn)),c=null,d=0,e=0;;)if(e<d){var f=c.U(null,e);yn(f,!0);e+=1}else if(a=y(a))c=a,vd(c)?(a=ac(c),d=bc(c),c=a,f=G(a),a=d,d=f):(f=z(c),yn(f,!0),a=B(c),c=null,d=0),e=0;else return null},Vn=r(navigator.getGamepads)?function(){return navigator.getGamepads.apply(navigator,id)}:r(navigator.wegkitGetGamepads)?function(){return navigator.webkitGetGamepads.apply(navigator,id)}:function(){return zc};
Je||Ie.call(null,null);Je||Ie.call(null,null);Je||Ie.call(null,null);Je||Ie.call(null,null);Je||Ie.call(null,id);Je||Ie.call(null,!1);window.addEventListener("keydown",function(b){Ne.a(Hn,function(a){return kd.c(a,b.keyCode,!0)});return r(function(){if(r(Gn)){var a=b.ctrlKey;return r(a)?b.shiftKey:a}return Gn}())?!1:r($l.b(C.b?C.b(In):C.call(null,In)))?b.preventDefault():!1});
window.addEventListener("keyup",function(b){Ne.a(Hn,function(a){return md.a(a,b.keyCode)});return r($l.b(C.b?C.b(In):C.call(null,In)))?b.preventDefault():!0});On.b?On.b(Un):On.call(null,Un);window.addEventListener("resize",function(){for(var b=new J(null,2,5,L,[window.innerWidth,window.innerHeight],null),a=y(C.b?C.b(Rn):C.call(null,Rn)),c=null,d=0,e=0;;)if(e<d){var f=c.U(null,e);yn(f,b);e+=1}else if(a=y(a))c=a,vd(c)?(a=ac(c),d=bc(c),c=a,f=G(a),a=d,d=f):(f=z(c),yn(f,b),a=B(c),c=null,d=0),e=0;else return null});function Wn(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}Wn.prototype.BYTES_PER_ELEMENT=4;Wn.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};Wn.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Wn.BYTES_PER_ELEMENT=4,Wn.prototype.BYTES_PER_ELEMENT=Wn.prototype.BYTES_PER_ELEMENT,Wn.prototype.set=Wn.prototype.set,Wn.prototype.toString=Wn.prototype.toString,ca("Float32Array",Wn));function Xn(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}Xn.prototype.BYTES_PER_ELEMENT=8;Xn.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};Xn.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Xn.BYTES_PER_ELEMENT=8}catch(b){}Xn.prototype.BYTES_PER_ELEMENT=Xn.prototype.BYTES_PER_ELEMENT;Xn.prototype.set=Xn.prototype.set;Xn.prototype.toString=Xn.prototype.toString;ca("Float64Array",Xn)};function Yn(){return new Float64Array(2)}function U(b,a){var c=Yn();c[0]=b;c[1]=a;return c}function Zn(b){var a=b[0];b=b[1];return Math.sqrt(a*a+b*b)};function $n(b,a){var c=Yn.j?Yn.j():Yn.call(null);c[0]=b[0]+a[0];c[1]=b[1]+a[1];return c}function ao(b,a){var c=Yn.j?Yn.j():Yn.call(null);c[0]=b[0]-a[0];c[1]=b[1]-a[1];return c}function bo(b,a){var c=Yn.j?Yn.j():Yn.call(null);c[0]=b[0]*a;c[1]=b[1]*a;return c}function co(b){if(2<(Zn.b?Zn.b(b):Zn.call(null,b))){var a=Yn.j?Yn.j():Yn.call(null),c=1/Zn(b);a[0]=b[0]*c;a[1]=b[1]*c;b=bo(a,2)}return b}function eo(b){return new J(null,2,5,L,[b[0],b[1]],null)}
function fo(b){var a=eo.b?eo.b(b):eo.call(null,b);b=H(a,0,null);a=H(a,1,null);return b>a?b>-a?pk:Xi:b>-a?rh:tm};if("undefined"===typeof go)var go=Je?Je(Be):Ie.call(null,Be);function ho(b){var a=(C.b?C.b(go):C.call(null,go)).call(null,b);if(r(a))return a;throw Error([t("Texture "),t(b),t(" not loaded")].join(""));}function io(b,a,c){var d=H(a,0,null);a=H(a,1,null);var e=H(c,0,null);c=H(c,1,null);return new PIXI.Texture(b,new PIXI.Rectangle(d,a,e,c))}
function jo(b){var a=ko;return Ne.c(go,Te,function(){return function d(a){return new de(null,function(){for(;;){var f=y(a);if(f){if(vd(f)){var g=ac(f),h=G(g),l=he(h);a:for(var n=0;;)if(n<h){var m=lb.a(g,n),q=H(m,0,null),m=H(m,1,null),p=null!=m&&(m.i&64||m.aa)?qe(Ke,m):m,m=x.a(p,Ji),p=x.a(p,$i),q=new J(null,2,5,L,[q,io(b,m,p)],null);l.add(q);n+=1}else{g=!0;break a}return g?je(l.Y(),d(bc(f))):je(l.Y(),null)}g=z(f);l=H(g,0,null);g=H(g,1,null);h=null!=g&&(g.i&64||g.aa)?qe(Ke,g):g;g=x.a(h,Ji);h=x.a(h,
$i);return Zc(new J(null,2,5,L,[l,io(b,g,h)],null),d(yc(f)))}return null}},null,null)}(a)}())};function lo(b,a){return new PIXI.Point(b,a)}
function mo(b,a){var c=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.a(c,Hl),e=x.c(c,Mk,0),f=x.a(c,Sl),g=x.c(c,Tl,!0),h=x.a(c,cm),l=x.a(c,km),n=x.c(c,xm,.5),m=x.a(c,jh),q=x.c(c,fh,0),p=x.c(c,ph,!1),u=x.a(c,Dh),v=x.c(c,Ih,0),w=x.a(c,Qh),A=x.c(c,gi,1),E=x.a(c,cj),K=x.a(c,qj),Q=x.a(c,Kj),M=x.c(c,Vj,.5),na=x.a(c,ak),D=x.a(c,ek),c=x.c(c,nk,1),p=r(p)?new PIXI.extras.TilingSprite(b instanceof I?ho(b):b,Q,D):new PIXI.Sprite(b instanceof I?ho(b):b);if(!r(p))throw Error([t("Assert failed: "),t("creation of sprite failed and returned nil"),
t("\n"),t("s")].join(""));p.anchor=lo(n,M);p.x=e;p.y=q;p.rotation=v;p.visible=g;Ac.a(A,1)||(p.scale="number"===typeof A?lo(A,A):lo(x.a(A,0),x.a(A,1)));Ac.a(1,c)||(p.alpha=c);p.interactive=r(K)?K:r(f)?f:r(m)?m:r(h)?h:r(u)?u:r(l)?l:r(na)?na:d;r(f)&&(p.mousedown=f);r(K)&&(p.mousemove=K);r(m)&&(p.mouseup=m);r(h)&&(p.mouseupoutside=h);r(l)&&(p.touchdown=l);r(u)&&(p.touchmove=u);r(na)&&(p.touchup=na);r(d)&&(p.touchupoutside=d);null!=w&&(p.buttonMode=w);r(E)&&(p.od=E);return p}
function no(b,a){var c;if(ud(a)){c=a.b?a.b(0):a.call(null,0);var d=a.b?a.b(1):a.call(null,1);b.position.x=c;c=b.position.y=d}else c=a[1],b.position.x=a[0],c=b.position.y=c;return c}function oo(b,a,c){b.pivot.x=a;b.pivot.y=c}function po(b,a){return a instanceof I?b.texture=ho(a):b.texture=a}
function qo(b){var a=-b.pivot.x,c=-b.pivot.y,d,e=b.getLocalBounds();d=new J(null,4,5,L,[e.x,e.y,e.width,e.height],null);var e=H(d,0,null),f=H(d,1,null),g=H(d,2,null);d=H(d,3,null);var h=b.position.x;b=b.position.y;return new J(null,4,5,L,[h+e+a,b+f+c,h+e+g+a,b+f+d+c],null)}
function ro(b,a,c){var d=b.children,e=Oe.a(qo,d),f=Oe.a(z,e),g=Oe.a(fd,e),h=Oe.a(function(){return function(a){return Tc(a,2)}}(d,e,f,g),e),d=Oe.a(function(){return function(a){return Tc(a,3)}}(d,e,f,g,h),e),f=qe(Nd,f),g=qe(Nd,g),h=qe(Md,h),d=qe(Md,d);a=f+a*(h-f);c=g+c*(d-g);oo(b,a,c);return new J(null,2,5,L,[a,c],null)}
var so=function so(a,c,d){if(null!=a&&null!=a.mc)return a.mc(a,c,d);var e=so[da(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=so._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Va("Container.update-handle!",a);};PIXI.Container.prototype.mc=function(b,a,c){return ro(this,a,c)};PIXI.ParticleContainer.prototype.mc=function(b,a,c){return ro(this,a,c)};
function to(b){return Qg(Te.a(Be,function(){return function c(b){return new de(null,function(){for(;;){var e=y(b);if(e){if(vd(e)){var f=ac(e),g=G(f),h=he(g);a:for(var l=0;;)if(l<g){var n=lb.a(f,l),n=new J(null,2,5,L,[ce(n),!0],null);h.add(n);l+=1}else{f=!0;break a}return f?je(h.Y(),c(bc(e))):je(h.Y(),null)}h=z(e);return Zc(new J(null,2,5,L,[ce(h),!0],null),c(yc(e)))}return null}},null,null)}(b)}()))}
var uo=function uo(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return uo.o(0<c.length?new xc(c.slice(0),0,null):null)};
uo.o=function(b){var a=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b,c=x.a(a,Hl),d=x.c(a,Mk,0),e=x.a(a,Sl),f=x.c(a,Tl,!0),g=x.a(a,cm),h=x.a(a,km);b=x.c(a,xm,.5);var l=x.a(a,jh),n=x.c(a,fh,0),m=x.c(a,mh,new vg(null,new La(null,1,[xk,null],null),null)),q=x.c(a,uh,id),p=x.a(a,Dh),u=x.c(a,Ih,0),v=x.a(a,Qh),w=x.c(a,gi,1),A=x.a(a,cj),E=x.a(a,oj),K=x.a(a,qj),Q=x.c(a,Vj,.5),M=x.a(a,ak),a=x.c(a,nk,1),m=r(E)?new PIXI.ParticleContainer(null,to(m)):new PIXI.Container;if(!r(m))throw Error([t("Assert failed: "),t("creation of container failed and returned nil"),
t("\n"),t("container")].join(""));m.x=d;m.y=n;m.rotation=u;m.visible=f;Ac.a(w,1)||(m.scale="number"===typeof w?lo(w,w):lo(x.a(w,0),x.a(w,1)));Ac.a(1,a)||(m.alpha=a);r(A)&&(m.od=A);m.interactive=zd(r(K)?K:r(e)?e:r(l)?l:r(g)?g:r(p)?p:r(h)?h:r(M)?M:c);m.interactiveChildren=zd(r(K)?K:r(e)?e:r(l)?l:r(g)?g:r(p)?p:r(h)?h:r(M)?M:c);m.hitArea=new PIXI.Rectangle(0,0,1E3,1E3);r(e)&&(m.mousedown=e);r(K)&&(m.mousemove=K);r(l)&&(m.mouseup=l);r(g)&&(m.mouseupoutside=g);r(h)&&(m.touchdown=h);r(p)&&(m.touchmove=p);
r(M)&&(m.touchup=M);r(c)&&(m.touchupoutside=c);null!=v&&(m.buttonMode=v);c=y(q);d=null;for(f=e=0;;)if(f<e)g=d.U(null,f),m.addChild(g),f+=1;else if(c=y(c))d=c,vd(d)?(c=ac(d),f=bc(d),d=c,e=G(c),c=f):(c=z(d),m.addChild(c),c=B(d),d=null,e=0),f=0;else break;0<G(q)&&so(m,b,Q);return m};uo.B=0;uo.C=function(b){return uo.o(y(b))};if("undefined"===typeof vo)var vo=Je?Je(Be):Ie.call(null,Be);
function wo(b,a){var c=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.c(c,Rl,8421504),e=x.c(c,Jl,0),f=x.c(c,Kl,!1),g=x.c(c,om,0),h=x.c(c,qm,40),l=x.a(c,mi),n=x.c(c,Ci,600),m=x.c(c,Fi,1),q=x.c(c,wj,16777215),p=x.c(c,sj,2),u=x.c(c,Mj,0),v=x.a(c,Bk),c=x.c(c,yk,1),w=new PIXI.Graphics;w.beginFill(u);w.lineStyle(0,q);w.drawRect(0,0,n,h);w.lineStyle(0,q);w.beginFill(d);w.drawRect(p,p,(1>b?b:1)*(n-p-p),h-p-p);w.endFill();var d=(1>b?b:1)*n,u=p+g,g=d-g,A=p+e,e=h-p-e;0<d&&(r(l)&&(w.lineStyle(c,l),w.moveTo(u,e),w.lineTo(u,
A),w.lineTo(g,A)),r(v)&&(w.lineStyle(m,v),w.moveTo(u,e),w.lineTo(g,e),w.lineTo(g,A)));r(f)&&(w.lineStyle(p,q),w.drawRect(0,0,n,h));return w.generateTexture(!1)}function xo(b,a){var c=mo(wo(0,a),ad([gi,x.c(a,gi,1)],0));c.alpha=0;b.addChild(c);return c}function yo(b){b=x.a(C.b?C.b(vo):C.call(null,vo),b);return qh.b?qh.b(b):qh.call(null,b)}function zo(b,a){Ne.w(vo,kd,be.b(z(gd(b.split("/")).split("."))),a);return a}eh(An,"png",function(b,a){return zo(b,a)});eh(An,"gif",function(b,a){return zo(b,a)});
eh(An,"jpg",function(b,a){return zo(b,a)});
function Ao(b){var a=un(null),c=new Image;c.crossOrigin="";c.onload=function(a,c){return function(){return yn(a,new J(null,2,5,L,[b,new La(null,3,[Gl,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.LINEAR)),qh,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.NEAREST)),zk,c],null)],null))}}(a,c);c.onerror=function(a){return function(){return yn(a,new J(null,2,5,L,[b,null],null))}}(a,c);c.onabort=function(){return function(){return alert("abort")}}(a,c);c.src=b;return a}
eh(zn,"png",function(b){return Ao(b)});eh(zn,"gif",function(b){return Ao(b)});eh(zn,"jpg",function(b){return Ao(b)});
function Bo(b,a){var c=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.c(c,Oi,1),e=x.c(c,Di,null),f=x.c(c,Ql,0),g=null==e?b.alpha:e,h=60*d,l=un(1);Zm(function(a,c,d,e,f,g,h,l){return function(){var E=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=
null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a,c,d,e,f,g,h,l){return function(a){var e=a[1];if(1===e)return e=d,a[7]=e,a[2]=null,a[1]=2,R;if(2===e)return e=Pn(),mn(a,4,e);if(3===e)return nn(a,a[2]);if(4===e){var e=a[7],f=a[2],g=b.alpha=l+e/d*(c-l);a[8]=f;a[9]=g;a[1]=r(0<e)?5:6;return R}return 5===e?(e=a[7],a[7]=e-1,a[2]=null,a[1]=2,R):6===e?(a[2]=null,a[1]=7,R):
7===e?(a[2]=a[2],a[1]=3,R):null}}(a,c,d,e,f,g,h,l),a,c,d,e,f,g,h,l)}(),K=function(){var b=E.j?E.j():E.call(null);b[6]=a;return b}();return ln(K)}}(l,g,h,a,c,d,e,f));return l}
function Co(b,a){var c=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.c(c,Oi,1),e=x.c(c,Di,0),f=x.c(c,Ql,1),g=60*d,h=un(1);Zm(function(a,c,d,e,f,g,h){return function(){var w=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a,c,d,e,f,g,h){return function(a){var d=a[1];if(1===d)return d=c,a[7]=d,a[2]=null,a[1]=2,R;if(2===d)return d=Pn(),mn(a,4,d);if(3===d)return nn(a,a[2]);if(4===d){var d=a[7],e=a[2],f=b.alpha=g+(c-d)/c*(h-g);a[8]=f;a[9]=e;a[1]=r(0<d)?5:6;return R}return 5===d?(d=a[7],a[7]=d-1,a[2]=null,a[1]=2,R):6===d?(a[2]=null,a[1]=7,R):7===d?(a[2]=a[2],a[1]=3,R):null}}(a,c,d,e,f,g,h),a,c,d,e,f,g,h)}(),
A=function(){var b=w.j?w.j():w.call(null);b[6]=a;return b}();return ln(A)}}(h,g,a,c,d,e,f));return h}function Do(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;return Eo(arguments[0],arguments[1],arguments[2],3<a.length?new xc(a.slice(3),0,null):null)}
function Eo(b,a,c,d){var e=null!=d&&(d.i&64||d.aa)?qe(Ke,d):d,f=x.c(e,wm,.5),g=x.c(e,ni,.5),h=xo(function(){var c=function(){var c=yj.b(b);return a.b?a.b(c):a.call(null,c)}();if(r(c))return c;throw function(){var b=[t("canvas layer "),t(a),t(" not found.")].join("");return Error(b)}();}(),e),l=un(1);Zm(function(d,e,f,g,h,l,w){return function(){var A=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof
Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(d,e,f,g,h,l,m){return function(n){var p=n[1];if(1===p){var q=Co(e,ad([Oi,l],0));return mn(n,2,q)}if(2===p){var u=n[2],q=Bn(c,function(){return function(a,
b,c,d,e,f,g){return function(a,b){return d.texture=wo(a/b,g)}}(u,p,d,e,f,g,h,l,m)}());n[7]=u;return mn(n,3,q)}if(3===p){var q=n[2],v=Bo(e,ad([Oi,m],0));n[8]=q;return mn(n,4,v)}if(4===p){var q=n[8],v=n[2],w=yj.b(b),w=(a.b?a.b(w):a.call(null,w)).removeChild(e);n[9]=w;n[10]=v;return nn(n,q)}return null}}(d,e,f,g,h,l,w),d,e,f,g,h,l,w)}(),E=function(){var a=A.j?A.j():A.call(null);a[6]=d;return a}();return ln(E)}}(l,h,d,e,e,f,g));return l};function Fo(b){var a=(Vn.j?Vn.j():Vn.call(null))[0];return r(a)?a.axes[b]:null}Jf([new J(null,2,5,L,[tm,Mk],null),0,new J(null,2,5,L,[tm,fh],null),1,new J(null,2,5,L,[pk,Mk],null),2,new J(null,2,5,L,[pk,fh],null),3]);
var Go=ld([fh,ih,kh,rh,Ah,Ch,Mh,Nh,Pa,Uh,ai,fi,ki,ui,vi,Bi,Di,Gi,Ki,Ui,Wi,Xi,ej,hj,mj,rj,xj,Pj,Qj,Uj,Zj,kk,pk,rk,Fk,Jk,Mk,Bl,Ll,Yl,nm,tm,vm],[3,14,12,13,15,16,14,5,12,0,6,7,15,7,4,13,9,6,1,13,14,12,13,5,5,7,4,3,8,7,15,1,15,6,5,2,2,4,4,6,0,14,12]),Ho=function Ho(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return Ho.c(arguments[0],arguments[1],arguments[2]);case 2:return Ho.a(arguments[0],arguments[1]);case 1:return Ho.b(arguments[0]);
default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Ho.c=function(b,a,c){return r(b)?b.buttons[x.c(Go,c,c)]:null};Ho.a=function(b,a){return Ho.c((Vn.j?Vn.j():Vn.call(null))[b],b,a)};Ho.b=function(b){return Ho.a(0,b)};Ho.B=3;Ge.c(function(b){return r(b)?.1<b:null},function(b){return r(b)?b.value:null},Ho);var Z=Error();function Io(b,a,c,d,e){return b+(c-b)/(d-a)*(e-a)}function Jo(b,a,c,d,e){return a+(d-a)/(c-b)*(e-b)}
function Ko(b,a,c,d,e,f,g,h){for(var l=Math.floor(b),n=Math.floor(a),m=new J(null,1,5,L,[new J(null,2,5,L,[l,n],null)],null);;){if(Ac.a(l,Math.floor(c))&&Ac.a(n,Math.floor(d)))return m;var q=Io(b,a,c,d,f.b?f.b(n):f.call(null,n)),p=Jo(b,a,c,d,e.b?e.b(l):e.call(null,l));if(l<=q&&q<=l+1)q=l,p=g.b?g.b(n):g.call(null,n),m=hd.a(m,new J(null,2,5,L,[l,g.b?g.b(n):g.call(null,n)],null)),l=q,n=p;else if(n<=p&&p<=n+1)q=h.b?h.b(l):h.call(null,l),p=n,m=hd.a(m,new J(null,2,5,L,[h.b?h.b(l):h.call(null,l),n],null)),
l=q,n=p;else if(Ac.a(q,h.b?h.b(l):h.call(null,l))&&Ac.a(p,g.b?g.b(n):g.call(null,n)))q=h.b?h.b(l):h.call(null,l),p=g.b?g.b(n):g.call(null,n),m=hd.o(m,new J(null,2,5,L,[l,g.b?g.b(n):g.call(null,n)],null),ad([new J(null,2,5,L,[h.b?h.b(l):h.call(null,l),n],null),new J(null,2,5,L,[h.b?h.b(l):h.call(null,l),g.b?g.b(n):g.call(null,n)],null)],0)),l=q,n=p;else throw Error([t("Assert failed: "),t("cell-coverage fatal error!"),t("\n"),t("false")].join(""));}}
function Lo(b,a,c,d,e){for(var f=Math.floor(b),g=Math.floor(a),h=new J(null,1,5,L,[new J(null,2,5,L,[f,g],null)],null);;){if(Ac.a(f,Math.floor(c)))return h;var l=Jo(b,a,c,d,f+1);if(!(g<=l&&l<=g+1))throw Error([t("Assert failed: "),t("intersection out of range"),t("\n"),t("(\x3c\x3d y right-y (inc y))")].join(""));var l=e.b?e.b(f):e.call(null,f),n=g,h=hd.a(h,new J(null,2,5,L,[e.b?e.b(f):e.call(null,f),g],null)),f=l,g=n}}
function Mo(b,a,c,d,e){for(var f=Math.floor(b),g=Math.floor(a),h=new J(null,1,5,L,[new J(null,2,5,L,[f,g],null)],null);;){if(Ac.a(g,Math.floor(d)))return h;var l=Io(b,a,c,d,g+1);if(!(f<=l&&l<=f+1))throw Error([t("Assert failed: "),t("intersection out of range"),t("\n"),t("(\x3c\x3d x top-x (inc x))")].join(""));var l=f,n=e.b?e.b(g):e.call(null,g),h=hd.a(h,new J(null,2,5,L,[f,e.b?e.b(g):e.call(null,g)],null)),f=l,g=n}}
function No(b,a,c,d){var e=Math.sign(c-b),f=Math.sign(d-a);try{if(1===e)try{if(1===f)return Ko(b,a,c,d,Ic,Ic,Ic,Ic);throw Z;}catch(l){if(l instanceof Error){var g=l;if(g===Z)try{if(-1===f)return Ko(b,a,c,d,Ic,Jd,Ld,Ic);throw Z;}catch(n){if(n instanceof Error){var h=n;if(h===Z)throw Z;throw h;}throw n;}else throw g;}else throw l;}else throw Z;}catch(l){if(l instanceof Error)if(g=l,g===Z)try{if(-1===e)try{if(1===f)return Ko(b,a,c,d,Jd,Ic,Ic,Ld);throw Z;}catch(n){if(n instanceof Error)if(h=n,h===Z)try{if(-1===
f)return Ko(b,a,c,d,Jd,Jd,Ld,Ld);throw Z;}catch(m){if(m instanceof Error){g=m;if(g===Z)throw Z;throw g;}throw m;}else throw h;else throw n;}else throw Z;}catch(n){if(n instanceof Error)if(h=n,h===Z)try{if(1===e)return Lo(b,a,c,d,Ic);throw Z;}catch(m){if(m instanceof Error)if(g=m,g===Z)try{if(-1===e)return Lo(b,a,c,d,Ld);throw Z;}catch(q){if(q instanceof Error)if(q===Z)try{if(-1===f)return Mo(b,a,c,d,Ld);throw Z;}catch(p){if(p instanceof Error)if(p===Z)try{if(1===f)return Mo(b,a,c,d,Ic);throw Z;}catch(u){if(u instanceof
Error)if(u===Z)try{if(0===f)try{if(0===e)return new J(null,1,5,L,[new J(null,2,5,L,[Math.floor(b),Math.floor(a)],null)],null);throw Z;}catch(v){if(v instanceof Error){b=v;if(b===Z)throw Z;throw b;}throw v;}else throw Z;}catch(v){if(v instanceof Error){b=v;if(b===Z)throw Error([t("No matching clause: "),t(e),t(" "),t(f)].join(""));throw b;}throw v;}else throw u;else throw u;}else throw p;else throw p;}else throw q;else throw q;}else throw g;else throw m;}else throw h;else throw n;}else throw g;else throw l;
}}function Oo(b){var a=b[0];b=b[1];var c=a|0,d=b|0;return new J(null,6,5,L,[a,b,c,d,a-c,b-d],null)}
function Po(b,a,c){b=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b;var d=x.a(b,oh),e=x.a(b,tj),f=x.a(b,Xj),g=x.a(b,rm),h=x.a(b,yi),l=Oo(c);b=H(l,0,null);var n=H(l,1,null),m=H(l,2,null),q=H(l,3,null),p=H(l,4,null),u=H(l,5,null);a=Oo(a);H(a,0,null);H(a,1,null);H(a,2,null);H(a,3,null);H(a,4,null);H(a,5,null);var v=p<e,w=p>g,A=u<f;a=u>h;var E=zd(d.a?d.a(m,q):d.call(null,m,q)),K=zd(function(){var a=m-1;return d.a?d.a(a,q):d.call(null,a,q)}()),Q=zd(function(){var a=m+1;return d.a?d.a(a,q):d.call(null,a,q)}()),M=zd(function(){var a=
q-1;return d.a?d.a(m,a):d.call(null,m,a)}()),l=zd(function(){var a=q+1;return d.a?d.a(m,a):d.call(null,m,a)}()),na=zd(function(){var a=m-1,b=q-1;return d.a?d.a(a,b):d.call(null,a,b)}()),D=zd(function(){var a=m-1,b=q+1;return d.a?d.a(a,b):d.call(null,a,b)}()),Ha=zd(function(){var a=m+1,b=q-1;return d.a?d.a(a,b):d.call(null,a,b)}()),S=zd(function(){var a=m+1,b=q+1;return d.a?d.a(a,b):d.call(null,a,b)}());try{if(!0===E)try{if(!0===v)try{if(!0===K)try{if(!0===a)try{if(!1===D)try{if(!0===l){var V=e-p,
ba=u-h;if(V<ba)return E=m+e,U.a?U.a(E,n):U.call(null,E,n);E=q+h;return U.a?U.a(b,E):U.call(null,b,E)}throw Z;}catch(Y){if(Y instanceof Error){var W=Y;if(W===Z)throw Z;throw W;}throw Y;}else throw Z;}catch(Y){if(Y instanceof Error){W=Y;if(W===Z)throw Z;throw W;}throw Y;}else throw Z;}catch(Y){if(Y instanceof Error)if(W=Y,W===Z)try{if(!0===A)try{if(!1===na)try{if(!0===M){V=e-p;ba=f-u;if(V<ba)return na=m+e,U.a?U.a(na,n):U.call(null,na,n);na=q+f;return U.a?U.a(b,na):U.call(null,b,na)}throw Z;}catch(P){if(P instanceof
Error){var T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw W;else throw Y;}else throw Z;}catch(Y){if(Y instanceof Error){W=Y;if(W===Z)throw Z;throw W;}throw Y;}else throw Z;}catch(Y){if(Y instanceof Error)if(W=Y,W===Z)try{if(!0===w)try{if(!0===Q)try{if(!0===a)try{if(!0===l)try{if(!1===S){V=p-g;ba=u-h;if(V<ba)return ba=m+g,U.a?U.a(ba,
n):U.call(null,ba,n);ba=q+h;return U.a?U.a(b,ba):U.call(null,b,ba)}throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;}catch(P){if(P instanceof Error)if(T=P,T===Z)try{if(!0===A)try{if(!0===M)try{if(!1===Ha){V=p-g;if(V<f-u)return V=m+g,U.a?U.a(V,n):U.call(null,V,n);V=q+f;return U.a?U.a(b,V):U.call(null,b,V)}throw Z;}catch(N){if(N instanceof Error){var X=N;if(X===Z)throw Z;
throw X;}throw N;}else throw Z;}catch(N){if(N instanceof Error){X=N;if(X===Z)throw Z;throw X;}throw N;}else throw Z;}catch(N){if(N instanceof Error){X=N;if(X===Z)throw Z;throw X;}throw N;}else throw T;else throw P;}else throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;}catch(P){if(P instanceof Error)if(T=P,T===Z)try{if(!0===v)try{if(!1===K)try{if(!0===a)try{if(!1===l)return V=m+e,p=q+h,U.a?U.a(V,p):U.call(null,V,p);throw Z;}catch(N){if(N instanceof Error){X=
N;if(X===Z)throw Z;throw X;}throw N;}else throw Z;}catch(N){if(N instanceof Error)if(X=N,X===Z)try{if(!0===A)try{if(!1===M)return V=m+e,p=q+f,U.a?U.a(V,p):U.call(null,V,p);throw Z;}catch(F){if(F instanceof Error){var O=F;if(O===Z)throw Z;throw O;}throw F;}else throw Z;}catch(F){if(F instanceof Error){O=F;if(O===Z)throw Z;throw O;}throw F;}else throw X;else throw N;}else throw Z;}catch(N){if(N instanceof Error){X=N;if(X===Z)throw Z;throw X;}throw N;}else throw Z;}catch(N){if(N instanceof Error)if(X=
N,X===Z)try{if(!0===w)try{if(!1===Q)try{if(!0===A)try{if(!1===M)return V=m+g,p=q+f,U.a?U.a(V,p):U.call(null,V,p);throw Z;}catch(F){if(F instanceof Error){O=F;if(O===Z)throw Z;throw O;}throw F;}else throw Z;}catch(F){if(F instanceof Error)if(O=F,O===Z)try{if(!0===a)try{if(!1===l)return V=m+g,p=q+h,U.a?U.a(V,p):U.call(null,V,p);throw Z;}catch(ta){if(ta instanceof Error){var ga=ta;if(ga===Z)throw Z;throw ga;}throw ta;}else throw Z;}catch(ta){if(ta instanceof Error){ga=ta;if(ga===Z)throw Z;throw ga;}throw ta;
}else throw O;else throw F;}else throw Z;}catch(F){if(F instanceof Error){O=F;if(O===Z)throw Z;throw O;}throw F;}else throw Z;}catch(F){if(F instanceof Error){O=F;if(O===Z)throw Z;throw O;}throw F;}else throw X;else throw N;}else throw T;else throw P;}else throw W;else throw Y;}else throw Z;}catch(Y){if(Y instanceof Error)if(W=Y,W===Z)try{if(!0===v)try{if(!1===K)return e=m+e,U.a?U.a(e,n):U.call(null,e,n);throw Z;}catch(P){if(P instanceof Error){T=P;if(T===Z)throw Z;throw T;}throw P;}else throw Z;
}catch(P){if(P instanceof Error)if(T=P,T===Z)try{if(!0===w)try{if(!1===Q)return T=m+g,U.a?U.a(T,n):U.call(null,T,n);throw Z;}catch(N){if(N instanceof Error){X=N;if(X===Z)throw Z;throw X;}throw N;}else throw Z;}catch(N){if(N instanceof Error)if(X=N,X===Z)try{if(!0===A)try{if(!1===M)return X=q+f,U.a?U.a(b,X):U.call(null,b,X);throw Z;}catch(F){if(F instanceof Error){O=F;if(O===Z)throw Z;throw O;}throw F;}else throw Z;}catch(F){if(F instanceof Error)if(O=F,O===Z)try{if(!0===a)try{if(!1===l)return O=q+
h,U.a?U.a(b,O):U.call(null,b,O);throw Z;}catch(ta){if(ta instanceof Error){ga=ta;if(ga===Z)throw Z;throw ga;}throw ta;}else throw Z;}catch(ta){if(ta instanceof Error){ga=ta;if(ga===Z)return c;throw ga;}throw ta;}else throw O;else throw F;}else throw X;else throw N;}else throw T;else throw P;}else throw W;else throw Y;}}
function Qo(b,a,c,d,e,f,g,h){var l=Io(b,a,c,d,h.b?h.b(f):h.call(null,f));b=Jo(b,a,c,d,g.b?g.b(e):g.call(null,e));return e<=l&&l<=e+1?(e=h.b?h.b(f):h.call(null,f),U.a?U.a(l,e):U.call(null,l,e)):f<=b&&b<=f+1?(l=g.b?g.b(e):g.call(null,e),U.a?U.a(l,b):U.call(null,l,b)):null}function Ro(b,a,c,d,e,f,g){b=Io(b,a,c,d,g.b?g.b(f):g.call(null,f));return e<=b&&b<=e+1?(e=g.b?g.b(f):g.call(null,f),U.a?U.a(b,e):U.call(null,b,e)):null}
function So(b,a,c,d,e,f,g){b=Jo(b,a,c,d,g.b?g.b(e):g.call(null,e));return f<=b&&b<=f+1?(e=g.b?g.b(e):g.call(null,e),U.a?U.a(e,b):U.call(null,e,b)):null}
function To(b,a,c,d){var e=Oo(a);a=H(e,0,null);var f=H(e,1,null);H(e,2,null);H(e,3,null);H(e,4,null);H(e,5,null);var g=Oo(b);b=H(g,0,null);e=H(g,1,null);H(g,2,null);H(g,3,null);H(g,4,null);H(g,5,null);var g=Math.sign(a-b),h=Math.sign(f-e);try{if(1===g)try{if(1===h)return Qo(b,e,a,f,c,d,Jd,Jd);throw Z;}catch(n){if(n instanceof Error){var l=n;if(l===Z)throw Z;throw l;}throw n;}else throw Z;}catch(n){if(n instanceof Error)if(l=n,l===Z)try{if(-1===g)try{if(1===h)return Qo(b,e,a,f,c,d,Ic,Jd);throw Z;}catch(m){if(m instanceof
Error){l=m;if(l===Z)throw Z;throw l;}throw m;}else throw Z;}catch(m){if(m instanceof Error)if(l=m,l===Z)try{if(1===g)try{if(-1===h)return Qo(b,e,a,f,c,d,Jd,Ic);throw Z;}catch(q){if(q instanceof Error){l=q;if(l===Z)throw Z;throw l;}throw q;}else throw Z;}catch(q){if(q instanceof Error)if(l=q,l===Z)try{if(-1===g)try{if(-1===h)return Qo(b,e,a,f,c,d,Ic,Ic);throw Z;}catch(p){if(p instanceof Error){l=p;if(l===Z)return So(b,e,a,f,c,d,Ic);throw l;}throw p;}else throw Z;}catch(p){if(p instanceof Error)if(l=
p,l===Z)try{if(1===g)return So(b,e,a,f,c,d,Jd);throw Z;}catch(u){if(u instanceof Error)if(u===Z)try{if(-1===h)return Ro(b,e,a,f,c,d,Ic);throw Z;}catch(v){if(v instanceof Error)if(v===Z)try{if(1===h)return Ro(b,e,a,f,c,d,Jd);throw Z;}catch(w){if(w instanceof Error)if(w===Z)try{if(0===h)try{if(0===g)throw Error([t("Assert failed: "),t("no movement!"),t("\n"),t("false")].join(""));throw Z;}catch(A){if(A instanceof Error){c=A;if(c===Z)throw Z;throw c;}throw A;}else throw Z;}catch(A){if(A instanceof Error){c=
A;if(c===Z)throw Error([t("No matching clause: "),t(g),t(" "),t(h)].join(""));throw c;}throw A;}else throw w;else throw w;}else throw v;else throw v;}else throw u;else throw u;}else throw l;else throw p;}else throw l;else throw q;}else throw l;else throw m;}else throw l;else throw n;}}function Uo(b,a,c,d){a=To(b,a,c,d);return $n(bo(ao(a,b),.999),b)}
function Vo(b,a,c){b=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b;var d=x.a(b,oh);if(r(1E-14>Math.abs(c[0]-a[0])&&1E-14>Math.abs(c[1]-a[1])))return c;var e=Oo(c),f=H(e,0,null),g=H(e,1,null),h=H(e,2,null),l=H(e,3,null);H(e,4,null);H(e,5,null);var e=Oo(a),n=H(e,0,null),m=H(e,1,null),q=H(e,2,null),p=H(e,3,null);H(e,4,null);H(e,5,null);var u=h-q,v=l-p;if(r(function(){var a=2>Math.abs(u);return a&&(a=2>Math.abs(v))?(a=2>Math.abs(u)+Math.abs(v))?d.a?d.a(h,l):d.call(null,h,l):a:a}()))return Po(b,a,c);f=No(n,m,f,g);
g=y(f);e=z(g);B(g);H(e,0,null);for(H(e,1,null);;)if(f=y(f),g=z(f),f=B(f),e=g,g=H(e,0,null),e=H(e,1,null),r(d.a?d.a(g,e):d.call(null,g,e))){if(0===G(f))return c}else return Po(b,a,Uo(a,c,g,e))};function Wo(b){return b instanceof I?[t(function(){var a=ae(b);return null==a?null:[t(a),t("/")].join("")}()),t(ce(b))].join(""):b}
function Xo(b,a){var c=G(a);if("number"!==typeof c||isNaN(c)||Infinity===c||parseFloat(c)!==parseInt(c,10))throw Error([t("Argument must be an integer: "),t(c)].join(""));if(0!==(c&1))throw Error("Assert failed: (even? (count kvs))");for(var c=b.style,d=y(Ve(2,2,a)),e=null,f=0,g=0;;)if(g<f){var h=e.U(null,g),l=H(h,0,null),h=H(h,1,null);c.setProperty(Wo(l),h);g+=1}else if(d=y(d))vd(d)?(f=ac(d),d=bc(d),e=f,f=G(f)):(f=z(d),e=H(f,0,null),f=H(f,1,null),c.setProperty(Wo(e),f),d=B(d),e=null,f=0),g=0;else break}
;var Yo,Zo=null;
function $o(b){var a=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b;b=x.c(a,em,!1);var c=x.c(a,Mk,0),d=x.c(a,fh,0),e=x.c(a,Ci,800),f=x.c(a,qm,600),g=x.a(a,Yi),h=x.c(a,El,bm),l=x.c(a,Ei,5242880);x.c(a,oi,!0);var a=window.innerWidth,n=window.innerHeight,m=r(b)?a:e,q=r(b)?n:f,p={backgroundColor:l,transparent:!1,imageSmoothingEnabled:!1,antialias:!1,autoResize:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,view:g,resolution:1},e=function(){switch(h instanceof I?h.Ea:null){case "webgl":return new PIXI.WebGLRenderer(m,q,
p);case "canvas":return new PIXI.CanvasRenderer(m,q,p);default:return new PIXI.autoDetectRenderer(m,q,p)}}(),f=e.view,l=f.width,u=f.height;r(g)||(Xo(f,ad([tm,r(b)?0:c,ii,r(b)?0:d,xk,"absolute"],0)),document.body.appendChild(f));e.resize(r(b)?a:l,r(b)?n:u);return new La(null,2,[Zi,e,Yi,r(g)?g:f],null)}
function ap(b){var a=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b,c=x.c(a,vk,new J(null,6,5,L,[Wl,gm,jj,Ol,Hj,Nk],null)),d=x.c(a,vh,Be),e=x.c(a,ok,Be),f=new PIXI.Container,g=Oe.a(function(){return function(){return new PIXI.Container}}(f,b,a,c,d,e),c);return new La(null,5,[Jh,f,vh,d,ok,e,vk,c,yj,Te.a(Be,function(){return function(a,b,c,d,e,f,g){return function w(A){return new de(null,function(){return function(){for(;;){var a=y(A);if(a){if(vd(a)){var b=ac(a),c=G(b),d=he(c);a:for(var e=0;;)if(e<c){var f=lb.a(b,
e),g=H(f,0,null),f=H(f,1,null);d.add(new J(null,2,5,L,[g,f],null));e+=1}else{b=!0;break a}return b?je(d.Y(),w(bc(a))):je(d.Y(),null)}b=z(a);d=H(b,0,null);b=H(b,1,null);return Zc(new J(null,2,5,L,[d,b],null),w(yc(a)))}return null}}}(a,b,c,d,e,f,g),null,null)}}(f,g,b,a,c,d,e)(Ve(2,2,Re.a(c,g)))}())],null)}
function bp(b,a,c,d){var e=H(d,0,null);d=H(d,1,null);var f=b.width;b=b.height;var g=Math.round(f/2),h=Math.round(b/2);switch(c instanceof I?c.Ea:null){case "center":return a.position.x=e+g,a.position.y=d+h;case "top":return a.position.x=e+g,a.position.y=d;case "bottom":return a.position.x=e+g,a.position.y=d+b;case "left":return a.position.x=e,a.position.y=d+h;case "right":return a.position.x=e+f,a.position.y=d+h;case "top-left":return a.position.x=e,a.position.y=d;case "top-right":return a.position.x=
e+f,a.position.y=d;case "bottom-left":return a.position.x=e,a.position.y=d+b;case "bottom-right":return a.position.x=e+f,a.position.y=d+b;default:return a.position.x=e+g,a.position.y=d+h}}
function cp(){var b=new La(null,3,[vk,new J(null,3,5,L,[Xl,Cj,Hj],null),Ei,dp,em,!0],null),a=Te.a($o(b),ap(b)),c=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.a(c,lm),e=x.c(c,vh,Be),f=x.a(c,Jh),g=x.c(c,oi,!0),h=x.a(c,Yi),l=x.a(c,Zi),n=x.a(c,yj),m=x.a(c,tk),q=x.c(c,ok,Be),p=x.a(c,vk);Ag(Oe.a(function(a,b,c,d,e,f,g,h,l,n,m,p){return function(a){var b=H(a,0,null);a=H(a,1,null);f.addChild(a);return bp(h,a,function(){var a=e.b?e.b(b):e.call(null,b);return r(a)?a:dj}(),function(){var a=p.b?p.b(b):p.call(null,
b);return r(a)?a:new J(null,2,5,L,[0,0],null)}())}}(a,c,c,d,e,f,g,h,l,n,m,q,p),n));l.render(f);var u=function(a,b,c,d,e,f,g,h,l){return function(){return l.render(f)}}(a,c,c,d,e,f,g,h,l,n,m,q,p),v=function(a,b,c,d,e,f,g,h,l,n,m,p,q,u){return function(v,w){n.resize(v,w);return Ag(Oe.a(function(a,b,c,d,e,f,g,h,l,n,m,p,q){return function(a){var b=H(a,0,null);a=H(a,1,null);return bp(l,a,function(){var a=f.b?f.b(b):f.call(null,b);return r(a)?a:dj}(),function(){var a=q.b?q.b(b):q.call(null,b);return r(a)?
a:new J(null,2,5,L,[0,0],null)}())}}(a,b,c,d,e,f,g,h,l,n,m,p,q,u),m))}}(u,a,c,c,d,e,f,g,h,l,n,m,q,p),w=function(a,b){return function(){return b(window.innerWidth,window.innerHeight)}}(u,v,a,c,c,d,e,f,g,h,l,n,m,q,p),A=function(a,b,c,d,e,f,g,h,l,n,m){return function(a){return r(a)?r(m.requestFullscreen)?m.requestFullscreen():r(m.webkitRequestFullscreen)?m.webkitRequestFullscreen():r(m.mozRequestFullScreen)?m.mozRequestFullScreen():null:r(document.exitFullscreen)?document.exitFullscreen():r(document.webkitExitFullscreen)?
document.webkitExitFullscreen():r(document.msExitFullscreen)?document.msExitFullscreen():r(document.mozCancelFullScreen)?document.mozCancelFullScreen():null}}(u,v,w,a,c,c,d,e,f,g,h,l,n,m,q,p),b=r(em.b(b))?function(){var b=Sn(),K=un(1);Zm(function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,E,K){return function(){var Qa=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,qn(c),d=R;else throw f;
}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a,b,c,d){return function(a){var e=a[1];if(1===e)return a[2]=null,a[1]=2,R;if(2===e)return a[1]=4,R;if(3===e)return nn(a,a[2]);if(4===e)return mn(a,7,b);if(5===e)return a[2]=null,a[1]=6,R;if(6===e)return a[2]=
a[2],a[1]=3,R;if(7===e){var f=a[2],e=H(f,0,null),f=H(f,1,null),e=d(e,f),f=c();a[7]=e;a[8]=f;a[2]=null;a[1]=2;return R}return null}}(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,E,K),a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,E,K)}(),Ka=function(){var b=Qa.j?Qa.j():Qa.call(null);b[6]=a;return b}();return ln(Ka)}}(K,b,u,v,w,A,a,c,c,d,e,f,g,h,l,n,m,q,p));return K}():null;Yo=function(a){return function Q(){On.b?On.b(Q):On.call(null,Q);return a()}}(u,v,w,A,b,a,c,c,d,e,f,g,h,l,n,m,q,p);Yo();b=Te.a(c,new La(null,4,[di,u,mm,
v,wh,A,qk,w],null));r(g)&&(Zo=b);r(m)||gd(p);return b};function ep(b,a,c,d,e,f,g,h){this.Ta=b;this.Za=a;this.Qa=c;this.Xa=d;this.Va=e;this.R=f;this.D=g;this.u=h;this.i=2229667594;this.A=8192}k=ep.prototype;k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){switch(a instanceof I?a.Ea:null){case "closed-set":return this.Ta;case "open-set":return this.Za;case "came-from":return this.Qa;case "g-score":return this.Xa;case "f-score":return this.Va;default:return x.c(this.D,a,c)}};
k.X=function(b,a,c){return Bg(a,function(){return function(b){return Bg(a,Ig,""," ","",c,b)}}(this),"#infinitelives.utils.pathfind.state{",", ","}",c,ne.a(new J(null,5,5,L,[new J(null,2,5,L,[Ak,this.Ta],null),new J(null,2,5,L,[Qi,this.Za],null),new J(null,2,5,L,[gk,this.Qa],null),new J(null,2,5,L,[Ai,this.Xa],null),new J(null,2,5,L,[Tj,this.Va],null)],null),this.D))};k.Ja=function(){return new yf(0,this,5,new J(null,5,5,L,[Ak,Qi,gk,Ai,Tj],null),hc(this.D))};k.K=function(){return this.R};
k.$=function(){return 5+G(this.D)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Rd(this)};k.v=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?xf(this,a):c:a;return r(c)?!0:!1};k.wb=function(b,a){return Ad(new vg(null,new La(null,5,[Ai,null,Qi,null,Tj,null,gk,null,Ak,null],null),null),a)?md.a(bd(Te.a(Be,this),this.R),a):new ep(this.Ta,this.Za,this.Qa,this.Xa,this.Va,this.R,ve(md.a(this.D,a)),null)};
k.hb=function(b,a,c){return r($d.a?$d.a(Ak,a):$d.call(null,Ak,a))?new ep(c,this.Za,this.Qa,this.Xa,this.Va,this.R,this.D,null):r($d.a?$d.a(Qi,a):$d.call(null,Qi,a))?new ep(this.Ta,c,this.Qa,this.Xa,this.Va,this.R,this.D,null):r($d.a?$d.a(gk,a):$d.call(null,gk,a))?new ep(this.Ta,this.Za,c,this.Xa,this.Va,this.R,this.D,null):r($d.a?$d.a(Ai,a):$d.call(null,Ai,a))?new ep(this.Ta,this.Za,this.Qa,c,this.Va,this.R,this.D,null):r($d.a?$d.a(Tj,a):$d.call(null,Tj,a))?new ep(this.Ta,this.Za,this.Qa,this.Xa,
c,this.R,this.D,null):new ep(this.Ta,this.Za,this.Qa,this.Xa,this.Va,this.R,kd.c(this.D,a,c),null)};k.ba=function(){return y(ne.a(new J(null,5,5,L,[new J(null,2,5,L,[Ak,this.Ta],null),new J(null,2,5,L,[Qi,this.Za],null),new J(null,2,5,L,[gk,this.Qa],null),new J(null,2,5,L,[Ai,this.Xa],null),new J(null,2,5,L,[Tj,this.Va],null)],null),this.D))};k.O=function(b,a){return new ep(this.Ta,this.Za,this.Qa,this.Xa,this.Va,a,this.D,this.u)};
k.Z=function(b,a){return ud(a)?sb(this,lb.a(a,0),lb.a(a,1)):bb(jb,this,a)};function fp(b,a){return Math.abs(b)+Math.abs(a)}function gp(b,a){var c=H(b,0,null),d=H(b,1,null),e=H(a,0,null),f=H(a,1,null),c=Math.abs(c-e),d=Math.abs(d-f);return fp.a?fp.a(c,d):fp.call(null,c,d)}function hp(b,a){return Xe(Xe(b,Qi,qd,a),Ak,hd,a)}
function ip(b,a,c,d){return bb(function(b,c){var g=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b;x.a(g,Ak);var h=x.a(g,Qi),l=x.a(g,gk),n=x.a(g,Tj),m=x.a(g,Ai),q=H(c,0,null),p=H(c,1,null),u=H(a,0,null),v=H(a,1,null),q=Math.abs(q-u),p=Math.abs(p-v),p=(Ac.a(1,q)&&Ac.a(1,p)?14:Ac.a(1,q)||Ac.a(1,p)?10:null)+x.a(m,a),v=x.c(m,c,9999999);return p>=v?kd.c(g,Qi,hd.a(h,c)):kd.o(g,Qi,hd.a(h,c),ad([gk,kd.c(l,c,a),Ai,kd.c(m,c,p),Tj,kd.c(n,c,(m.b?m.b(c):m.call(null,c))+10*gp(c,d))],0))},b,c)}
function jp(b){var a=H(b,0,null),c=H(b,1,null);return function(a,b,c){return function h(l){return new de(null,function(a,b,c){return function(){for(var d=l;;){var e=y(d);if(e){var f=e,w=z(f);if(e=y(function(a,b,c,d,e,f,h){return function S(l){return new de(null,function(a,b,c,d,e,f,h){return function(){for(var a=l;;)if(a=y(a)){if(vd(a)){var c=ac(a),d=G(c),e=he(d);a:for(var m=0;;)if(m<d){var n=lb.a(c,m);0===b&&0===n||e.add(new J(null,2,5,L,[f+b,h+n],null));m+=1}else{c=!0;break a}return c?je(e.Y(),
S(bc(a))):je(e.Y(),null)}e=z(a);if(0!==b||0!==e)return Zc(new J(null,2,5,L,[f+b,h+e],null),S(yc(a)));a=yc(a)}else return null}}(a,b,c,d,e,f,h),null,null)}}(d,w,f,e,a,b,c)(new J(null,3,5,L,[-1,0,1],null))))return ne.a(e,h(yc(d)));d=yc(d)}else return null}}}(a,b,c),null,null)}}(b,a,c)(new J(null,3,5,L,[-1,0,1],null))}
function kp(b){var a=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b,c=x.a(a,Tj),d=x.a(a,Qi);return z(z(Se(function(a,b,c,d){return function(a){var b=H(a,0,null);H(a,1,null);return d.b?d.b(b):d.call(null,b)}}(b,a,c,d),Hd(c))))}
function lp(b,a,c,d,e){var f=se(qd,Te.a(xg,jp(c)),Ak.b(b)),g=H(c,0,null),h=H(c,1,null);b=hp(ip(b,c,Se(function(b,c,d,f){return function(b){var c=H(b,0,null);b=H(b,1,null);return r(e)?!0:Ac.a(c,d-1)&&Ta(function(){var b=new J(null,2,5,L,[d-1,f],null);return a.b?a.b(b):a.call(null,b)}())?!1:Ac.a(c,d+1)&&Ta(function(){var b=new J(null,2,5,L,[d+1,f],null);return a.b?a.b(b):a.call(null,b)}())?!1:Ac.a(b,f-1)&&Ta(function(){var b=new J(null,2,5,L,[d,f-1],null);return a.b?a.b(b):a.call(null,b)}())?!1:Ac.a(b,
f+1)&&Ta(function(){var b=new J(null,2,5,L,[d,f+1],null);return a.b?a.b(b):a.call(null,b)}())?!1:!0}}(f,c,g,h),Se(a,f)),d),c);c=kp(b);return new J(null,2,5,L,[b,c],null)}
function mp(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a:{var e=arguments[0],c=arguments[1],d=arguments[2],a=Te.a(xg,3<a.length?new xc(a.slice(3),0,null):null),a=mk.b(a),f=xg,g;b:{g=[c];var h=g.length;if(h<=Hf)for(var l=0,n=Sb(Be);;)if(l<h)var m=l+1,n=Vb(n,g[l],null),l=m;else{g=new vg(null,Ub(n),null);break b}else for(l=0,n=Sb(xg);;)if(l<h)m=l+1,n=Tb(n,g[l]),l=m;else{g=Ub(n);break b}}h=Jf([c,0]);l=Jf([c,gp(c,d)]);f=lp(new ep(f,g,Be,h,l,null,null,null),e,c,
d,a);g=H(f,0,null);g=null!=g&&(g.i&64||g.aa)?qe(Ke,g):g;x.a(g,Qi);for(H(f,1,null);;){g=H(f,0,null);g=h=null!=g&&(g.i&64||g.aa)?qe(Ke,g):g;h=x.a(h,Qi);f=H(f,1,null);if(null==h||Ta(y(h))){c=null;break a}if(Ac.a(f,d)){b:for(a=g,e=d,d=null!=a&&(a.i&64||a.aa)?qe(Ke,a):a,d=x.a(d,gk),f=zc;;)if(Ac.a(e,c)){c=hd.a(f,c);break b}else a=d.b?d.b(e):d.call(null,e),f=hd.a(f,e),e=a;break a}else f=lp(g,e,f,d,a)}}return c};function np(){var b=op;return Ue(function(a){return Ue(b,a)},pp)}function qp(b,a,c,d,e){this.sb=b;this.tb=a;this.R=c;this.D=d;this.u=e;this.i=2229667594;this.A=8192}k=qp.prototype;k.V=function(b,a){return qb.c(this,a,null)};k.M=function(b,a,c){switch(a instanceof I?a.Ea:null){case "texture-map":return this.sb;case "tile-size":return this.tb;default:return x.c(this.D,a,c)}};
k.X=function(b,a,c){return Bg(a,function(){return function(b){return Bg(a,Ig,""," ","",c,b)}}(this),"#infinitelives.pixi.tilemap.Tileset{",", ","}",c,ne.a(new J(null,2,5,L,[new J(null,2,5,L,[pj,this.sb],null),new J(null,2,5,L,[ck,this.tb],null)],null),this.D))};k.Ja=function(){return new yf(0,this,2,new J(null,2,5,L,[pj,ck],null),hc(this.D))};k.K=function(){return this.R};k.$=function(){return 2+G(this.D)};k.P=function(){var b=this.u;return null!=b?b:this.u=b=Rd(this)};
k.v=function(b,a){var c;c=r(a)?(c=this.constructor===a.constructor)?xf(this,a):c:a;return r(c)?!0:!1};k.wb=function(b,a){return Ad(new vg(null,new La(null,2,[pj,null,ck,null],null),null),a)?md.a(bd(Te.a(Be,this),this.R),a):new qp(this.sb,this.tb,this.R,ve(md.a(this.D,a)),null)};
k.hb=function(b,a,c){return r($d.a?$d.a(pj,a):$d.call(null,pj,a))?new qp(c,this.tb,this.R,this.D,null):r($d.a?$d.a(ck,a):$d.call(null,ck,a))?new qp(this.sb,c,this.R,this.D,null):new qp(this.sb,this.tb,this.R,kd.c(this.D,a,c),null)};k.ba=function(){return y(ne.a(new J(null,2,5,L,[new J(null,2,5,L,[pj,this.sb],null),new J(null,2,5,L,[ck,this.tb],null)],null),this.D))};k.O=function(b,a){return new qp(this.sb,this.tb,a,this.D,this.u)};
k.Z=function(b,a){return ud(a)?sb(this,lb.a(a,0),lb.a(a,1)):bb(jb,this,a)};function rp(b,a){return new qp(b,a,null,null,null)}function sp(b){var a=tp;return rp(function(){var c=yo(Ck);return Te.a(Be,Oe.a(function(a){return function(c){var f=H(c,0,null);c=H(c,1,null);return new J(null,2,5,L,[f,io(a,c,b)],null)}}(c),a))}(),b)}
function up(b,a){var c=null!=b&&(b.i&64||b.aa)?qe(Ke,b):b,d=x.a(c,pj),e=x.a(c,ck),f=H(e,0,null),g=H(e,1,null);return Te.a(Be,Se(Jd,function(){return function(b,c,d,e,f,g){return function v(w){return new de(null,function(b,c,d,e,f,g){return function(){for(var h=w;;){var l=y(h);if(l){var m=l,n=z(m);if(l=y(function(b,c,d,e,f,g,h,l,m,n){return function Aa(p){return new de(null,function(b,c,d,e,f,g,h,l,m,n){return function(){for(;;){var b=y(p);if(b){if(vd(b)){var d=ac(b),e=G(d),f=he(e);return function(){for(var b=
0;;)if(b<e){var g=lb.a(d,b),l=f,p=Tc(a.b?a.b(c):a.call(null,c),g),g=r(p)?new J(null,2,5,L,[new J(null,2,5,L,[g,c],null),mo(h.b?h.b(p):h.call(null,p),ad([Mk,m*g,fh,n*c,xm,0,Vj,0],0))],null):null;l.add(g);b+=1}else return!0}()?je(f.Y(),Aa(bc(b))):je(f.Y(),null)}var g=z(b);return Zc(function(){var b=Tc(a.b?a.b(c):a.call(null,c),g);return r(b)?new J(null,2,5,L,[new J(null,2,5,L,[g,c],null),mo(h.b?h.b(b):h.call(null,b),ad([Mk,m*g,fh,n*c,xm,0,Vj,0],0))],null):null}(),Aa(yc(b)))}return null}}}(b,c,d,e,f,
g,h,l,m,n),null,null)}}(h,n,m,l,b,c,d,e,f,g)(new zg(null,0,G(z(a)),1,null))))return ne.a(l,v(yc(h)));h=yc(h)}else return null}}}(b,c,d,e,f,g),null,null)}}(b,c,d,e,f,g)(new zg(null,0,G(a),1,null))}()))}function vp(b,a){return ue(uo,uh,Ff(b),xm,.5,ad([Vj,.5,oj,!0,a],0))}function wp(b,a,c,d){b=b.b?b.b(a):b.call(null,a);c=pj.b(c);d=d.b?d.b(c):d.call(null,c);return b.texture=d};Ea=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new xc(e,0)}return a.call(this,d)}function a(a){return console.log.apply(console,ab?$a(a):Za.call(null,a))}b.B=0;b.C=function(b){b=y(b);return a(b)};b.o=a;return b}();
Fa=function(){function b(b){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new xc(e,0)}return a.call(this,d)}function a(a){return console.error.apply(console,ab?$a(a):Za.call(null,a))}b.B=0;b.C=function(b){b=y(b);return a(b)};b.o=a;return b}();if("undefined"===typeof dp)var dp=853777;
var pp=new J(null,14,5,L,"           ; o...oo          ;\x3c\x3e.,....   -\x3d     ;#$.....:{}    ; o..,.....,..    ; o....o.    ; :o..oo   .    ; ()   o    ;  []   -\x3d   .    ;     {}.   ;     oo..,...o   ;    !@..:......   ;    AB,.....o..   ;        ".split(";"),null),op=ld("])\x3d!-(B:\x3c.{,}[A# $o@\x3e".split(""),[Pi,vj,Lj,th,wi,nj,ri,hm,bj,Sj,Ph,hi,Ek,Fl,Vi,qi,nh,Ij,im,Rh,Dl,hh,uk,Ti,Eh,null,Ri,Bj,Ml,xh,zj,Aj,uj]),
tp=ld([hh,nh,th,xh,Eh,Ph,Rh,hi,qi,ri,wi,Pi,Ri,Ti,Vi,bj,nj,uj,vj,zj,Aj,Bj,Ij,Lj,Sj,uk,Ek,Dl,Fl,Ml,hm,im],[new J(null,2,5,L,[48,96],null),new J(null,2,5,L,[128,0],null),new J(null,2,5,L,[48,80],null),new J(null,2,5,L,[32,32],null),new J(null,2,5,L,[144,160],null),new J(null,2,5,L,[48,0],null),new J(null,2,5,L,[32,96],null),new J(null,2,5,L,[112,112],null),new J(null,2,5,L,[16,32],null),new J(null,2,5,L,[0,0],null),new J(null,2,5,L,[144,176],null),new J(null,2,5,L,[0,32],null),new J(null,2,5,L,[64,0],
null),new J(null,2,5,L,[144,192],null),new J(null,2,5,L,[160,192],null),new J(null,2,5,L,[48,16],null),new J(null,2,5,L,[32,0],null),new J(null,2,5,L,[160,144],null),new J(null,2,5,L,[128,128],null),new J(null,2,5,L,[160,176],null),new J(null,2,5,L,[32,16],null),new J(null,2,5,L,[160,160],null),new J(null,2,5,L,[144,144],null),new J(null,2,5,L,[128,112],null),new J(null,2,5,L,[32,80],null),new J(null,2,5,L,[112,128],null),new J(null,2,5,L,[16,0],null),new J(null,2,5,L,[112,0],null),new J(null,2,5,
L,[0,16],null),new J(null,2,5,L,[128,32],null),new J(null,2,5,L,[64,16],null),new J(null,2,5,L,[96,0],null)]),ko=ld([lh,yh,Gh,Kh,li,ti,xi,aj,Jj,jk,lk,sk,Il,Nl,fm],[new La(null,2,[Ji,new J(null,2,5,L,[32,0],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[0,0],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[48,32],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[16,0],null),$i,new J(null,2,5,L,[16,
16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[0,16],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[16,48],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[0,48],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[32,32],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[16,16],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[32,
16],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[48,0],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[32,48],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[48,16],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[0,32],null),$i,new J(null,2,5,L,[16,16],null)],null),new La(null,2,[Ji,new J(null,2,5,L,[16,32],null),$i,new J(null,2,5,L,[16,16],null)],null)]);
if("undefined"===typeof xp)var xp=cp();if("undefined"===typeof yp){var yp,Ep=new La(null,2,[Ji,Yn.j?Yn.j():Yn.call(null),Oj,null],null);yp=Je?Je(Ep):Ie.call(null,Ep)}
if("undefined"===typeof Fp)var Fp=function(){var b=un(1);Zm(function(a){return function(){var b=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!$d(f,R)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,qn(c),d=R;else throw g;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a){return function(b){var c,d=b[1];if(7===d){var l=[t("canvas layer "),t(Cj),t(" not found.")].join("");throw Error(l);}if(20===d){var n=c=b;n[2]=1;n[1]=22;return R}if(27===d){var m=Nn(Xi);c=b;c[1]=r(m)?29:30;return R}if(1===d){var q=Do(xp,
Hj,new J(null,2,5,L,["img/tiles.png","img/notlink.png"],null));c=b;return mn(c,2,q)}if(24===d){var p=c=b;p[2]=null;p[1]=25;return R}if(39===d){var u=b[7],v=b[8],w=b[9],A=16*(.5+u),E=16*(.5+w),K=U.a?U.a(A,E):U.call(null,A,E),Q=ao(K,v),M=c=b;M[2]=Q;M[1]=40;return R}if(46===d){var na=b[10],D=b[11],Ha=b[2],v=na,S=D;b[12]=Ha;b[13]=S;b[8]=v;var V=c=b;V[2]=null;V[1]=12;return R}if(4===d){var ba=c=b;ba[2]=Cj;ba[1]=5;return R}if(15===d){var W=Nn(tm);c=b;c[1]=r(W)?17:18;return R}if(21===d)return c=b,c[1]=23,
R;if(31===d){var T=b[2],X=c=b;X[2]=T;X[1]=28;return R}if(32===d){var O=c=b;O[2]=1;O[1]=34;return R}if(40===d){var ga=b[14],Y=b[15],P=b[16],na=b[10],N=b[17],F=b[18],ta=b[19],Aa=b[20],Qa=b[21],Ka=b[22],ib=b[23],db=b[24],u=b[7],S=b[13],v=b[8],w=b[9],D=b[11],Yb=b[2],Pc=bo(ib,.3),Fd=$n(S,Pc),kj=bo(Yb,.1),re=$n(Fd,kj),Hk=bo(re,.95),Th=co(Hk),Vh=$n(v,Th),Kk=[oh,tj,Xj,rm,yi],zp=ld(Kk,[function(){return function(a,b,c,d,e,f,g,h,l,m){return function(a,b){return(new vg(null,new La(null,4,[nh,null,Dl,null,Ml,
null,im,null],null),null)).call(null,We(m,new J(null,2,5,L,[b,a],null)))}}(Aa,Y,S,Vh,Yb,Th,F,db,ib,Ka,v,u,w,Qa,Qa,P,ga,ta,N,ga,Y,P,na,N,F,ta,Aa,Qa,Ka,ib,db,u,S,v,w,D,Yb,Pc,Fd,kj,re,Hk,Th,Vh,Kk,d,a)}(),.01,.01,.99,.7]),Ap=bo(v,.0625),Dp=bo(Vh,.0625),Bp=Vo(zp,Ap,Dp),ag=bo(Bp,16),Lk=ao(ag,v),Cp=Ne.w(yp,kd,Ji,ag),Gp=no(N,ag),Wh=fo(Lk);b[10]=ag;b[25]=Gp;b[26]=Cp;b[11]=Lk;c=b;switch(Wh instanceof I?Wh.Ea:null){case "left":c[1]=42;break;case "right":c[1]=43;break;case "up":c[1]=44;break;case "down":c[1]=
45;break;default:throw Error([t("No matching clause: "),t(Wh)].join(""));}return R}if(33===d)return c=b,c[1]=35,R;if(13===d){var Hp=b[2];c=b;c[2]=Hp;qn(c);return R}if(22===d){var Ip=b[2],Ok=c=b;Ok[2]=Ip;Ok[1]=19;return R}if(36===d){var Pk=c=b;Pk[2]=null;Pk[1]=37;return R}if(41===d){var Jp=b[2],Kp=Pn();b[27]=Jp;c=b;return mn(c,46,Kp)}if(43===d){var N=b[17],Lp=po(N,li),Mp=N.scale=lo(1,1);b[28]=Lp;var Qk=c=b;Qk[2]=Mp;Qk[1]=41;return R}if(29===d){var Rk=c=b;Rk[2]=-1;Rk[1]=31;return R}if(44===d){var N=
b[17],Np=po(N,yh),Op=N.scale=lo(1,1);b[29]=Np;var Sk=c=b;Sk[2]=Op;Sk[1]=41;return R}if(6===d){var Tk=b[30],Uk=c=b;Uk[2]=Tk;Uk[1]=8;return R}if(28===d){var Qa=b[21],bg=b[31],Vk=b[2],ib=U.a?U.a(bg,Vk):U.call(null,bg,Vk),Pp=C.b?C.b(yp):C.call(null,yp),cg=Oj.b(Pp),u=H(cg,0,null),w=H(cg,1,null),Qp=null==cg;b[21]=cg;b[23]=ib;b[7]=u;b[9]=w;c=b;c[1]=r(Qp)?38:39;return R}if(25===d){var Rp=b[2],Wk=c=b;Wk[2]=Rp;Wk[1]=22;return R}if(34===d){var Sp=b[2],Xk=c=b;Xk[2]=Sp;Xk[1]=31;return R}if(17===d){var Yk=c=b;
Yk[2]=-1;Yk[1]=19;return R}if(3===d){var Tk=b[30],Tp=yj.b(Zo),Zk=Cj.b(Tp);b[30]=Zk;c=b;c[1]=r(Zk)?6:7;return R}if(12===d){var $k=b[32],al=Fo(0);b[32]=al;c=b;c[1]=r(al)?14:15;return R}if(2===d){var ga=b[14],N=b[17],F=b[18],Aa=b[20],Ka=b[22],db=b[24],bl=b[2],cl=yo(sh),dl=jo(cl),el=[16,16],fl=new J(null,2,5,L,el,null),dg=sp(fl),eg=np(),fg=up(dg,eg),gl=[ci,null],hl=new La(null,1,gl,null),il=new vg(null,hl,null),Ce=vp(fg,ad([gi,1,xm,0,Vj,0,mh,il],0)),Xh=mo(Nl,ad([gi,1,Mk,0,fh,0],0)),Yh=un(null),Y=function(){return function(a,
b,c,d,e,f){return function(a){var b;a=d.worldTransform.applyInverse(a.data.global);b=new J(null,2,5,L,[a.x,a.y],null);a=H(b,0,null);b=H(b,1,null);return yn(f,new J(null,2,5,L,[a/16|0,b/16|0],null))}}(dg,eg,fg,Ce,Xh,Yh,ga,N,F,Aa,Ka,db,bl,cl,dl,L,el,fl,dg,eg,fg,gl,hl,il,Ce,Xh,Yh,d,a)}(),Up=new PIXI.Rectangle(0,0,1E3,1E3),Vp=Ce.hitArea=Up,Wp=Ce.interactive=!0,Xp=Cj instanceof I;b[14]=dg;b[15]=Y;b[17]=Xh;b[18]=Ce;b[20]=Yh;b[33]=Vp;b[22]=eg;b[34]=dl;b[24]=fg;b[35]=Wp;b[36]=bl;c=b;c[1]=r(Xp)?3:4;return R}if(23===
d){var jl=c=b;jl[2]=0;jl[1]=25;return R}if(35===d){var kl=c=b;kl[2]=0;kl[1]=37;return R}if(19===d){var Yp=b[2],ll=c=b;ll[2]=Yp;ll[1]=16;return R}if(11===d){var ga=b[14],Y=b[15],P=b[16],N=b[17],F=b[18],ta=b[19],Aa=b[20],Ka=b[22],db=b[24],ml=pn(b),Zh=ta.addChild(P),$h=un(1),nl=function(){return function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,V){return function(){var T=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof
Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a,b,c,d,e,f,g,h){return function(a){var b=a[1];if(1===b)return a[2]=null,a[1]=2,R;if(2===b)return a[1]=4,R;if(3===b)return nn(a,
a[2]);if(4===b)return b=Qn(),mn(a,7,b);if(5===b)return a[2]=null,a[1]=6,R;if(6===b)return a[2]=a[2],a[1]=3,R;if(7===b){var b=a[2],c=wp(d,new J(null,2,5,L,[0,2],null),h,wi),e=wp(d,new J(null,2,5,L,[1,2],null),h,zj),f=wp(d,new J(null,2,5,L,[0,3],null),h,Ti),g=wp(d,new J(null,2,5,L,[1,3],null),h,Vi),l=Qn();a[7]=f;a[8]=e;a[9]=b;a[10]=c;a[11]=g;return mn(a,8,l)}return 8===b?(b=a[2],c=wp(d,new J(null,2,5,L,[0,2],null),h,Ij),e=wp(d,new J(null,2,5,L,[1,2],null),h,uj),f=wp(d,new J(null,2,5,L,[0,3],null),h,
Eh),g=wp(d,new J(null,2,5,L,[1,3],null),h,Bj),a[12]=c,a[13]=e,a[14]=b,a[15]=g,a[16]=f,a[2]=null,a[1]=2,R):null}}(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,V),a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,V)}(),X=function(){var a=T.j?T.j():T.call(null);a[6]=f;return a}();return ln(X)}}(Aa,Y,F,db,Ka,$h,P,ga,ta,N,ga,Y,P,N,F,ta,Aa,Ka,db,ml,Zh,$h,d,a)}(),ol=Zm(nl),pl=un(1),Zp=Zm(function(){return function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,T,V,X,F){return function(){var Y=function(){return function(a){return function(){function b(c){for(;;){var d;
a:try{for(;;){var e=a(c);if(!$d(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,qn(c),d=R;else throw f;}if(!$d(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,
E,K,N,P,Q,T,V,X,Y){return function(F){var O=F[1];if(7===O){var M=F[7],M=F[8],W=F[2],S=C.b?C.b(yp):C.call(null,yp),S=Ji.b(S),S=bo(S,.0625),ba=eo(S),S=H(ba,0,null),ba=H(ba,1,null),M=mp(M,new J(null,2,5,L,[S|0,ba|0],null),W);F[7]=M;F[1]=r(M)?8:9;return R}return 20===O?(F[2]=null,F[1]=21,R):1===O?(F[2]=null,F[1]=2,R):4===O?(F[8]=function(){return function(a,b,c,d,e,f){return function(a){var b=H(a,0,null);a=H(a,1,null);return zd((new vg(null,new La(null,4,[nh,null,Dl,null,Ml,null,im,null],null),null)).call(null,
We(f,new J(null,2,5,L,[a,b],null))))}}(O,a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,T,V,X,Y)}(),mn(F,7,a)):15===O?(M=Pn(),mn(F,18,M)):21===O?(F[2]=F[2],F[1]=12,R):13===O?(M=F[9],W=Ue(Od,M),M=H(W,0,null),W=H(W,1,null),S=C.b?C.b(yp):C.call(null,yp),S=Ji.b(S),S=bo(S,.0625),ba=Ue(Od,eo(S)),S=H(ba,0,null),ba=H(ba,1,null),M=!Ac.a(S,M),W=!Ac.a(ba,W),F[1]=r(M||W)?15:16,R):6===O?(F[2]=F[2],F[1]=3,R):17===O?(F[2]=F[2],F[1]=14,R):3===O?nn(F,F[2]):12===O?(W=F[2],M=Ne.w(yp,kd,Oj,null),F[10]=W,F[2]=M,F[1]=10,
R):2===O?(F[1]=4,R):19===O?(M=F[11],F[12]=M,F[2]=null,F[1]=11,R):11===O?(M=F[9],M=F[12],M=y(M),W=z(M),M=B(M),S=Ne.w(yp,kd,Oj,W),F[9]=W,F[13]=S,F[11]=M,F[2]=null,F[1]=13,R):9===O?(F[2]=null,F[1]=10,R):5===O?(F[2]=null,F[1]=6,R):14===O?(M=F[11],W=F[2],M=y(M),F[14]=W,F[1]=M?19:20,R):16===O?(F[2]=null,F[1]=17,R):10===O?(F[15]=F[2],F[2]=null,F[1]=2,R):18===O?(F[16]=F[2],F[2]=null,F[1]=13,R):8===O?(M=F[7],S=y(M),W=z(S),S=B(S),F[17]=S,F[18]=W,F[12]=M,F[2]=null,F[1]=11,R):null}}(a,b,c,d,e,f,g,h,l,m,n,p,q,
u,v,w,A,D,E,K,N,P,Q,T,V,X,F),a,b,c,d,e,f,g,h,l,m,n,p,q,u,v,w,A,D,E,K,N,P,Q,T,V,X,F)}(),O=function(){var a=Y.j?Y.j():Y.call(null);a[6]=f;return a}();return ln(O)}}(Aa,Y,F,db,Ka,pl,P,ga,ta,N,ga,Y,P,N,F,ta,Aa,Ka,db,ml,Zh,$h,nl,ol,pl,d,a)}()),$p=U.a?U.a(50,50):U.call(null,50,50),aq=Yn.j?Yn.j():Yn.call(null),v=$p,S=aq;b[37]=Zp;b[38]=ol;b[39]=Zh;b[13]=S;b[8]=v;var ql=c=b;ql[2]=null;ql[1]=12;return R}if(9===d){var bq=b[2];c=b;return nn(c,bq)}if(5===d){Y=b[15];N=b[17];F=b[18];ta=b[2];P=uo.o(ad([uh,new J(null,
2,5,L,[F,N],null),Sl,Y,km,Y,gi,3],0));b[16]=P;b[19]=ta;var rl=c=b;rl[2]=null;rl[1]=11;return R}if(14===d){var $k=b[32],sl=c=b;sl[2]=$k;sl[1]=16;return R}if(45===d){var N=b[17],cq=po(N,Nl),dq=N.scale=lo(1,1);b[40]=cq;var tl=c=b;tl[2]=dq;tl[1]=41;return R}if(26===d){var ul=b[41],vl=c=b;vl[2]=ul;vl[1]=28;return R}if(16===d){var ul=b[41],bg=b[2],wl=Fo(1);b[41]=wl;b[31]=bg;c=b;c[1]=r(wl)?26:27;return R}if(38===d){var eq=Yn.j?Yn.j():Yn.call(null),xl=c=b;xl[2]=eq;xl[1]=40;return R}if(30===d){var fq=Nn(rh);
c=b;c[1]=r(fq)?32:33;return R}if(10===d){var P=b[16],ta=b[19],gq=b[2],hq=ta.removeChild(P);b[42]=hq;b[43]=gq;c=b;qn(c);return R}if(18===d){var iq=Nn(pk);c=b;c[1]=r(iq)?20:21;return R}if(42===d){var N=b[17],jq=po(N,li),kq=N.scale=lo(-1,1);b[44]=jq;var yl=c=b;yl[2]=kq;yl[1]=41;return R}if(37===d){var lq=b[2],zl=c=b;zl[2]=lq;zl[1]=34;return R}if(8===d){var mq=b[2],Al=c=b;Al[2]=mq;Al[1]=5;return R}return null}}(a),a)}(),d=function(){var d=b.j?b.j():b.call(null);d[6]=a;return d}();return ln(d)}}(b));return b}();
})();
